var Ek=Object.defineProperty;var WU=r=>{throw TypeError(r)};var Sk=(r,t,e)=>t in r?Ek(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Wt=(r,t,e)=>Sk(r,typeof t!="symbol"?t+"":t,e),xx=(r,t,e)=>t.has(r)||WU("Cannot "+e);var d=(r,t,e)=>(xx(r,t,"read from private field"),e?e.call(r):t.get(r)),O=(r,t,e)=>t.has(r)?WU("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),N=(r,t,e,n)=>(xx(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),P=(r,t,e)=>(xx(r,t,"access private method"),e);var Ir=(r,t,e,n)=>({set _(i){N(r,t,i,e)},get _(){return d(r,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const A of s.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();var dV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function QN(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),e}var Ex={exports:{}},Ew={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $U;function _k(){if($U)return Ew;$U=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,i,s){var A=null;if(s!==void 0&&(A=""+s),i.key!==void 0&&(A=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:r,type:n,key:A,ref:i!==void 0?i:null,props:s}}return Ew.Fragment=t,Ew.jsx=e,Ew.jsxs=e,Ew}var JU;function Fk(){return JU||(JU=1,Ex.exports=_k()),Ex.exports}var U=Fk(),Sx={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZU;function Uk(){if(ZU)return je;ZU=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),A=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),w=Symbol.iterator;function v(st){return st===null||typeof st!="object"?null:(st=w&&st[w]||st["@@iterator"],typeof st=="function"?st:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,F={};function S(st,I,X){this.props=st,this.context=I,this.refs=F,this.updater=X||x}S.prototype.isReactComponent={},S.prototype.setState=function(st,I){if(typeof st!="object"&&typeof st!="function"&&st!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,st,I,"setState")},S.prototype.forceUpdate=function(st){this.updater.enqueueForceUpdate(this,st,"forceUpdate")};function L(){}L.prototype=S.prototype;function T(st,I,X){this.props=st,this.context=I,this.refs=F,this.updater=X||x}var k=T.prototype=new L;k.constructor=T,B(k,S.prototype),k.isPureReactComponent=!0;var R=Array.isArray;function M(){}var j={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function et(st,I,X){var nt=X.ref;return{$$typeof:r,type:st,key:I,ref:nt!==void 0?nt:null,props:X}}function ut(st,I){return et(st.type,I,st.props)}function H(st){return typeof st=="object"&&st!==null&&st.$$typeof===r}function G(st){var I={"=":"=0",":":"=2"};return"$"+st.replace(/[=:]/g,function(X){return I[X]})}var tt=/\/+/g;function it(st,I){return typeof st=="object"&&st!==null&&st.key!=null?G(""+st.key):I.toString(36)}function mt(st){switch(st.status){case"fulfilled":return st.value;case"rejected":throw st.reason;default:switch(typeof st.status=="string"?st.then(M,M):(st.status="pending",st.then(function(I){st.status==="pending"&&(st.status="fulfilled",st.value=I)},function(I){st.status==="pending"&&(st.status="rejected",st.reason=I)})),st.status){case"fulfilled":return st.value;case"rejected":throw st.reason}}throw st}function q(st,I,X,nt,at){var ht=typeof st;(ht==="undefined"||ht==="boolean")&&(st=null);var gt=!1;if(st===null)gt=!0;else switch(ht){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(st.$$typeof){case r:case t:gt=!0;break;case f:return gt=st._init,q(gt(st._payload),I,X,nt,at)}}if(gt)return at=at(st),gt=nt===""?"."+it(st,0):nt,R(at)?(X="",gt!=null&&(X=gt.replace(tt,"$&/")+"/"),q(at,I,X,"",function(qt){return qt})):at!=null&&(H(at)&&(at=ut(at,X+(at.key==null||st&&st.key===at.key?"":(""+at.key).replace(tt,"$&/")+"/")+gt)),I.push(at)),1;gt=0;var ft=nt===""?".":nt+":";if(R(st))for(var Ct=0;Ct<st.length;Ct++)nt=st[Ct],ht=ft+it(nt,Ct),gt+=q(nt,I,X,ht,at);else if(Ct=v(st),typeof Ct=="function")for(st=Ct.call(st),Ct=0;!(nt=st.next()).done;)nt=nt.value,ht=ft+it(nt,Ct++),gt+=q(nt,I,X,ht,at);else if(ht==="object"){if(typeof st.then=="function")return q(mt(st),I,X,nt,at);throw I=String(st),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(st).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return gt}function rt(st,I,X){if(st==null)return st;var nt=[],at=0;return q(st,nt,"","",function(ht){return I.call(X,ht,at++)}),nt}function lt(st){if(st._status===-1){var I=st._result;I=I(),I.then(function(X){(st._status===0||st._status===-1)&&(st._status=1,st._result=X)},function(X){(st._status===0||st._status===-1)&&(st._status=2,st._result=X)}),st._status===-1&&(st._status=0,st._result=I)}if(st._status===1)return st._result.default;throw st._result}var yt=typeof reportError=="function"?reportError:function(st){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof st=="object"&&st!==null&&typeof st.message=="string"?String(st.message):String(st),error:st});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",st);return}console.error(st)},Et={map:rt,forEach:function(st,I,X){rt(st,function(){I.apply(this,arguments)},X)},count:function(st){var I=0;return rt(st,function(){I++}),I},toArray:function(st){return rt(st,function(I){return I})||[]},only:function(st){if(!H(st))throw Error("React.Children.only expected to receive a single React element child.");return st}};return je.Activity=p,je.Children=Et,je.Component=S,je.Fragment=e,je.Profiler=i,je.PureComponent=T,je.StrictMode=n,je.Suspense=c,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,je.__COMPILER_RUNTIME={__proto__:null,c:function(st){return j.H.useMemoCache(st)}},je.cache=function(st){return function(){return st.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(st,I,X){if(st==null)throw Error("The argument must be a React element, but you passed "+st+".");var nt=B({},st.props),at=st.key;if(I!=null)for(ht in I.key!==void 0&&(at=""+I.key),I)!V.call(I,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&I.ref===void 0||(nt[ht]=I[ht]);var ht=arguments.length-2;if(ht===1)nt.children=X;else if(1<ht){for(var gt=Array(ht),ft=0;ft<ht;ft++)gt[ft]=arguments[ft+2];nt.children=gt}return et(st.type,at,nt)},je.createContext=function(st){return st={$$typeof:A,_currentValue:st,_currentValue2:st,_threadCount:0,Provider:null,Consumer:null},st.Provider=st,st.Consumer={$$typeof:s,_context:st},st},je.createElement=function(st,I,X){var nt,at={},ht=null;if(I!=null)for(nt in I.key!==void 0&&(ht=""+I.key),I)V.call(I,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(at[nt]=I[nt]);var gt=arguments.length-2;if(gt===1)at.children=X;else if(1<gt){for(var ft=Array(gt),Ct=0;Ct<gt;Ct++)ft[Ct]=arguments[Ct+2];at.children=ft}if(st&&st.defaultProps)for(nt in gt=st.defaultProps,gt)at[nt]===void 0&&(at[nt]=gt[nt]);return et(st,ht,at)},je.createRef=function(){return{current:null}},je.forwardRef=function(st){return{$$typeof:l,render:st}},je.isValidElement=H,je.lazy=function(st){return{$$typeof:f,_payload:{_status:-1,_result:st},_init:lt}},je.memo=function(st,I){return{$$typeof:h,type:st,compare:I===void 0?null:I}},je.startTransition=function(st){var I=j.T,X={};j.T=X;try{var nt=st(),at=j.S;at!==null&&at(X,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(M,yt)}catch(ht){yt(ht)}finally{I!==null&&X.types!==null&&(I.types=X.types),j.T=I}},je.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},je.use=function(st){return j.H.use(st)},je.useActionState=function(st,I,X){return j.H.useActionState(st,I,X)},je.useCallback=function(st,I){return j.H.useCallback(st,I)},je.useContext=function(st){return j.H.useContext(st)},je.useDebugValue=function(){},je.useDeferredValue=function(st,I){return j.H.useDeferredValue(st,I)},je.useEffect=function(st,I){return j.H.useEffect(st,I)},je.useEffectEvent=function(st){return j.H.useEffectEvent(st)},je.useId=function(){return j.H.useId()},je.useImperativeHandle=function(st,I,X){return j.H.useImperativeHandle(st,I,X)},je.useInsertionEffect=function(st,I){return j.H.useInsertionEffect(st,I)},je.useLayoutEffect=function(st,I){return j.H.useLayoutEffect(st,I)},je.useMemo=function(st,I){return j.H.useMemo(st,I)},je.useOptimistic=function(st,I){return j.H.useOptimistic(st,I)},je.useReducer=function(st,I,X){return j.H.useReducer(st,I,X)},je.useRef=function(st){return j.H.useRef(st)},je.useState=function(st){return j.H.useState(st)},je.useSyncExternalStore=function(st,I,X){return j.H.useSyncExternalStore(st,I,X)},je.useTransition=function(){return j.H.useTransition()},je.version="19.2.0",je}var t3;function Y_(){return t3||(t3=1,Sx.exports=Uk()),Sx.exports}var It=Y_();const Lk=X_(It);var _x={exports:{}},Sw={},Fx={exports:{}},Ux={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3;function Nk(){return e3||(e3=1,(function(r){function t(q,rt){var lt=q.length;q.push(rt);t:for(;0<lt;){var yt=lt-1>>>1,Et=q[yt];if(0<i(Et,rt))q[yt]=rt,q[lt]=Et,lt=yt;else break t}}function e(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var rt=q[0],lt=q.pop();if(lt!==rt){q[0]=lt;t:for(var yt=0,Et=q.length,st=Et>>>1;yt<st;){var I=2*(yt+1)-1,X=q[I],nt=I+1,at=q[nt];if(0>i(X,lt))nt<Et&&0>i(at,X)?(q[yt]=at,q[nt]=lt,yt=nt):(q[yt]=X,q[I]=lt,yt=I);else if(nt<Et&&0>i(at,lt))q[yt]=at,q[nt]=lt,yt=nt;else break t}}return rt}function i(q,rt){var lt=q.sortIndex-rt.sortIndex;return lt!==0?lt:q.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var A=Date,l=A.now();r.unstable_now=function(){return A.now()-l}}var c=[],h=[],f=1,p=null,w=3,v=!1,x=!1,B=!1,F=!1,S=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function k(q){for(var rt=e(h);rt!==null;){if(rt.callback===null)n(h);else if(rt.startTime<=q)n(h),rt.sortIndex=rt.expirationTime,t(c,rt);else break;rt=e(h)}}function R(q){if(B=!1,k(q),!x)if(e(c)!==null)x=!0,M||(M=!0,G());else{var rt=e(h);rt!==null&&mt(R,rt.startTime-q)}}var M=!1,j=-1,V=5,et=-1;function ut(){return F?!0:!(r.unstable_now()-et<V)}function H(){if(F=!1,M){var q=r.unstable_now();et=q;var rt=!0;try{t:{x=!1,B&&(B=!1,L(j),j=-1),v=!0;var lt=w;try{e:{for(k(q),p=e(c);p!==null&&!(p.expirationTime>q&&ut());){var yt=p.callback;if(typeof yt=="function"){p.callback=null,w=p.priorityLevel;var Et=yt(p.expirationTime<=q);if(q=r.unstable_now(),typeof Et=="function"){p.callback=Et,k(q),rt=!0;break e}p===e(c)&&n(c),k(q)}else n(c);p=e(c)}if(p!==null)rt=!0;else{var st=e(h);st!==null&&mt(R,st.startTime-q),rt=!1}}break t}finally{p=null,w=lt,v=!1}rt=void 0}}finally{rt?G():M=!1}}}var G;if(typeof T=="function")G=function(){T(H)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,it=tt.port2;tt.port1.onmessage=H,G=function(){it.postMessage(null)}}else G=function(){S(H,0)};function mt(q,rt){j=S(function(){q(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(q){switch(w){case 1:case 2:case 3:var rt=3;break;default:rt=w}var lt=w;w=rt;try{return q()}finally{w=lt}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(q,rt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var lt=w;w=q;try{return rt()}finally{w=lt}},r.unstable_scheduleCallback=function(q,rt,lt){var yt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?yt+lt:yt):lt=yt,q){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=lt+Et,q={id:f++,callback:rt,priorityLevel:q,startTime:lt,expirationTime:Et,sortIndex:-1},lt>yt?(q.sortIndex=lt,t(h,q),e(c)===null&&q===e(h)&&(B?(L(j),j=-1):B=!0,mt(R,lt-yt))):(q.sortIndex=Et,t(c,q),x||v||(x=!0,M||(M=!0,G()))),q},r.unstable_shouldYield=ut,r.unstable_wrapCallback=function(q){var rt=w;return function(){var lt=w;w=rt;try{return q.apply(this,arguments)}finally{w=lt}}}})(Ux)),Ux}var n3;function Tk(){return n3||(n3=1,Fx.exports=Nk()),Fx.exports}var Lx={exports:{}},Os={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3;function Qk(){if(i3)return Os;i3=1;var r=Y_();function t(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:h,implementation:f}}var A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Os.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Os.createPortal=function(c,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(c,h,null,f)},Os.flushSync=function(c){var h=A.T,f=n.p;try{if(A.T=null,n.p=2,c)return c()}finally{A.T=h,n.p=f,n.d.f()}},Os.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(c,h))},Os.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Os.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:w,fetchPriority:v}):f==="script"&&n.d.X(c,{crossOrigin:p,integrity:w,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Os.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);n.d.M(c,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(c)},Os.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin);n.d.L(c,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Os.preloadModule=function(c,h){if(typeof c=="string")if(h){var f=l(h.as,h.crossOrigin);n.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(c)},Os.requestFormReset=function(c){n.d.r(c)},Os.unstable_batchedUpdates=function(c,h){return c(h)},Os.useFormState=function(c,h,f){return A.H.useFormState(c,h,f)},Os.useFormStatus=function(){return A.H.useHostTransitionStatus()},Os.version="19.2.0",Os}var r3;function Ik(){if(r3)return Lx.exports;r3=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Lx.exports=Qk(),Lx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s3;function Dk(){if(s3)return Sw;s3=1;var r=Tk(),t=Y_(),e=Ik();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function A(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function l(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(n(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var u=a,g=o;;){var y=u.return;if(y===null)break;var C=y.alternate;if(C===null){if(g=y.return,g!==null){u=g;continue}break}if(y.child===C.child){for(C=y.child;C;){if(C===u)return c(y),a;if(C===g)return c(y),o;C=C.sibling}throw Error(n(188))}if(u.return!==g.return)u=y,g=C;else{for(var D=!1,J=y.child;J;){if(J===u){D=!0,u=y,g=C;break}if(J===g){D=!0,g=y,u=C;break}J=J.sibling}if(!D){for(J=C.child;J;){if(J===u){D=!0,u=C,g=y;break}if(J===g){D=!0,g=C,u=y;break}J=J.sibling}if(!D)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:o}function f(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=f(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,w=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),et=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var tt=Symbol.for("react.client.reference");function it(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===tt?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case B:return"Fragment";case S:return"Profiler";case F:return"StrictMode";case R:return"Suspense";case M:return"SuspenseList";case et:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case T:return a.displayName||"Context";case L:return(a._context.displayName||"Context")+".Consumer";case k:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return o=a.displayName||null,o!==null?o:it(a.type)||"Memo";case V:o=a._payload,a=a._init;try{return it(a(o))}catch{}}return null}var mt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},yt=[],Et=-1;function st(a){return{current:a}}function I(a){0>Et||(a.current=yt[Et],yt[Et]=null,Et--)}function X(a,o){Et++,yt[Et]=a.current,a.current=o}var nt=st(null),at=st(null),ht=st(null),gt=st(null);function ft(a,o){switch(X(ht,o),X(at,a),X(nt,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?vU(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=vU(o),a=yU(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}I(nt),X(nt,a)}function Ct(){I(nt),I(at),I(ht)}function qt(a){a.memoizedState!==null&&X(gt,a);var o=nt.current,u=yU(o,a.type);o!==u&&(X(at,a),X(nt,u))}function jt(a){at.current===a&&(I(nt),I(at)),gt.current===a&&(I(gt),bw._currentValue=lt)}var Zt,$t;function Gt(a){if(Zt===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Zt=o&&o[1]||"",$t=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+a+$t}var Ut=!1;function ot(a,o){if(!a||Ut)return"";Ut=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var zt=function(){throw Error()};if(Object.defineProperty(zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(zt,[])}catch(Dt){var Qt=Dt}Reflect.construct(a,[],zt)}else{try{zt.call()}catch(Dt){Qt=Dt}a.call(zt.prototype)}}else{try{throw Error()}catch(Dt){Qt=Dt}(zt=a())&&typeof zt.catch=="function"&&zt.catch(function(){})}}catch(Dt){if(Dt&&Qt&&typeof Dt.stack=="string")return[Dt.stack,Qt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),D=C[0],J=C[1];if(D&&J){var dt=D.split(`
`),Tt=J.split(`
`);for(y=g=0;g<dt.length&&!dt[g].includes("DetermineComponentFrameRoot");)g++;for(;y<Tt.length&&!Tt[y].includes("DetermineComponentFrameRoot");)y++;if(g===dt.length||y===Tt.length)for(g=dt.length-1,y=Tt.length-1;1<=g&&0<=y&&dt[g]!==Tt[y];)y--;for(;1<=g&&0<=y;g--,y--)if(dt[g]!==Tt[y]){if(g!==1||y!==1)do if(g--,y--,0>y||dt[g]!==Tt[y]){var Rt=`
`+dt[g].replace(" at new "," at ");return a.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",a.displayName)),Rt}while(1<=g&&0<=y);break}}}finally{Ut=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Gt(u):""}function le(a,o){switch(a.tag){case 26:case 27:case 5:return Gt(a.type);case 16:return Gt("Lazy");case 13:return a.child!==o&&o!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return ot(a.type,!1);case 11:return ot(a.type.render,!1);case 1:return ot(a.type,!0);case 31:return Gt("Activity");default:return""}}function ee(a){try{var o="",u=null;do o+=le(a,u),u=a,a=a.return;while(a);return o}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Vt=Object.prototype.hasOwnProperty,Jt=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,te=r.unstable_shouldYield,me=r.unstable_requestPaint,Ce=r.unstable_now,Ve=r.unstable_getCurrentPriorityLevel,We=r.unstable_ImmediatePriority,dn=r.unstable_UserBlockingPriority,Sn=r.unstable_NormalPriority,ke=r.unstable_LowPriority,tn=r.unstable_IdlePriority,Ae=r.log,jr=r.unstable_setDisableYieldValue,rn=null,bi=null;function fn(a){if(typeof Ae=="function"&&jr(a),bi&&typeof bi.setStrictMode=="function")try{bi.setStrictMode(rn,a)}catch{}}var sn=Math.clz32?Math.clz32:Tc,jA=Math.log,Un=Math.LN2;function Tc(a){return a>>>=0,a===0?32:31-(jA(a)/Un|0)|0}var ni=256,Us=262144,ma=4194304;function On(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Oe(a,o,u){var g=a.pendingLanes;if(g===0)return 0;var y=0,C=a.suspendedLanes,D=a.pingedLanes;a=a.warmLanes;var J=g&134217727;return J!==0?(g=J&~C,g!==0?y=On(g):(D&=J,D!==0?y=On(D):u||(u=J&~a,u!==0&&(y=On(u))))):(J=g&~C,J!==0?y=On(J):D!==0?y=On(D):u||(u=g&~a,u!==0&&(y=On(u)))),y===0?0:o!==0&&o!==y&&(o&C)===0&&(C=y&-y,u=o&-o,C>=u||C===32&&(u&4194048)!==0)?o:y}function gn(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Qc(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(){var a=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),a}function wa(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Ls(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Fe(a,o,u,g,y,C){var D=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var J=a.entanglements,dt=a.expirationTimes,Tt=a.hiddenUpdates;for(u=D&~u;0<u;){var Rt=31-sn(u),zt=1<<Rt;J[Rt]=0,dt[Rt]=-1;var Qt=Tt[Rt];if(Qt!==null)for(Tt[Rt]=null,Rt=0;Rt<Qt.length;Rt++){var Dt=Qt[Rt];Dt!==null&&(Dt.lane&=-536870913)}u&=~zt}g!==0&&va(a,g,0),C!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=C&~(D&~o))}function va(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var g=31-sn(o);a.entangledLanes|=o,a.entanglements[g]=a.entanglements[g]|1073741824|u&261930}function tA(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var g=31-sn(u),y=1<<g;y&o|a[g]&o&&(a[g]|=o),u&=~y}}function cs(a,o){var u=o&-o;return u=(u&42)!==0?1:Ri(u),(u&(a.suspendedLanes|o))!==0?0:u}function Ri(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function _i(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ns(){var a=rt.p;return a!==0?a:(a=window.event,a===void 0?32:KU(a.type))}function Ic(a,o){var u=rt.p;try{return rt.p=a,o()}finally{rt.p=u}}var Kr=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Kr,hi="__reactProps$"+Kr,zr="__reactContainer$"+Kr,ya="__reactEvents$"+Kr,ba="__reactListeners$"+Kr,KA="__reactHandles$"+Kr,ml="__reactResources$"+Kr,zA="__reactMarker$"+Kr;function wl(a){delete a[Hn],delete a[hi],delete a[ya],delete a[ba],delete a[KA]}function eA(a){var o=a[Hn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[zr]||u[Hn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=_U(a);a!==null;){if(u=a[Hn])return u;a=_U(a)}return o}a=u,u=a.parentNode}return null}function nA(a){if(a=a[Hn]||a[zr]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function vl(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function yl(a){var o=a[ml];return o||(o=a[ml]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function qi(a){a[zA]=!0}var Dc=new Set,pf={};function So(a,o){GA(a,o),GA(a+"Capture",o)}function GA(a,o){for(pf[a]=o,a=0;a<o.length;a++)Dc.add(o[a])}var K1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mf={},Ip={};function ah(a){return Vt.call(Ip,a)?!0:Vt.call(mf,a)?!1:K1.test(a)?Ip[a]=!0:(mf[a]=!0,!1)}function Ah(a,o,u){if(ah(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function di(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Ba(a,o,u,g){if(g===null)a.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+g)}}function us(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function wf(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vf(a,o,u){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var y=g.get,C=g.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(D){u=""+D,C.call(this,D)}}),Object.defineProperty(a,o,{enumerable:g.enumerable}),{getValue:function(){return u},setValue:function(D){u=""+D},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function yf(a){if(!a._valueTracker){var o=wf(a)?"checked":"value";a._valueTracker=vf(a,o,""+a[o])}}function Ca(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),g="";return a&&(g=wf(a)?a.checked?"true":"false":a.value),a=g,a!==u?(o.setValue(a),!0):!1}function _o(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ts=/[\n"\\]/g;function Gr(a){return a.replace(Ts,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function oh(a,o,u,g,y,C,D,J){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),o!=null?D==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+us(o)):a.value!==""+us(o)&&(a.value=""+us(o)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),o!=null?lh(a,D,us(o)):u!=null?lh(a,D,us(u)):g!=null&&a.removeAttribute("value"),y==null&&C!=null&&(a.defaultChecked=!!C),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?a.name=""+us(J):a.removeAttribute("name")}function Dp(a,o,u,g,y,C,D,J){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),o!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||o!=null)){yf(a);return}u=u!=null?""+us(u):"",o=o!=null?""+us(o):u,J||o===a.value||(a.value=o),a.defaultValue=o}g=g??y,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=J?a.checked:!!g,a.defaultChecked=!!g,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D),yf(a)}function lh(a,o,u){o==="number"&&_o(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function bl(a,o,u,g){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&g&&(a[u].defaultSelected=!0)}else{for(u=""+us(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,g&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function bf(a,o,u){if(o!=null&&(o=""+us(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+us(u):""}function kp(a,o,u,g){if(o==null){if(g!=null){if(u!=null)throw Error(n(92));if(mt(g)){if(1<g.length)throw Error(n(93));g=g[0]}u=g}u==null&&(u=""),o=u}u=us(o),a.defaultValue=u,g=a.textContent,g===u&&g!==""&&g!==null&&(a.value=g),yf(a)}function VA(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var z1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Op(a,o,u){var g=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?g?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":g?a.setProperty(o,u):typeof u!="number"||u===0||z1.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Rp(a,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,u!=null){for(var g in u)!u.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var y in o)g=o[y],o.hasOwnProperty(y)&&u[y]!==g&&Op(a,y,g)}else for(var C in o)o.hasOwnProperty(C)&&Op(a,C,o[C])}function iA(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kc(a){return uh.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function fi(){}var Bf=null;function hh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ue=null,Bl=null;function Mp(a){var o=nA(a);if(o&&(a=o.stateNode)){var u=a[hi]||null;t:switch(a=o.stateNode,o.type){case"input":if(oh(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Gr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var g=u[o];if(g!==a&&g.form===a.form){var y=g[hi]||null;if(!y)throw Error(n(90));oh(g,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)g=u[o],g.form===a.form&&Ca(g)}break t;case"textarea":bf(a,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&bl(a,!!u.multiple,o,!1)}}}var xa=!1;function Cf(a,o,u){if(xa)return a(o,u);xa=!0;try{var g=a(o);return g}finally{if(xa=!1,(Ue!==null||Bl!==null)&&(qb(),Ue&&(o=Ue,a=Bl,Bl=Ue=null,Mp(o),a)))for(o=0;o<a.length;o++)Mp(a[o])}}function Cl(a,o){var u=a.stateNode;if(u===null)return null;var g=u[hi]||null;if(g===null)return null;u=g[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break t;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(Qs)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{Oc=!1}var qA=null,xf=null,xl=null;function El(){if(xl)return xl;var a,o=xf,u=o.length,g,y="value"in qA?qA.value:qA.textContent,C=y.length;for(a=0;a<u&&o[a]===y[a];a++);var D=u-a;for(g=1;g<=D&&o[u-g]===y[C-g];g++);return xl=y.slice(a,1<g?1-g:void 0)}function rA(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function dh(){return!0}function Sl(){return!1}function hr(a){function o(u,g,y,C,D){this._reactName=u,this._targetInst=y,this.type=g,this.nativeEvent=C,this.target=D,this.currentTarget=null;for(var J in a)a.hasOwnProperty(J)&&(u=a[J],this[J]=u?u(C):C[J]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?dh:Sl,this.isPropagationStopped=Sl,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=dh)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=dh)},persist:function(){},isPersistent:dh}),o}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=hr(Ea),_l=p({},Ea,{view:0,detail:0}),Hp=hr(_l),fh,Sa,Zs,gh=p({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Zs&&(Zs&&a.type==="mousemove"?(fh=a.screenX-Zs.screenX,Sa=a.screenY-Zs.screenY):Sa=fh=0,Zs=a),fh)},movementY:function(a){return"movementY"in a?a.movementY:Sa}}),Fo=hr(gh),sA=p({},gh,{dataTransfer:0}),Ef=hr(sA),Hc=p({},_l,{relatedTarget:0}),Sf=hr(Hc),ph=p({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),G1=hr(ph),_f=p({},Ea,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ff=hr(_f),Pp=p({},Ea,{data:0}),Pc=hr(Pp),Uf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V1(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=jp[a])?!!o[a]:!1}function Fl(){return V1}var jc=p({},_l,{key:function(a){if(a.key){var o=Uf[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=rA(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Lf[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(a){return a.type==="keypress"?rA(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?rA(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Nf=hr(jc),Ul=p({},gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mh=hr(Ul),E=p({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),z=hr(E),ct=p({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=hr(ct),_t=p({},gh,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ot=hr(_t),Yt=p({},Ea,{newState:0,oldState:0}),oe=hr(Yt),Ee=[9,13,27,32],Me=Qs&&"CompositionEvent"in window,Ie=null;Qs&&"documentMode"in document&&(Ie=document.documentMode);var pn=Qs&&"TextEvent"in window&&!Ie,gi=Qs&&(!Me||Ie&&8<Ie&&11>=Ie),Bi=" ",Mi=!1;function _r(a,o){switch(a){case"keyup":return Ee.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nr(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Vr=!1;function ta(a,o){switch(a){case"compositionend":return nr(o);case"keypress":return o.which!==32?null:(Mi=!0,Bi);case"textInput":return a=o.data,a===Bi&&Mi?null:a;default:return null}}function XA(a,o){if(Vr)return a==="compositionend"||!Me&&_r(a,o)?(a=El(),xl=xf=qA=null,Vr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return gi&&o.locale!=="ko"?null:o.data;default:return null}}var Kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wh(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Kp[a.type]:o==="textarea"}function vh(a,o,u,g){Ue?Bl?Bl.push(g):Bl=[g]:Ue=g,o=t2(o,"onChange"),0<o.length&&(u=new Mc("onChange","change",null,u,g),a.push({event:u,listeners:o}))}var YA=null,Uo=null;function Tf(a){dU(a,0)}function Lo(a){var o=vl(a);if(Ca(o))return a}function dr(a,o){if(a==="change")return o}var Kc=!1;if(Qs){var Ll;if(Qs){var Nl="oninput"in document;if(!Nl){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),Nl=typeof yh.oninput=="function"}Ll=Nl}else Ll=!1;Kc=Ll&&(!document.documentMode||9<document.documentMode)}function hs(){YA&&(YA.detachEvent("onpropertychange",zp),Uo=YA=null)}function zp(a){if(a.propertyName==="value"&&Lo(Uo)){var o=[];vh(o,Uo,a,hh(a)),Cf(Tf,o)}}function Qf(a,o,u){a==="focusin"?(hs(),YA=o,Uo=u,YA.attachEvent("onpropertychange",zp)):a==="focusout"&&hs()}function Gp(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Lo(Uo)}function _a(a,o){if(a==="click")return Lo(o)}function bh(a,o){if(a==="input"||a==="change")return Lo(o)}function Vp(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var qr=typeof Object.is=="function"?Object.is:Vp;function Fa(a,o){if(qr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),g=Object.keys(o);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var y=u[g];if(!Vt.call(o,y)||!qr(a[y],o[y]))return!1}return!0}function Tl(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ds(a,o){var u=Tl(a);a=0;for(var g;u;){if(u.nodeType===3){if(g=a+u.textContent.length,a<=o&&g>=o)return{node:u,offset:o-a};a=g}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Tl(u)}}function Xr(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Xr(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function No(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=_o(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=_o(a.document)}return o}function aA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var To=Qs&&"documentMode"in document&&11>=document.documentMode,AA=null,oA=null,ii=null,zc=!1;function Yr(a,o,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zc||AA==null||AA!==_o(g)||(g=AA,"selectionStart"in g&&aA(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ii&&Fa(ii,g)||(ii=g,g=t2(oA,"onSelect"),0<g.length&&(o=new Mc("onSelect","select",null,o,u),a.push({event:o,listeners:g}),o.target=AA)))}function fr(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var lA={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},Bh={},Ch={};Qs&&(Ch=document.createElement("div").style,"AnimationEvent"in window||(delete lA.animationend.animation,delete lA.animationiteration.animation,delete lA.animationstart.animation),"TransitionEvent"in window||delete lA.transitionend.transition);function ea(a){if(Bh[a])return Bh[a];if(!lA[a])return a;var o=lA[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in Ch)return Bh[a]=o[u];return a}var Ql=ea("animationend"),Qo=ea("animationiteration"),Il=ea("animationstart"),xh=ea("transitionrun"),Gc=ea("transitionstart"),Dl=ea("transitioncancel"),Eh=ea("transitionend"),na=new Map,Is="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Is.push("scrollEnd");function an(a,o){na.set(a,o),So(o,[a])}var Qn=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},xn=[],pi=0,cA=0;function kl(){for(var a=pi,o=cA=pi=0;o<a;){var u=xn[o];xn[o++]=null;var g=xn[o];xn[o++]=null;var y=xn[o];xn[o++]=null;var C=xn[o];if(xn[o++]=null,g!==null&&y!==null){var D=g.pending;D===null?y.next=y:(y.next=D.next,D.next=y),g.pending=y}C!==0&&If(u,y,C)}}function Io(a,o,u,g){xn[pi++]=a,xn[pi++]=o,xn[pi++]=u,xn[pi++]=g,cA|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Sh(a,o,u,g){return Io(a,o,u,g),Wr(a)}function Do(a,o){return Io(a,null,null,o),Wr(a)}function If(a,o,u){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u);for(var y=!1,C=a.return;C!==null;)C.childLanes|=u,g=C.alternate,g!==null&&(g.childLanes|=u),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(y=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,y&&o!==null&&(y=31-sn(u),a=C.hiddenUpdates,g=a[y],g===null?a[y]=[o]:g.push(o),o.lane=u|536870912),C):null}function Wr(a){if(50<fw)throw fw=0,XC=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Fr={};function qp(a,o,u,g){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(a,o,u,g){return new qp(a,o,u,g)}function Xp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ua(a,o){var u=a.alternate;return u===null?(u=$r(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Df(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function _h(a,o,u,g,y,C){var D=0;if(g=a,typeof a=="function")Xp(a)&&(D=1);else if(typeof a=="string")D=dk(a,u,nt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case et:return a=$r(31,u,o,y),a.elementType=et,a.lanes=C,a;case B:return Ol(u.children,y,C,o);case F:D=8,y|=24;break;case S:return a=$r(12,u,o,y|2),a.elementType=S,a.lanes=C,a;case R:return a=$r(13,u,o,y),a.elementType=R,a.lanes=C,a;case M:return a=$r(19,u,o,y),a.elementType=M,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:D=10;break t;case L:D=9;break t;case k:D=11;break t;case j:D=14;break t;case V:D=16,g=null;break t}D=29,u=Error(n(130,a===null?"null":typeof a,"")),g=null}return o=$r(D,u,o,y),o.elementType=a,o.type=g,o.lanes=C,o}function Ol(a,o,u,g){return a=$r(7,a,g,o),a.lanes=u,a}function kf(a,o,u){return a=$r(6,a,null,o),a.lanes=u,a}function Yp(a){var o=$r(18,null,null,0);return o.stateNode=a,o}function Fh(a,o,u){return o=$r(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var Wp=new WeakMap;function La(a,o){if(typeof a=="object"&&a!==null){var u=Wp.get(a);return u!==void 0?u:(o={value:a,source:o,stack:ee(o)},Wp.set(a,o),o)}return{value:a,source:o,stack:ee(o)}}var Uh=[],Vc=0,$p=null,Of=0,Na=[],Ta=0,Rl=null,Qa=1,Ia="";function ia(a,o){Uh[Vc++]=Of,Uh[Vc++]=$p,$p=a,Of=o}function Sb(a,o,u){Na[Ta++]=Qa,Na[Ta++]=Ia,Na[Ta++]=Rl,Rl=a;var g=Qa;a=Ia;var y=32-sn(g)-1;g&=~(1<<y),u+=1;var C=32-sn(o)+y;if(30<C){var D=y-y%5;C=(g&(1<<D)-1).toString(32),g>>=D,y-=D,Qa=1<<32-sn(o)+y|u<<y|g,Ia=C+a}else Qa=1<<C|u<<y|g,Ia=a}function q1(a){a.return!==null&&(ia(a,1),Sb(a,1,0))}function Jp(a){for(;a===$p;)$p=Uh[--Vc],Uh[Vc]=null,Of=Uh[--Vc],Uh[Vc]=null;for(;a===Rl;)Rl=Na[--Ta],Na[Ta]=null,Ia=Na[--Ta],Na[Ta]=null,Qa=Na[--Ta],Na[Ta]=null}function _b(a,o){Na[Ta++]=Qa,Na[Ta++]=Ia,Na[Ta++]=Rl,Qa=o.id,Ia=o.overflow,Rl=a}var Ur=null,ri=null,ln=!1,fs=null,Fi=!1,uA=Error(n(519));function Ml(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lh(La(o,a)),uA}function X1(a){var o=a.stateNode,u=a.type,g=a.memoizedProps;switch(o[Hn]=a,o[hi]=g,u){case"dialog":hn("cancel",o),hn("close",o);break;case"iframe":case"object":case"embed":hn("load",o);break;case"video":case"audio":for(u=0;u<pw.length;u++)hn(pw[u],o);break;case"source":hn("error",o);break;case"img":case"image":case"link":hn("error",o),hn("load",o);break;case"details":hn("toggle",o);break;case"input":hn("invalid",o),Dp(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":hn("invalid",o);break;case"textarea":hn("invalid",o),kp(o,g.value,g.defaultValue,g.children)}u=g.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||g.suppressHydrationWarning===!0||mU(o.textContent,u)?(g.popover!=null&&(hn("beforetoggle",o),hn("toggle",o)),g.onScroll!=null&&hn("scroll",o),g.onScrollEnd!=null&&hn("scrollend",o),g.onClick!=null&&(o.onclick=fi),o=!0):o=!1,o||Ml(a,!0)}function ko(a){for(Ur=a.return;Ur;)switch(Ur.tag){case 5:case 31:case 13:Fi=!1;return;case 27:case 3:Fi=!0;return;default:Ur=Ur.return}}function Lr(a){if(a!==Ur)return!1;if(!ln)return ko(a),ln=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||lx(a.type,a.memoizedProps)),u=!u),u&&ri&&Ml(a),ko(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));ri=SU(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));ri=SU(a)}else o===27?(o=ri,zh(a.type)?(a=fx,fx=null,ri=a):ri=o):ri=Ur?no(a.stateNode.nextSibling):null;return!0}function qc(){ri=Ur=null,ln=!1}function Y1(){var a=fs;return a!==null&&(Ha===null?Ha=a:Ha.push.apply(Ha,a),fs=null),a}function Lh(a){fs===null?fs=[a]:fs.push(a)}var Zp=st(null),Hl=null,WA=null;function Pl(a,o,u){X(Zp,o._currentValue),o._currentValue=u}function Da(a){a._currentValue=Zp.current,I(Zp)}function Nh(a,o,u){for(;a!==null;){var g=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),a===u)break;a=a.return}}function Xc(a,o,u,g){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var C=y.dependencies;if(C!==null){var D=y.child;C=C.firstContext;t:for(;C!==null;){var J=C;C=y;for(var dt=0;dt<o.length;dt++)if(J.context===o[dt]){C.lanes|=u,J=C.alternate,J!==null&&(J.lanes|=u),Nh(C.return,u,a),g||(D=null);break t}C=J.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(n(341));D.lanes|=u,C=D.alternate,C!==null&&(C.lanes|=u),Nh(D,u,a),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===a){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function jl(a,o,u,g){a=null;for(var y=o,C=!1;y!==null;){if(!C){if((y.flags&524288)!==0)C=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var J=y.type;qr(y.pendingProps.value,D.value)||(a!==null?a.push(J):a=[J])}}else if(y===gt.current){if(D=y.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(bw):a=[bw])}y=y.return}a!==null&&Xc(o,a,u,g),o.flags|=262144}function t0(a){for(a=a.firstContext;a!==null;){if(!qr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Kl(a){Hl=a,WA=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Nr(a){return Fb(Hl,a)}function e0(a,o){return Hl===null&&Kl(a),Fb(a,o)}function Fb(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},WA===null){if(a===null)throw Error(n(308));WA=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else WA=WA.next=o;return u}var dC=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,g){a.push(g)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},fC=r.unstable_scheduleCallback,gC=r.unstable_NormalPriority,Hi={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Th(){return{controller:new dC,data:new Map,refCount:0}}function Rf(a){a.refCount--,a.refCount===0&&fC(gC,function(){a.controller.abort()})}var Mf=null,n0=0,m=0,b=null;function _(a,o){if(Mf===null){var u=Mf=[];n0=0,m=tx(),b={status:"pending",value:void 0,then:function(g){u.push(g)}}}return n0++,o.then(Q,Q),o}function Q(){if(--n0===0&&Mf!==null){b!==null&&(b.status="fulfilled");var a=Mf;Mf=null,m=0,b=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function K(a,o){var u=[],g={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){g.status="fulfilled",g.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(g.status="rejected",g.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),g}var Y=q.S;q.S=function(a,o){PF=Ce(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&_(a,o),Y!==null&&Y(a,o)};var W=st(null);function $(){var a=W.current;return a!==null?a:ai.pooledCache}function Z(a,o){o===null?X(W,W.current):X(W,o.pool)}function At(){var a=$();return a===null?null:{parent:Hi._currentValue,pool:a}}var wt=Error(n(460)),Lt=Error(n(474)),Ft=Error(n(542)),xt={then:function(){}};function Kt(a){return a=a.status,a==="fulfilled"||a==="rejected"}function kt(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(fi,fi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Xt(a),a;default:if(typeof o.status=="string")o.then(fi,fi);else{if(a=ai,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(g){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=g}},function(g){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Xt(a),a}throw Bt=o,wt}}function vt(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Bt=u,wt):u}}var Bt=null;function Ht(){if(Bt===null)throw Error(n(459));var a=Bt;return Bt=null,a}function Xt(a){if(a===wt||a===Ft)throw Error(n(483))}var Mt=null,ae=0;function ne(a){var o=ae;return ae+=1,Mt===null&&(Mt=[]),kt(Mt,a,o)}function xe(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function re(a,o){throw o.$$typeof===w?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function En(a){function o(St,bt){if(a){var Nt=St.deletions;Nt===null?(St.deletions=[bt],St.flags|=16):Nt.push(bt)}}function u(St,bt){if(!a)return null;for(;bt!==null;)o(St,bt),bt=bt.sibling;return null}function g(St){for(var bt=new Map;St!==null;)St.key!==null?bt.set(St.key,St):bt.set(St.index,St),St=St.sibling;return bt}function y(St,bt){return St=Ua(St,bt),St.index=0,St.sibling=null,St}function C(St,bt,Nt){return St.index=Nt,a?(Nt=St.alternate,Nt!==null?(Nt=Nt.index,Nt<bt?(St.flags|=67108866,bt):Nt):(St.flags|=67108866,bt)):(St.flags|=1048576,bt)}function D(St){return a&&St.alternate===null&&(St.flags|=67108866),St}function J(St,bt,Nt,Pt){return bt===null||bt.tag!==6?(bt=kf(Nt,St.mode,Pt),bt.return=St,bt):(bt=y(bt,Nt),bt.return=St,bt)}function dt(St,bt,Nt,Pt){var Se=Nt.type;return Se===B?Rt(St,bt,Nt.props.children,Pt,Nt.key):bt!==null&&(bt.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===V&&vt(Se)===bt.type)?(bt=y(bt,Nt.props),xe(bt,Nt),bt.return=St,bt):(bt=_h(Nt.type,Nt.key,Nt.props,null,St.mode,Pt),xe(bt,Nt),bt.return=St,bt)}function Tt(St,bt,Nt,Pt){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==Nt.containerInfo||bt.stateNode.implementation!==Nt.implementation?(bt=Fh(Nt,St.mode,Pt),bt.return=St,bt):(bt=y(bt,Nt.children||[]),bt.return=St,bt)}function Rt(St,bt,Nt,Pt,Se){return bt===null||bt.tag!==7?(bt=Ol(Nt,St.mode,Pt,Se),bt.return=St,bt):(bt=y(bt,Nt),bt.return=St,bt)}function zt(St,bt,Nt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return bt=kf(""+bt,St.mode,Nt),bt.return=St,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case v:return Nt=_h(bt.type,bt.key,bt.props,null,St.mode,Nt),xe(Nt,bt),Nt.return=St,Nt;case x:return bt=Fh(bt,St.mode,Nt),bt.return=St,bt;case V:return bt=vt(bt),zt(St,bt,Nt)}if(mt(bt)||G(bt))return bt=Ol(bt,St.mode,Nt,null),bt.return=St,bt;if(typeof bt.then=="function")return zt(St,ne(bt),Nt);if(bt.$$typeof===T)return zt(St,e0(St,bt),Nt);re(St,bt)}return null}function Qt(St,bt,Nt,Pt){var Se=bt!==null?bt.key:null;if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return Se!==null?null:J(St,bt,""+Nt,Pt);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case v:return Nt.key===Se?dt(St,bt,Nt,Pt):null;case x:return Nt.key===Se?Tt(St,bt,Nt,Pt):null;case V:return Nt=vt(Nt),Qt(St,bt,Nt,Pt)}if(mt(Nt)||G(Nt))return Se!==null?null:Rt(St,bt,Nt,Pt,null);if(typeof Nt.then=="function")return Qt(St,bt,ne(Nt),Pt);if(Nt.$$typeof===T)return Qt(St,bt,e0(St,Nt),Pt);re(St,Nt)}return null}function Dt(St,bt,Nt,Pt,Se){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return St=St.get(Nt)||null,J(bt,St,""+Pt,Se);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case v:return St=St.get(Pt.key===null?Nt:Pt.key)||null,dt(bt,St,Pt,Se);case x:return St=St.get(Pt.key===null?Nt:Pt.key)||null,Tt(bt,St,Pt,Se);case V:return Pt=vt(Pt),Dt(St,bt,Nt,Pt,Se)}if(mt(Pt)||G(Pt))return St=St.get(Nt)||null,Rt(bt,St,Pt,Se,null);if(typeof Pt.then=="function")return Dt(St,bt,Nt,ne(Pt),Se);if(Pt.$$typeof===T)return Dt(St,bt,Nt,e0(bt,Pt),Se);re(bt,Pt)}return null}function ge(St,bt,Nt,Pt){for(var Se=null,Nn=null,ve=bt,$e=bt=0,vn=null;ve!==null&&$e<Nt.length;$e++){ve.index>$e?(vn=ve,ve=null):vn=ve.sibling;var Tn=Qt(St,ve,Nt[$e],Pt);if(Tn===null){ve===null&&(ve=vn);break}a&&ve&&Tn.alternate===null&&o(St,ve),bt=C(Tn,bt,$e),Nn===null?Se=Tn:Nn.sibling=Tn,Nn=Tn,ve=vn}if($e===Nt.length)return u(St,ve),ln&&ia(St,$e),Se;if(ve===null){for(;$e<Nt.length;$e++)ve=zt(St,Nt[$e],Pt),ve!==null&&(bt=C(ve,bt,$e),Nn===null?Se=ve:Nn.sibling=ve,Nn=ve);return ln&&ia(St,$e),Se}for(ve=g(ve);$e<Nt.length;$e++)vn=Dt(ve,St,$e,Nt[$e],Pt),vn!==null&&(a&&vn.alternate!==null&&ve.delete(vn.key===null?$e:vn.key),bt=C(vn,bt,$e),Nn===null?Se=vn:Nn.sibling=vn,Nn=vn);return a&&ve.forEach(function(Yh){return o(St,Yh)}),ln&&ia(St,$e),Se}function Te(St,bt,Nt,Pt){if(Nt==null)throw Error(n(151));for(var Se=null,Nn=null,ve=bt,$e=bt=0,vn=null,Tn=Nt.next();ve!==null&&!Tn.done;$e++,Tn=Nt.next()){ve.index>$e?(vn=ve,ve=null):vn=ve.sibling;var Yh=Qt(St,ve,Tn.value,Pt);if(Yh===null){ve===null&&(ve=vn);break}a&&ve&&Yh.alternate===null&&o(St,ve),bt=C(Yh,bt,$e),Nn===null?Se=Yh:Nn.sibling=Yh,Nn=Yh,ve=vn}if(Tn.done)return u(St,ve),ln&&ia(St,$e),Se;if(ve===null){for(;!Tn.done;$e++,Tn=Nt.next())Tn=zt(St,Tn.value,Pt),Tn!==null&&(bt=C(Tn,bt,$e),Nn===null?Se=Tn:Nn.sibling=Tn,Nn=Tn);return ln&&ia(St,$e),Se}for(ve=g(ve);!Tn.done;$e++,Tn=Nt.next())Tn=Dt(ve,St,$e,Tn.value,Pt),Tn!==null&&(a&&Tn.alternate!==null&&ve.delete(Tn.key===null?$e:Tn.key),bt=C(Tn,bt,$e),Nn===null?Se=Tn:Nn.sibling=Tn,Nn=Tn);return a&&ve.forEach(function(xk){return o(St,xk)}),ln&&ia(St,$e),Se}function Yn(St,bt,Nt,Pt){if(typeof Nt=="object"&&Nt!==null&&Nt.type===B&&Nt.key===null&&(Nt=Nt.props.children),typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case v:t:{for(var Se=Nt.key;bt!==null;){if(bt.key===Se){if(Se=Nt.type,Se===B){if(bt.tag===7){u(St,bt.sibling),Pt=y(bt,Nt.props.children),Pt.return=St,St=Pt;break t}}else if(bt.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===V&&vt(Se)===bt.type){u(St,bt.sibling),Pt=y(bt,Nt.props),xe(Pt,Nt),Pt.return=St,St=Pt;break t}u(St,bt);break}else o(St,bt);bt=bt.sibling}Nt.type===B?(Pt=Ol(Nt.props.children,St.mode,Pt,Nt.key),Pt.return=St,St=Pt):(Pt=_h(Nt.type,Nt.key,Nt.props,null,St.mode,Pt),xe(Pt,Nt),Pt.return=St,St=Pt)}return D(St);case x:t:{for(Se=Nt.key;bt!==null;){if(bt.key===Se)if(bt.tag===4&&bt.stateNode.containerInfo===Nt.containerInfo&&bt.stateNode.implementation===Nt.implementation){u(St,bt.sibling),Pt=y(bt,Nt.children||[]),Pt.return=St,St=Pt;break t}else{u(St,bt);break}else o(St,bt);bt=bt.sibling}Pt=Fh(Nt,St.mode,Pt),Pt.return=St,St=Pt}return D(St);case V:return Nt=vt(Nt),Yn(St,bt,Nt,Pt)}if(mt(Nt))return ge(St,bt,Nt,Pt);if(G(Nt)){if(Se=G(Nt),typeof Se!="function")throw Error(n(150));return Nt=Se.call(Nt),Te(St,bt,Nt,Pt)}if(typeof Nt.then=="function")return Yn(St,bt,ne(Nt),Pt);if(Nt.$$typeof===T)return Yn(St,bt,e0(St,Nt),Pt);re(St,Nt)}return typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint"?(Nt=""+Nt,bt!==null&&bt.tag===6?(u(St,bt.sibling),Pt=y(bt,Nt),Pt.return=St,St=Pt):(u(St,bt),Pt=kf(Nt,St.mode,Pt),Pt.return=St,St=Pt),D(St)):u(St,bt)}return function(St,bt,Nt,Pt){try{ae=0;var Se=Yn(St,bt,Nt,Pt);return Mt=null,Se}catch(ve){if(ve===wt||ve===Ft)throw ve;var Nn=$r(29,ve,null,St.mode);return Nn.lanes=Pt,Nn.return=St,Nn}finally{}}}var cn=En(!0),mn=En(!1),Pe=!1;function In(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ln(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ne(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Pn(a,o,u){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Dn&2)!==0){var y=g.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),g.pending=o,o=Wr(a),If(a,null,u),o}return Io(a,g,o,u),Wr(a)}function gr(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var g=o.lanes;g&=a.pendingLanes,u|=g,o.lanes=u,tA(a,u)}}function Ui(a,o){var u=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var y=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var D={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?y=C=D:C=C.next=D,u=u.next}while(u!==null);C===null?y=C=o:C=C.next=o}else y=C=o;u={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Jr=!1;function bn(){if(Jr){var a=b;if(a!==null)throw a}}function Tr(a,o,u,g){Jr=!1;var y=a.updateQueue;Pe=!1;var C=y.firstBaseUpdate,D=y.lastBaseUpdate,J=y.shared.pending;if(J!==null){y.shared.pending=null;var dt=J,Tt=dt.next;dt.next=null,D===null?C=Tt:D.next=Tt,D=dt;var Rt=a.alternate;Rt!==null&&(Rt=Rt.updateQueue,J=Rt.lastBaseUpdate,J!==D&&(J===null?Rt.firstBaseUpdate=Tt:J.next=Tt,Rt.lastBaseUpdate=dt))}if(C!==null){var zt=y.baseState;D=0,Rt=Tt=dt=null,J=C;do{var Qt=J.lane&-536870913,Dt=Qt!==J.lane;if(Dt?(wn&Qt)===Qt:(g&Qt)===Qt){Qt!==0&&Qt===m&&(Jr=!0),Rt!==null&&(Rt=Rt.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});t:{var ge=a,Te=J;Qt=o;var Yn=u;switch(Te.tag){case 1:if(ge=Te.payload,typeof ge=="function"){zt=ge.call(Yn,zt,Qt);break t}zt=ge;break t;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Te.payload,Qt=typeof ge=="function"?ge.call(Yn,zt,Qt):ge,Qt==null)break t;zt=p({},zt,Qt);break t;case 2:Pe=!0}}Qt=J.callback,Qt!==null&&(a.flags|=64,Dt&&(a.flags|=8192),Dt=y.callbacks,Dt===null?y.callbacks=[Qt]:Dt.push(Qt))}else Dt={lane:Qt,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Rt===null?(Tt=Rt=Dt,dt=zt):Rt=Rt.next=Dt,D|=Qt;if(J=J.next,J===null){if(J=y.shared.pending,J===null)break;Dt=J,J=Dt.next,Dt.next=null,y.lastBaseUpdate=Dt,y.shared.pending=null}}while(!0);Rt===null&&(dt=zt),y.baseState=dt,y.firstBaseUpdate=Tt,y.lastBaseUpdate=Rt,C===null&&(y.shared.lanes=0),Mh|=D,a.lanes=D,a.memoizedState=zt}}function Ds(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function ir(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Ds(u[a],o)}var Li=st(null),pr=st(0);function ra(a,o){a=au,X(pr,a),X(Li,o),au=a|o.baseLanes}function ka(){X(pr,au),X(Li,Li.current)}function Xi(){au=pr.current,I(Li),I(pr)}var Pi=st(null),mr=null;function sa(a){var o=a.alternate;X(Ni,Ni.current&1),X(Pi,a),mr===null&&(o===null||Li.current!==null||o.memoizedState!==null)&&(mr=a)}function $A(a){X(Ni,Ni.current),X(Pi,a),mr===null&&(mr=a)}function Ci(a){a.tag===22?(X(Ni,Ni.current),X(Pi,a),mr===null&&(mr=a)):JA()}function JA(){X(Ni,Ni.current),X(Pi,Pi.current)}function ks(a){I(Pi),mr===a&&(mr=null),I(Ni)}var Ni=st(0);function Yc(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||hx(u)||dx(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var aa=0,He=null,en=null,si=null,Oo=!1,Wc=!1,ZA=!1,Hf=0,zl=0,Gl=null,i0=0;function qn(){throw Error(n(321))}function W1(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!qr(a[u],o[u]))return!1;return!0}function $1(a,o,u,g,y,C){return aa=C,He=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,q.H=a===null||a.memoizedState===null?J4:CC,ZA=!1,C=u(g,y),ZA=!1,Wc&&(C=Ro(o,u,g,y)),r0(a),C}function r0(a){q.H=sw;var o=en!==null&&en.next!==null;if(aa=0,si=en=He=null,Oo=!1,zl=0,Gl=null,o)throw Error(n(300));a===null||vr||(a=a.dependencies,a!==null&&t0(a)&&(vr=!0))}function Ro(a,o,u,g){He=a;var y=0;do{if(Wc&&(Gl=null),zl=0,Wc=!1,25<=y)throw Error(n(301));if(y+=1,si=en=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}q.H=Z4,C=o(u,g)}while(Wc);return C}function pC(){var a=q.H,o=a.useState()[0];return o=typeof o.then=="function"?Vl(o):o,a=a.useState()[0],(en!==null?en.memoizedState:null)!==a&&(He.flags|=1024),o}function J1(){var a=Hf!==0;return Hf=0,a}function Z1(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function s0(a){if(Oo){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Oo=!1}aa=0,si=en=He=null,Wc=!1,zl=Hf=0,Gl=null}function wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?He.memoizedState=si=a:si=si.next=a,si}function Ti(){if(en===null){var a=He.alternate;a=a!==null?a.memoizedState:null}else a=en.next;var o=si===null?He.memoizedState:si.next;if(o!==null)si=o,en=a;else{if(a===null)throw He.alternate===null?Error(n(467)):Error(n(310));en=a,a={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},si===null?He.memoizedState=si=a:si=si.next=a}return si}function Pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(a){var o=zl;return zl+=1,Gl===null&&(Gl=[]),a=kt(Gl,a,o),o=He,(si===null?o.memoizedState:si.next)===null&&(o=o.alternate,q.H=o===null||o.memoizedState===null?J4:CC),a}function Qh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Vl(a);if(a.$$typeof===T)return Nr(a)}throw Error(n(438,String(a)))}function $c(a){var o=null,u=He.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var g=He.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Pf(),He.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),g=0;g<a;g++)u[g]=ut;return o.index++,u}function to(a,o){return typeof o=="function"?o(a):o}function a0(a){var o=Ti();return Ih(o,en,a)}function Ih(a,o,u){var g=a.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var y=a.baseQueue,C=g.pending;if(C!==null){if(y!==null){var D=y.next;y.next=C.next,C.next=D}o.baseQueue=y=C,g.pending=null}if(C=a.baseState,y===null)a.memoizedState=C;else{o=y.next;var J=D=null,dt=null,Tt=o,Rt=!1;do{var zt=Tt.lane&-536870913;if(zt!==Tt.lane?(wn&zt)===zt:(aa&zt)===zt){var Qt=Tt.revertLane;if(Qt===0)dt!==null&&(dt=dt.next={lane:0,revertLane:0,gesture:null,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),zt===m&&(Rt=!0);else if((aa&Qt)===Qt){Tt=Tt.next,Qt===m&&(Rt=!0);continue}else zt={lane:0,revertLane:Tt.revertLane,gesture:null,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},dt===null?(J=dt=zt,D=C):dt=dt.next=zt,He.lanes|=Qt,Mh|=Qt;zt=Tt.action,ZA&&u(C,zt),C=Tt.hasEagerState?Tt.eagerState:u(C,zt)}else Qt={lane:zt,revertLane:Tt.revertLane,gesture:Tt.gesture,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},dt===null?(J=dt=Qt,D=C):dt=dt.next=Qt,He.lanes|=zt,Mh|=zt;Tt=Tt.next}while(Tt!==null&&Tt!==o);if(dt===null?D=C:dt.next=J,!qr(C,a.memoizedState)&&(vr=!0,Rt&&(u=b,u!==null)))throw u;a.memoizedState=C,a.baseState=D,a.baseQueue=dt,g.lastRenderedState=C}return y===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function A0(a){var o=Ti(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var g=u.dispatch,y=u.pending,C=o.memoizedState;if(y!==null){u.pending=null;var D=y=y.next;do C=a(C,D.action),D=D.next;while(D!==y);qr(C,o.memoizedState)||(vr=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),u.lastRenderedState=C}return[C,g]}function o0(a,o,u){var g=He,y=Ti(),C=ln;if(C){if(u===void 0)throw Error(n(407));u=u()}else u=o();var D=!qr((en||y).memoizedState,u);if(D&&(y.memoizedState=u,vr=!0),y=y.queue,mC(ew.bind(null,g,y,a),[a]),y.getSnapshot!==o||D||si!==null&&si.memoizedState.tag&1){if(g.flags|=2048,Zc(9,{destroy:void 0},tw.bind(null,g,y,u,o),null),ai===null)throw Error(n(349));C||(aa&127)!==0||Mo(g,o,u)}return u}function Mo(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=He.updateQueue,o===null?(o=Pf(),He.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function tw(a,o,u,g){o.value=u,o.getSnapshot=g,Ub(o)&&nw(a)}function ew(a,o,u){return u(function(){Ub(o)&&nw(a)})}function Ub(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!qr(a,u)}catch{return!0}}function nw(a){var o=Do(a,2);o!==null&&Pa(o,a,2)}function ql(a){var o=wr();if(typeof a=="function"){var u=a;if(a=u(),ZA){fn(!0);try{u()}finally{fn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:a},o}function Lb(a,o,u,g){return a.baseState=u,Ih(a,en,typeof g=="function"?g:to)}function Nb(a,o,u,g,y){if(Db(a))throw Error(n(485));if(a=o.action,a!==null){var C={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){C.listeners.push(D)}};q.T!==null?u(!0):C.isTransition=!1,g(C),u=o.pending,u===null?(C.next=o.pending=C,Tb(o,C)):(C.next=u.next,o.pending=u.next=C)}}function Tb(a,o){var u=o.action,g=o.payload,y=a.state;if(o.isTransition){var C=q.T,D={};q.T=D;try{var J=u(y,g),dt=q.S;dt!==null&&dt(D,J),iw(a,o,J)}catch(Tt){Jc(a,o,Tt)}finally{C!==null&&D.types!==null&&(C.types=D.types),q.T=C}}else try{C=u(y,g),iw(a,o,C)}catch(Tt){Jc(a,o,Tt)}}function iw(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(g){Qb(a,o,g)},function(g){return Jc(a,o,g)}):Qb(a,o,u)}function Qb(a,o,u){o.status="fulfilled",o.value=u,l0(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Tb(a,u)))}function Jc(a,o,u){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=u,l0(o),o=o.next;while(o!==g)}a.action=null}function l0(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function jf(a,o){return o}function eo(a,o){if(ln){var u=ai.formState;if(u!==null){t:{var g=He;if(ln){if(ri){e:{for(var y=ri,C=Fi;y.nodeType!==8;){if(!C){y=null;break e}if(y=no(y.nextSibling),y===null){y=null;break e}}C=y.data,y=C==="F!"||C==="F"?y:null}if(y){ri=no(y.nextSibling),g=y.data==="F!";break t}}Ml(g)}g=!1}g&&(o=u[0])}}return u=wr(),u.memoizedState=u.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:o},u.queue=g,u=Y4.bind(null,He,g),g.dispatch=u,g=ql(!1),C=BC.bind(null,He,!1,g.queue),g=wr(),y={state:o,dispatch:null,action:a,pending:null},g.queue=y,u=Nb.bind(null,He,y,C,u),y.dispatch=u,g.memoizedState=a,[o,u,!1]}function Ho(a){var o=Ti();return Po(o,en,a)}function Po(a,o,u){if(o=Ih(a,o,jf)[0],a=a0(to)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=Vl(o)}catch(D){throw D===wt?Ft:D}else g=o;o=Ti();var y=o.queue,C=y.dispatch;return u!==o.memoizedState&&(He.flags|=2048,Zc(9,{destroy:void 0},c0.bind(null,y,u),null)),[g,C,a]}function c0(a,o){a.action=o}function u0(a){var o=Ti(),u=en;if(u!==null)return Po(o,u,a);Ti(),o=o.memoizedState,u=Ti();var g=u.queue.dispatch;return u.memoizedState=a,[o,g,!1]}function Zc(a,o,u,g){return a={tag:a,create:u,deps:g,inst:o,next:null},o=He.updateQueue,o===null&&(o=Pf(),He.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(g=u.next,u.next=a,a.next=g,o.lastEffect=a),a}function Ib(){return Ti().memoizedState}function Dh(a,o,u,g){var y=wr();He.flags|=a,y.memoizedState=Zc(1|o,{destroy:void 0},u,g===void 0?null:g)}function kh(a,o,u,g){var y=Ti();g=g===void 0?null:g;var C=y.memoizedState.inst;en!==null&&g!==null&&W1(g,en.memoizedState.deps)?y.memoizedState=Zc(o,C,u,g):(He.flags|=a,y.memoizedState=Zc(1|o,C,u,g))}function D4(a,o){Dh(8390656,8,a,o)}function mC(a,o){kh(2048,8,a,o)}function wD(a){He.flags|=4;var o=He.updateQueue;if(o===null)o=Pf(),He.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function k4(a){var o=Ti().memoizedState;return wD({ref:o,nextImpl:a}),function(){if((Dn&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function O4(a,o){return kh(4,2,a,o)}function R4(a,o){return kh(4,4,a,o)}function M4(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function H4(a,o,u){u=u!=null?u.concat([a]):null,kh(4,4,M4.bind(null,o,a),u)}function wC(){}function P4(a,o){var u=Ti();o=o===void 0?null:o;var g=u.memoizedState;return o!==null&&W1(o,g[1])?g[0]:(u.memoizedState=[a,o],a)}function j4(a,o){var u=Ti();o=o===void 0?null:o;var g=u.memoizedState;if(o!==null&&W1(o,g[1]))return g[0];if(g=a(),ZA){fn(!0);try{a()}finally{fn(!1)}}return u.memoizedState=[g,o],g}function vC(a,o,u){return u===void 0||(aa&1073741824)!==0&&(wn&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=KF(),He.lanes|=a,Mh|=a,u)}function K4(a,o,u,g){return qr(u,o)?u:Li.current!==null?(a=vC(a,u,g),qr(a,o)||(vr=!0),a):(aa&42)===0||(aa&1073741824)!==0&&(wn&261930)===0?(vr=!0,a.memoizedState=u):(a=KF(),He.lanes|=a,Mh|=a,o)}function z4(a,o,u,g,y){var C=rt.p;rt.p=C!==0&&8>C?C:8;var D=q.T,J={};q.T=J,BC(a,!1,o,u);try{var dt=y(),Tt=q.S;if(Tt!==null&&Tt(J,dt),dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var Rt=K(dt,g);rw(a,o,Rt,fA(a))}else rw(a,o,g,fA(a))}catch(zt){rw(a,o,{then:function(){},status:"rejected",reason:zt},fA())}finally{rt.p=C,D!==null&&J.types!==null&&(D.types=J.types),q.T=D}}function vD(){}function yC(a,o,u,g){if(a.tag!==5)throw Error(n(476));var y=G4(a).queue;z4(a,y,o,lt,u===null?vD:function(){return V4(a),u(g)})}function G4(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:lt},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function V4(a){var o=G4(a);o.next===null&&(o=a.alternate.memoizedState),rw(a,o.next.queue,{},fA())}function bC(){return Nr(bw)}function q4(){return Ti().memoizedState}function X4(){return Ti().memoizedState}function yD(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=fA();a=Ne(u);var g=Pn(o,a,u);g!==null&&(Pa(g,o,u),gr(g,o,u)),o={cache:Th()},a.payload=o;return}o=o.return}}function bD(a,o,u){var g=fA();u={lane:g,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Db(a)?W4(o,u):(u=Sh(a,o,u,g),u!==null&&(Pa(u,a,g),$4(u,o,g)))}function Y4(a,o,u){var g=fA();rw(a,o,u,g)}function rw(a,o,u,g){var y={lane:g,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Db(a))W4(o,y);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var D=o.lastRenderedState,J=C(D,u);if(y.hasEagerState=!0,y.eagerState=J,qr(J,D))return Io(a,o,y,0),ai===null&&kl(),!1}catch{}finally{}if(u=Sh(a,o,y,g),u!==null)return Pa(u,a,g),$4(u,o,g),!0}return!1}function BC(a,o,u,g){if(g={lane:2,revertLane:tx(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Db(a)){if(o)throw Error(n(479))}else o=Sh(a,u,g,2),o!==null&&Pa(o,a,2)}function Db(a){var o=a.alternate;return a===He||o!==null&&o===He}function W4(a,o){Wc=Oo=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function $4(a,o,u){if((u&4194048)!==0){var g=o.lanes;g&=a.pendingLanes,u|=g,o.lanes=u,tA(a,u)}}var sw={readContext:Nr,use:Qh,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useLayoutEffect:qn,useInsertionEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useSyncExternalStore:qn,useId:qn,useHostTransitionStatus:qn,useFormState:qn,useActionState:qn,useOptimistic:qn,useMemoCache:qn,useCacheRefresh:qn};sw.useEffectEvent=qn;var J4={readContext:Nr,use:Qh,useCallback:function(a,o){return wr().memoizedState=[a,o===void 0?null:o],a},useContext:Nr,useEffect:D4,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Dh(4194308,4,M4.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Dh(4194308,4,a,o)},useInsertionEffect:function(a,o){Dh(4,2,a,o)},useMemo:function(a,o){var u=wr();o=o===void 0?null:o;var g=a();if(ZA){fn(!0);try{a()}finally{fn(!1)}}return u.memoizedState=[g,o],g},useReducer:function(a,o,u){var g=wr();if(u!==void 0){var y=u(o);if(ZA){fn(!0);try{u(o)}finally{fn(!1)}}}else y=o;return g.memoizedState=g.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},g.queue=a,a=a.dispatch=bD.bind(null,He,a),[g.memoizedState,a]},useRef:function(a){var o=wr();return a={current:a},o.memoizedState=a},useState:function(a){a=ql(a);var o=a.queue,u=Y4.bind(null,He,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:wC,useDeferredValue:function(a,o){var u=wr();return vC(u,a,o)},useTransition:function(){var a=ql(!1);return a=z4.bind(null,He,a.queue,!0,!1),wr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var g=He,y=wr();if(ln){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),ai===null)throw Error(n(349));(wn&127)!==0||Mo(g,o,u)}y.memoizedState=u;var C={value:u,getSnapshot:o};return y.queue=C,D4(ew.bind(null,g,C,a),[a]),g.flags|=2048,Zc(9,{destroy:void 0},tw.bind(null,g,C,u,o),null),u},useId:function(){var a=wr(),o=ai.identifierPrefix;if(ln){var u=Ia,g=Qa;u=(g&~(1<<32-sn(g)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Hf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=i0++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:bC,useFormState:eo,useActionState:eo,useOptimistic:function(a){var o=wr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=BC.bind(null,He,!0,u),u.dispatch=o,[a,o]},useMemoCache:$c,useCacheRefresh:function(){return wr().memoizedState=yD.bind(null,He)},useEffectEvent:function(a){var o=wr(),u={impl:a};return o.memoizedState=u,function(){if((Dn&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},CC={readContext:Nr,use:Qh,useCallback:P4,useContext:Nr,useEffect:mC,useImperativeHandle:H4,useInsertionEffect:O4,useLayoutEffect:R4,useMemo:j4,useReducer:a0,useRef:Ib,useState:function(){return a0(to)},useDebugValue:wC,useDeferredValue:function(a,o){var u=Ti();return K4(u,en.memoizedState,a,o)},useTransition:function(){var a=a0(to)[0],o=Ti().memoizedState;return[typeof a=="boolean"?a:Vl(a),o]},useSyncExternalStore:o0,useId:q4,useHostTransitionStatus:bC,useFormState:Ho,useActionState:Ho,useOptimistic:function(a,o){var u=Ti();return Lb(u,en,a,o)},useMemoCache:$c,useCacheRefresh:X4};CC.useEffectEvent=k4;var Z4={readContext:Nr,use:Qh,useCallback:P4,useContext:Nr,useEffect:mC,useImperativeHandle:H4,useInsertionEffect:O4,useLayoutEffect:R4,useMemo:j4,useReducer:A0,useRef:Ib,useState:function(){return A0(to)},useDebugValue:wC,useDeferredValue:function(a,o){var u=Ti();return en===null?vC(u,a,o):K4(u,en.memoizedState,a,o)},useTransition:function(){var a=A0(to)[0],o=Ti().memoizedState;return[typeof a=="boolean"?a:Vl(a),o]},useSyncExternalStore:o0,useId:q4,useHostTransitionStatus:bC,useFormState:u0,useActionState:u0,useOptimistic:function(a,o){var u=Ti();return en!==null?Lb(u,en,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:$c,useCacheRefresh:X4};Z4.useEffectEvent=k4;function xC(a,o,u,g){o=a.memoizedState,u=u(g,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var EC={enqueueSetState:function(a,o,u){a=a._reactInternals;var g=fA(),y=Ne(g);y.payload=o,u!=null&&(y.callback=u),o=Pn(a,y,g),o!==null&&(Pa(o,a,g),gr(o,a,g))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var g=fA(),y=Ne(g);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Pn(a,y,g),o!==null&&(Pa(o,a,g),gr(o,a,g))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=fA(),g=Ne(u);g.tag=2,o!=null&&(g.callback=o),o=Pn(a,g,u),o!==null&&(Pa(o,a,u),gr(o,a,u))}};function tF(a,o,u,g,y,C,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,C,D):o.prototype&&o.prototype.isPureReactComponent?!Fa(u,g)||!Fa(y,C):!0}function eF(a,o,u,g){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,g),o.state!==a&&EC.enqueueReplaceState(o,o.state,null)}function Kf(a,o){var u=o;if("ref"in o){u={};for(var g in o)g!=="ref"&&(u[g]=o[g])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function nF(a){Qn(a)}function iF(a){console.error(a)}function rF(a){Qn(a)}function kb(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function sF(a,o,u){try{var g=a.onCaughtError;g(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function SC(a,o,u){return u=Ne(u),u.tag=3,u.payload={element:null},u.callback=function(){kb(a,o)},u}function aF(a){return a=Ne(a),a.tag=3,a}function AF(a,o,u,g){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var C=g.value;a.payload=function(){return y(C)},a.callback=function(){sF(o,u,g)}}var D=u.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){sF(o,u,g),typeof y!="function"&&(Hh===null?Hh=new Set([this]):Hh.add(this));var J=g.stack;this.componentDidCatch(g.value,{componentStack:J!==null?J:""})})}function BD(a,o,u,g,y){if(u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=u.alternate,o!==null&&jl(o,u,y,!0),u=Pi.current,u!==null){switch(u.tag){case 31:case 13:return mr===null?Xb():u.alternate===null&&Yi===0&&(Yi=3),u.flags&=-257,u.flags|=65536,u.lanes=y,g===xt?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([g]):o.add(g),$C(a,g,y)),!1;case 22:return u.flags|=65536,g===xt?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([g]):u.add(g)),$C(a,g,y)),!1}throw Error(n(435,u.tag))}return $C(a,g,y),Xb(),!1}if(ln)return o=Pi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,g!==uA&&(a=Error(n(422),{cause:g}),Lh(La(a,u)))):(g!==uA&&(o=Error(n(423),{cause:g}),Lh(La(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,g=La(g,u),y=SC(a.stateNode,g,y),Ui(a,y),Yi!==4&&(Yi=2)),!1;var C=Error(n(520),{cause:g});if(C=La(C,u),dw===null?dw=[C]:dw.push(C),Yi!==4&&(Yi=2),o===null)return!0;g=La(g,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=SC(u.stateNode,g,a),Ui(u,a),!1;case 1:if(o=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Hh===null||!Hh.has(C))))return u.flags|=65536,y&=-y,u.lanes|=y,y=aF(y),AF(y,a,u,g),Ui(u,y),!1}u=u.return}while(u!==null);return!1}var _C=Error(n(461)),vr=!1;function gs(a,o,u,g){o.child=a===null?mn(o,null,u,g):cn(o,a.child,u,g)}function oF(a,o,u,g,y){u=u.render;var C=o.ref;if("ref"in g){var D={};for(var J in g)J!=="ref"&&(D[J]=g[J])}else D=g;return Kl(o),g=$1(a,o,u,D,C,y),J=J1(),a!==null&&!vr?(Z1(a,o,y),tu(a,o,y)):(ln&&J&&q1(o),o.flags|=1,gs(a,o,g,y),o.child)}function lF(a,o,u,g,y){if(a===null){var C=u.type;return typeof C=="function"&&!Xp(C)&&C.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=C,cF(a,o,C,g,y)):(a=_h(u.type,null,g,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(C=a.child,!DC(a,y)){var D=C.memoizedProps;if(u=u.compare,u=u!==null?u:Fa,u(D,g)&&a.ref===o.ref)return tu(a,o,y)}return o.flags|=1,a=Ua(C,g),a.ref=o.ref,a.return=o,o.child=a}function cF(a,o,u,g,y){if(a!==null){var C=a.memoizedProps;if(Fa(C,g)&&a.ref===o.ref)if(vr=!1,o.pendingProps=g=C,DC(a,y))(a.flags&131072)!==0&&(vr=!0);else return o.lanes=a.lanes,tu(a,o,y)}return FC(a,o,u,g,y)}function uF(a,o,u,g){var y=g.children,C=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((o.flags&128)!==0){if(C=C!==null?C.baseLanes|u:u,a!==null){for(g=o.child=a.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;g=y&~C}else g=0,o.child=null;return hF(a,o,C,u,g)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Z(o,C!==null?C.cachePool:null),C!==null?ra(o,C):ka(),Ci(o);else return g=o.lanes=536870912,hF(a,o,C!==null?C.baseLanes|u:u,u,g)}else C!==null?(Z(o,C.cachePool),ra(o,C),JA(),o.memoizedState=null):(a!==null&&Z(o,null),ka(),JA());return gs(a,o,y,u),o.child}function aw(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function hF(a,o,u,g,y){var C=$();return C=C===null?null:{parent:Hi._currentValue,pool:C},o.memoizedState={baseLanes:u,cachePool:C},a!==null&&Z(o,null),ka(),Ci(o),a!==null&&jl(a,o,g,!0),o.childLanes=y,null}function Ob(a,o){return o=Mb({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function dF(a,o,u){return cn(o,a.child,null,u),a=Ob(o,o.pendingProps),a.flags|=2,ks(o),o.memoizedState=null,a}function CD(a,o,u){var g=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ln){if(g.mode==="hidden")return a=Ob(o,g),o.lanes=536870912,aw(null,a);if($A(o),(a=ri)?(a=EU(a,Fi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Rl!==null?{id:Qa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},u=Yp(a),u.return=o,o.child=u,Ur=o,ri=null)):a=null,a===null)throw Ml(o);return o.lanes=536870912,null}return Ob(o,g)}var C=a.memoizedState;if(C!==null){var D=C.dehydrated;if($A(o),y)if(o.flags&256)o.flags&=-257,o=dF(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(vr||jl(a,o,u,!1),y=(u&a.childLanes)!==0,vr||y){if(g=ai,g!==null&&(D=cs(g,u),D!==0&&D!==C.retryLane))throw C.retryLane=D,Do(a,D),Pa(g,a,D),_C;Xb(),o=dF(a,o,u)}else a=C.treeContext,ri=no(D.nextSibling),Ur=o,ln=!0,fs=null,Fi=!1,a!==null&&_b(o,a),o=Ob(o,g),o.flags|=4096;return o}return a=Ua(a.child,{mode:g.mode,children:g.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Rb(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function FC(a,o,u,g,y){return Kl(o),u=$1(a,o,u,g,void 0,y),g=J1(),a!==null&&!vr?(Z1(a,o,y),tu(a,o,y)):(ln&&g&&q1(o),o.flags|=1,gs(a,o,u,y),o.child)}function fF(a,o,u,g,y,C){return Kl(o),o.updateQueue=null,u=Ro(o,g,u,y),r0(a),g=J1(),a!==null&&!vr?(Z1(a,o,C),tu(a,o,C)):(ln&&g&&q1(o),o.flags|=1,gs(a,o,u,C),o.child)}function gF(a,o,u,g,y){if(Kl(o),o.stateNode===null){var C=Fr,D=u.contextType;typeof D=="object"&&D!==null&&(C=Nr(D)),C=new u(g,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=EC,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=g,C.state=o.memoizedState,C.refs={},In(o),D=u.contextType,C.context=typeof D=="object"&&D!==null?Nr(D):Fr,C.state=o.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(xC(o,u,D,g),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(D=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),D!==C.state&&EC.enqueueReplaceState(C,C.state,null),Tr(o,g,C,y),bn(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(a===null){C=o.stateNode;var J=o.memoizedProps,dt=Kf(u,J);C.props=dt;var Tt=C.context,Rt=u.contextType;D=Fr,typeof Rt=="object"&&Rt!==null&&(D=Nr(Rt));var zt=u.getDerivedStateFromProps;Rt=typeof zt=="function"||typeof C.getSnapshotBeforeUpdate=="function",J=o.pendingProps!==J,Rt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(J||Tt!==D)&&eF(o,C,g,D),Pe=!1;var Qt=o.memoizedState;C.state=Qt,Tr(o,g,C,y),bn(),Tt=o.memoizedState,J||Qt!==Tt||Pe?(typeof zt=="function"&&(xC(o,u,zt,g),Tt=o.memoizedState),(dt=Pe||tF(o,u,dt,g,Qt,Tt,D))?(Rt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=Tt),C.props=g,C.state=Tt,C.context=D,g=dt):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{C=o.stateNode,Ln(a,o),D=o.memoizedProps,Rt=Kf(u,D),C.props=Rt,zt=o.pendingProps,Qt=C.context,Tt=u.contextType,dt=Fr,typeof Tt=="object"&&Tt!==null&&(dt=Nr(Tt)),J=u.getDerivedStateFromProps,(Tt=typeof J=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==zt||Qt!==dt)&&eF(o,C,g,dt),Pe=!1,Qt=o.memoizedState,C.state=Qt,Tr(o,g,C,y),bn();var Dt=o.memoizedState;D!==zt||Qt!==Dt||Pe||a!==null&&a.dependencies!==null&&t0(a.dependencies)?(typeof J=="function"&&(xC(o,u,J,g),Dt=o.memoizedState),(Rt=Pe||tF(o,u,Rt,g,Qt,Dt,dt)||a!==null&&a.dependencies!==null&&t0(a.dependencies))?(Tt||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,Dt,dt),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,Dt,dt)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||D===a.memoizedProps&&Qt===a.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&Qt===a.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Dt),C.props=g,C.state=Dt,C.context=dt,g=Rt):(typeof C.componentDidUpdate!="function"||D===a.memoizedProps&&Qt===a.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&Qt===a.memoizedState||(o.flags|=1024),g=!1)}return C=g,Rb(a,o),g=(o.flags&128)!==0,C||g?(C=o.stateNode,u=g&&typeof u.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,a!==null&&g?(o.child=cn(o,a.child,null,y),o.child=cn(o,null,u,y)):gs(a,o,u,y),o.memoizedState=C.state,a=o.child):a=tu(a,o,y),a}function pF(a,o,u,g){return qc(),o.flags|=256,gs(a,o,u,g),o.child}var UC={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function LC(a){return{baseLanes:a,cachePool:At()}}function NC(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=dA),a}function mF(a,o,u){var g=o.pendingProps,y=!1,C=(o.flags&128)!==0,D;if((D=C)||(D=a!==null&&a.memoizedState===null?!1:(Ni.current&2)!==0),D&&(y=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,a===null){if(ln){if(y?sa(o):JA(),(a=ri)?(a=EU(a,Fi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Rl!==null?{id:Qa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},u=Yp(a),u.return=o,o.child=u,Ur=o,ri=null)):a=null,a===null)throw Ml(o);return dx(a)?o.lanes=32:o.lanes=536870912,null}var J=g.children;return g=g.fallback,y?(JA(),y=o.mode,J=Mb({mode:"hidden",children:J},y),g=Ol(g,y,u,null),J.return=o,g.return=o,J.sibling=g,o.child=J,g=o.child,g.memoizedState=LC(u),g.childLanes=NC(a,D,u),o.memoizedState=UC,aw(null,g)):(sa(o),TC(o,J))}var dt=a.memoizedState;if(dt!==null&&(J=dt.dehydrated,J!==null)){if(C)o.flags&256?(sa(o),o.flags&=-257,o=QC(a,o,u)):o.memoizedState!==null?(JA(),o.child=a.child,o.flags|=128,o=null):(JA(),J=g.fallback,y=o.mode,g=Mb({mode:"visible",children:g.children},y),J=Ol(J,y,u,null),J.flags|=2,g.return=o,J.return=o,g.sibling=J,o.child=g,cn(o,a.child,null,u),g=o.child,g.memoizedState=LC(u),g.childLanes=NC(a,D,u),o.memoizedState=UC,o=aw(null,g));else if(sa(o),dx(J)){if(D=J.nextSibling&&J.nextSibling.dataset,D)var Tt=D.dgst;D=Tt,g=Error(n(419)),g.stack="",g.digest=D,Lh({value:g,source:null,stack:null}),o=QC(a,o,u)}else if(vr||jl(a,o,u,!1),D=(u&a.childLanes)!==0,vr||D){if(D=ai,D!==null&&(g=cs(D,u),g!==0&&g!==dt.retryLane))throw dt.retryLane=g,Do(a,g),Pa(D,a,g),_C;hx(J)||Xb(),o=QC(a,o,u)}else hx(J)?(o.flags|=192,o.child=a.child,o=null):(a=dt.treeContext,ri=no(J.nextSibling),Ur=o,ln=!0,fs=null,Fi=!1,a!==null&&_b(o,a),o=TC(o,g.children),o.flags|=4096);return o}return y?(JA(),J=g.fallback,y=o.mode,dt=a.child,Tt=dt.sibling,g=Ua(dt,{mode:"hidden",children:g.children}),g.subtreeFlags=dt.subtreeFlags&65011712,Tt!==null?J=Ua(Tt,J):(J=Ol(J,y,u,null),J.flags|=2),J.return=o,g.return=o,g.sibling=J,o.child=g,aw(null,g),g=o.child,J=a.child.memoizedState,J===null?J=LC(u):(y=J.cachePool,y!==null?(dt=Hi._currentValue,y=y.parent!==dt?{parent:dt,pool:dt}:y):y=At(),J={baseLanes:J.baseLanes|u,cachePool:y}),g.memoizedState=J,g.childLanes=NC(a,D,u),o.memoizedState=UC,aw(a.child,g)):(sa(o),u=a.child,a=u.sibling,u=Ua(u,{mode:"visible",children:g.children}),u.return=o,u.sibling=null,a!==null&&(D=o.deletions,D===null?(o.deletions=[a],o.flags|=16):D.push(a)),o.child=u,o.memoizedState=null,u)}function TC(a,o){return o=Mb({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Mb(a,o){return a=$r(22,a,null,o),a.lanes=0,a}function QC(a,o,u){return cn(o,a.child,null,u),a=TC(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function wF(a,o,u){a.lanes|=o;var g=a.alternate;g!==null&&(g.lanes|=o),Nh(a.return,o,u)}function IC(a,o,u,g,y,C){var D=a.memoizedState;D===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:y,treeForkCount:C}:(D.isBackwards=o,D.rendering=null,D.renderingStartTime=0,D.last=g,D.tail=u,D.tailMode=y,D.treeForkCount=C)}function vF(a,o,u){var g=o.pendingProps,y=g.revealOrder,C=g.tail;g=g.children;var D=Ni.current,J=(D&2)!==0;if(J?(D=D&1|2,o.flags|=128):D&=1,X(Ni,D),gs(a,o,g,u),g=ln?Of:0,!J&&a!==null&&(a.flags&128)!==0)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&wF(a,u,o);else if(a.tag===19)wF(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&Yc(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),IC(o,!1,y,u,C,g);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Yc(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}IC(o,!0,u,null,C,g);break;case"together":IC(o,!1,null,null,void 0,g);break;default:o.memoizedState=null}return o.child}function tu(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Mh|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(jl(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,u=Ua(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ua(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function DC(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&t0(a)))}function xD(a,o,u){switch(o.tag){case 3:ft(o,o.stateNode.containerInfo),Pl(o,Hi,a.memoizedState.cache),qc();break;case 27:case 5:qt(o);break;case 4:ft(o,o.stateNode.containerInfo);break;case 10:Pl(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,$A(o),null;break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(sa(o),o.flags|=128,null):(u&o.child.childLanes)!==0?mF(a,o,u):(sa(o),a=tu(a,o,u),a!==null?a.sibling:null);sa(o);break;case 19:var y=(a.flags&128)!==0;if(g=(u&o.childLanes)!==0,g||(jl(a,o,u,!1),g=(u&o.childLanes)!==0),y){if(g)return vF(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),X(Ni,Ni.current),g)break;return null;case 22:return o.lanes=0,uF(a,o,u,o.pendingProps);case 24:Pl(o,Hi,a.memoizedState.cache)}return tu(a,o,u)}function yF(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)vr=!0;else{if(!DC(a,u)&&(o.flags&128)===0)return vr=!1,xD(a,o,u);vr=(a.flags&131072)!==0}else vr=!1,ln&&(o.flags&1048576)!==0&&Sb(o,Of,o.index);switch(o.lanes=0,o.tag){case 16:t:{var g=o.pendingProps;if(a=vt(o.elementType),o.type=a,typeof a=="function")Xp(a)?(g=Kf(a,g),o.tag=1,o=gF(null,o,a,g,u)):(o.tag=0,o=FC(null,o,a,g,u));else{if(a!=null){var y=a.$$typeof;if(y===k){o.tag=11,o=oF(null,o,a,g,u);break t}else if(y===j){o.tag=14,o=lF(null,o,a,g,u);break t}}throw o=it(a)||a,Error(n(306,o,""))}}return o;case 0:return FC(a,o,o.type,o.pendingProps,u);case 1:return g=o.type,y=Kf(g,o.pendingProps),gF(a,o,g,y,u);case 3:t:{if(ft(o,o.stateNode.containerInfo),a===null)throw Error(n(387));g=o.pendingProps;var C=o.memoizedState;y=C.element,Ln(a,o),Tr(o,g,null,u);var D=o.memoizedState;if(g=D.cache,Pl(o,Hi,g),g!==C.cache&&Xc(o,[Hi],u,!0),bn(),g=D.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){o=pF(a,o,g,u);break t}else if(g!==y){y=La(Error(n(424)),o),Lh(y),o=pF(a,o,g,u);break t}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ri=no(a.firstChild),Ur=o,ln=!0,fs=null,Fi=!0,u=mn(o,null,g,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(qc(),g===y){o=tu(a,o,u);break t}gs(a,o,g,u)}o=o.child}return o;case 26:return Rb(a,o),a===null?(u=NU(o.type,null,o.pendingProps,null))?o.memoizedState=u:ln||(u=o.type,a=o.pendingProps,g=e2(ht.current).createElement(u),g[Hn]=o,g[hi]=a,ps(g,u,a),qi(g),o.stateNode=g):o.memoizedState=NU(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return qt(o),a===null&&ln&&(g=o.stateNode=FU(o.type,o.pendingProps,ht.current),Ur=o,Fi=!0,y=ri,zh(o.type)?(fx=y,ri=no(g.firstChild)):ri=y),gs(a,o,o.pendingProps.children,u),Rb(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ln&&((y=g=ri)&&(g=tk(g,o.type,o.pendingProps,Fi),g!==null?(o.stateNode=g,Ur=o,ri=no(g.firstChild),Fi=!1,y=!0):y=!1),y||Ml(o)),qt(o),y=o.type,C=o.pendingProps,D=a!==null?a.memoizedProps:null,g=C.children,lx(y,C)?g=null:D!==null&&lx(y,D)&&(o.flags|=32),o.memoizedState!==null&&(y=$1(a,o,pC,null,null,u),bw._currentValue=y),Rb(a,o),gs(a,o,g,u),o.child;case 6:return a===null&&ln&&((a=u=ri)&&(u=ek(u,o.pendingProps,Fi),u!==null?(o.stateNode=u,Ur=o,ri=null,a=!0):a=!1),a||Ml(o)),null;case 13:return mF(a,o,u);case 4:return ft(o,o.stateNode.containerInfo),g=o.pendingProps,a===null?o.child=cn(o,null,g,u):gs(a,o,g,u),o.child;case 11:return oF(a,o,o.type,o.pendingProps,u);case 7:return gs(a,o,o.pendingProps,u),o.child;case 8:return gs(a,o,o.pendingProps.children,u),o.child;case 12:return gs(a,o,o.pendingProps.children,u),o.child;case 10:return g=o.pendingProps,Pl(o,o.type,g.value),gs(a,o,g.children,u),o.child;case 9:return y=o.type._context,g=o.pendingProps.children,Kl(o),y=Nr(y),g=g(y),o.flags|=1,gs(a,o,g,u),o.child;case 14:return lF(a,o,o.type,o.pendingProps,u);case 15:return cF(a,o,o.type,o.pendingProps,u);case 19:return vF(a,o,u);case 31:return CD(a,o,u);case 22:return uF(a,o,u,o.pendingProps);case 24:return Kl(o),g=Nr(Hi),a===null?(y=$(),y===null&&(y=ai,C=Th(),y.pooledCache=C,C.refCount++,C!==null&&(y.pooledCacheLanes|=u),y=C),o.memoizedState={parent:g,cache:y},In(o),Pl(o,Hi,y)):((a.lanes&u)!==0&&(Ln(a,o),Tr(o,null,null,u),bn()),y=a.memoizedState,C=o.memoizedState,y.parent!==g?(y={parent:g,cache:g},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Pl(o,Hi,g)):(g=C.cache,Pl(o,Hi,g),g!==y.cache&&Xc(o,[Hi],u,!0))),gs(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function eu(a){a.flags|=4}function kC(a,o,u,g,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(qF())a.flags|=8192;else throw Bt=xt,Lt}else a.flags&=-16777217}function bF(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!kU(o))if(qF())a.flags|=8192;else throw Bt=xt,Lt}function Hb(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?ur():536870912,a.lanes|=o,g0|=o)}function Aw(a,o){if(!ln)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function xi(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,g=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,g|=y.subtreeFlags&65011712,g|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=u,o}function ED(a,o,u){var g=o.pendingProps;switch(Jp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(o),null;case 1:return xi(o),null;case 3:return u=o.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),Da(Hi),Ct(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Lr(o)?eu(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Y1())),xi(o),null;case 26:var y=o.type,C=o.memoizedState;return a===null?(eu(o),C!==null?(xi(o),bF(o,C)):(xi(o),kC(o,y,null,g,u))):C?C!==a.memoizedState?(eu(o),xi(o),bF(o,C)):(xi(o),o.flags&=-16777217):(a=a.memoizedProps,a!==g&&eu(o),xi(o),kC(o,y,a,g,u)),null;case 27:if(jt(o),u=ht.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==g&&eu(o);else{if(!g){if(o.stateNode===null)throw Error(n(166));return xi(o),null}a=nt.current,Lr(o)?X1(o):(a=FU(y,g,u),o.stateNode=a,eu(o))}return xi(o),null;case 5:if(jt(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==g&&eu(o);else{if(!g){if(o.stateNode===null)throw Error(n(166));return xi(o),null}if(C=nt.current,Lr(o))X1(o);else{var D=e2(ht.current);switch(C){case 1:C=D.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:C=D.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":C=D.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":C=D.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":C=D.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof g.is=="string"?D.createElement("select",{is:g.is}):D.createElement("select"),g.multiple?C.multiple=!0:g.size&&(C.size=g.size);break;default:C=typeof g.is=="string"?D.createElement(y,{is:g.is}):D.createElement(y)}}C[Hn]=o,C[hi]=g;t:for(D=o.child;D!==null;){if(D.tag===5||D.tag===6)C.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===o)break t;for(;D.sibling===null;){if(D.return===null||D.return===o)break t;D=D.return}D.sibling.return=D.return,D=D.sibling}o.stateNode=C;t:switch(ps(C,y,g),y){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break t;case"img":g=!0;break t;default:g=!1}g&&eu(o)}}return xi(o),kC(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==g&&eu(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(n(166));if(a=ht.current,Lr(o)){if(a=o.stateNode,u=o.memoizedProps,g=null,y=Ur,y!==null)switch(y.tag){case 27:case 5:g=y.memoizedProps}a[Hn]=o,a=!!(a.nodeValue===u||g!==null&&g.suppressHydrationWarning===!0||mU(a.nodeValue,u)),a||Ml(o,!0)}else a=e2(a).createTextNode(g),a[Hn]=o,o.stateNode=a}return xi(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(g=Lr(o),u!==null){if(a===null){if(!g)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Hn]=o}else qc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xi(o),a=!1}else u=Y1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(ks(o),o):(ks(o),null);if((o.flags&128)!==0)throw Error(n(558))}return xi(o),null;case 13:if(g=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Lr(o),g!==null&&g.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Hn]=o}else qc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xi(o),y=!1}else y=Y1(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ks(o),o):(ks(o),null)}return ks(o),(o.flags&128)!==0?(o.lanes=u,o):(u=g!==null,a=a!==null&&a.memoizedState!==null,u&&(g=o.child,y=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(y=g.alternate.memoizedState.cachePool.pool),C=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==y&&(g.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Hb(o,o.updateQueue),xi(o),null);case 4:return Ct(),a===null&&rx(o.stateNode.containerInfo),xi(o),null;case 10:return Da(o.type),xi(o),null;case 19:if(I(Ni),g=o.memoizedState,g===null)return xi(o),null;if(y=(o.flags&128)!==0,C=g.rendering,C===null)if(y)Aw(g,!1);else{if(Yi!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(C=Yc(a),C!==null){for(o.flags|=128,Aw(g,!1),a=C.updateQueue,o.updateQueue=a,Hb(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)Df(u,a),u=u.sibling;return X(Ni,Ni.current&1|2),ln&&ia(o,g.treeForkCount),o.child}a=a.sibling}g.tail!==null&&Ce()>Gb&&(o.flags|=128,y=!0,Aw(g,!1),o.lanes=4194304)}else{if(!y)if(a=Yc(C),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Hb(o,a),Aw(g,!0),g.tail===null&&g.tailMode==="hidden"&&!C.alternate&&!ln)return xi(o),null}else 2*Ce()-g.renderingStartTime>Gb&&u!==536870912&&(o.flags|=128,y=!0,Aw(g,!1),o.lanes=4194304);g.isBackwards?(C.sibling=o.child,o.child=C):(a=g.last,a!==null?a.sibling=C:o.child=C,g.last=C)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Ce(),a.sibling=null,u=Ni.current,X(Ni,y?u&1|2:u&1),ln&&ia(o,g.treeForkCount),a):(xi(o),null);case 22:case 23:return ks(o),Xi(),g=o.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(u&536870912)!==0&&(o.flags&128)===0&&(xi(o),o.subtreeFlags&6&&(o.flags|=8192)):xi(o),u=o.updateQueue,u!==null&&Hb(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==u&&(o.flags|=2048),a!==null&&I(W),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Da(Hi),xi(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function SD(a,o){switch(Jp(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Da(Hi),Ct(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return jt(o),null;case 31:if(o.memoizedState!==null){if(ks(o),o.alternate===null)throw Error(n(340));qc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ks(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));qc()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return I(Ni),null;case 4:return Ct(),null;case 10:return Da(o.type),null;case 22:case 23:return ks(o),Xi(),a!==null&&I(W),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Da(Hi),null;case 25:return null;default:return null}}function BF(a,o){switch(Jp(o),o.tag){case 3:Da(Hi),Ct();break;case 26:case 27:case 5:jt(o);break;case 4:Ct();break;case 31:o.memoizedState!==null&&ks(o);break;case 13:ks(o);break;case 19:I(Ni);break;case 10:Da(o.type);break;case 22:case 23:ks(o),Xi(),a!==null&&I(W);break;case 24:Da(Hi)}}function ow(a,o){try{var u=o.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&a)===a){g=void 0;var C=u.create,D=u.inst;g=C(),D.destroy=g}u=u.next}while(u!==y)}}catch(J){Kn(o,o.return,J)}}function Oh(a,o,u){try{var g=o.updateQueue,y=g!==null?g.lastEffect:null;if(y!==null){var C=y.next;g=C;do{if((g.tag&a)===a){var D=g.inst,J=D.destroy;if(J!==void 0){D.destroy=void 0,y=o;var dt=u,Tt=J;try{Tt()}catch(Rt){Kn(y,dt,Rt)}}}g=g.next}while(g!==C)}}catch(Rt){Kn(o,o.return,Rt)}}function CF(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{ir(o,u)}catch(g){Kn(a,a.return,g)}}}function xF(a,o,u){u.props=Kf(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(g){Kn(a,o,g)}}function lw(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof u=="function"?a.refCleanup=u(g):u.current=g}}catch(y){Kn(a,o,y)}}function Xl(a,o){var u=a.ref,g=a.refCleanup;if(u!==null)if(typeof g=="function")try{g()}catch(y){Kn(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Kn(a,o,y)}else u.current=null}function EF(a){var o=a.type,u=a.memoizedProps,g=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&g.focus();break t;case"img":u.src?g.src=u.src:u.srcSet&&(g.srcset=u.srcSet)}}catch(y){Kn(a,a.return,y)}}function OC(a,o,u){try{var g=a.stateNode;XD(g,a.type,u,o),g[hi]=o}catch(y){Kn(a,a.return,y)}}function SF(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&zh(a.type)||a.tag===4}function RC(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||SF(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&zh(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function MC(a,o,u){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=fi));else if(g!==4&&(g===27&&zh(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(MC(a,o,u),a=a.sibling;a!==null;)MC(a,o,u),a=a.sibling}function Pb(a,o,u){var g=a.tag;if(g===5||g===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(g!==4&&(g===27&&zh(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Pb(a,o,u),a=a.sibling;a!==null;)Pb(a,o,u),a=a.sibling}function _F(a){var o=a.stateNode,u=a.memoizedProps;try{for(var g=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);ps(o,g,u),o[Hn]=a,o[hi]=u}catch(C){Kn(a,a.return,C)}}var nu=!1,yr=!1,HC=!1,FF=typeof WeakSet=="function"?WeakSet:Set,Zr=null;function _D(a,o){if(a=a.containerInfo,Ax=o2,a=No(a),aA(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{u=(u=a.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var y=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break t}var D=0,J=-1,dt=-1,Tt=0,Rt=0,zt=a,Qt=null;e:for(;;){for(var Dt;zt!==u||y!==0&&zt.nodeType!==3||(J=D+y),zt!==C||g!==0&&zt.nodeType!==3||(dt=D+g),zt.nodeType===3&&(D+=zt.nodeValue.length),(Dt=zt.firstChild)!==null;)Qt=zt,zt=Dt;for(;;){if(zt===a)break e;if(Qt===u&&++Tt===y&&(J=D),Qt===C&&++Rt===g&&(dt=D),(Dt=zt.nextSibling)!==null)break;zt=Qt,Qt=zt.parentNode}zt=Dt}u=J===-1||dt===-1?null:{start:J,end:dt}}else u=null}u=u||{start:0,end:0}}else u=null;for(ox={focusedElem:a,selectionRange:u},o2=!1,Zr=o;Zr!==null;)if(o=Zr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Zr=a;else for(;Zr!==null;){switch(o=Zr,C=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,u=o,y=C.memoizedProps,C=C.memoizedState,g=u.stateNode;try{var ge=Kf(u.type,y);a=g.getSnapshotBeforeUpdate(ge,C),g.__reactInternalSnapshotBeforeUpdate=a}catch(Te){Kn(u,u.return,Te)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)ux(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ux(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,Zr=a;break}Zr=o.return}}function UF(a,o,u){var g=u.flags;switch(u.tag){case 0:case 11:case 15:ru(a,u),g&4&&ow(5,u);break;case 1:if(ru(a,u),g&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(D){Kn(u,u.return,D)}else{var y=Kf(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(D){Kn(u,u.return,D)}}g&64&&CF(u),g&512&&lw(u,u.return);break;case 3:if(ru(a,u),g&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{ir(a,o)}catch(D){Kn(u,u.return,D)}}break;case 27:o===null&&g&4&&_F(u);case 26:case 5:ru(a,u),o===null&&g&4&&EF(u),g&512&&lw(u,u.return);break;case 12:ru(a,u);break;case 31:ru(a,u),g&4&&TF(a,u);break;case 13:ru(a,u),g&4&&QF(a,u),g&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=kD.bind(null,u),nk(a,u))));break;case 22:if(g=u.memoizedState!==null||nu,!g){o=o!==null&&o.memoizedState!==null||yr,y=nu;var C=yr;nu=g,(yr=o)&&!C?su(a,u,(u.subtreeFlags&8772)!==0):ru(a,u),nu=y,yr=C}break;case 30:break;default:ru(a,u)}}function LF(a){var o=a.alternate;o!==null&&(a.alternate=null,LF(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&wl(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Qi=null,Oa=!1;function iu(a,o,u){for(u=u.child;u!==null;)NF(a,o,u),u=u.sibling}function NF(a,o,u){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(rn,u)}catch{}switch(u.tag){case 26:yr||Xl(u,o),iu(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:yr||Xl(u,o);var g=Qi,y=Oa;zh(u.type)&&(Qi=u.stateNode,Oa=!1),iu(a,o,u),ww(u.stateNode),Qi=g,Oa=y;break;case 5:yr||Xl(u,o);case 6:if(g=Qi,y=Oa,Qi=null,iu(a,o,u),Qi=g,Oa=y,Qi!==null)if(Oa)try{(Qi.nodeType===9?Qi.body:Qi.nodeName==="HTML"?Qi.ownerDocument.body:Qi).removeChild(u.stateNode)}catch(C){Kn(u,o,C)}else try{Qi.removeChild(u.stateNode)}catch(C){Kn(u,o,C)}break;case 18:Qi!==null&&(Oa?(a=Qi,CU(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),C0(a)):CU(Qi,u.stateNode));break;case 4:g=Qi,y=Oa,Qi=u.stateNode.containerInfo,Oa=!0,iu(a,o,u),Qi=g,Oa=y;break;case 0:case 11:case 14:case 15:Oh(2,u,o),yr||Oh(4,u,o),iu(a,o,u);break;case 1:yr||(Xl(u,o),g=u.stateNode,typeof g.componentWillUnmount=="function"&&xF(u,o,g)),iu(a,o,u);break;case 21:iu(a,o,u);break;case 22:yr=(g=yr)||u.memoizedState!==null,iu(a,o,u),yr=g;break;default:iu(a,o,u)}}function TF(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{C0(a)}catch(u){Kn(o,o.return,u)}}}function QF(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{C0(a)}catch(u){Kn(o,o.return,u)}}function FD(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new FF),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new FF),o;default:throw Error(n(435,a.tag))}}function jb(a,o){var u=FD(a);o.forEach(function(g){if(!u.has(g)){u.add(g);var y=OD.bind(null,a,g);g.then(y,y)}})}function Ra(a,o){var u=o.deletions;if(u!==null)for(var g=0;g<u.length;g++){var y=u[g],C=a,D=o,J=D;t:for(;J!==null;){switch(J.tag){case 27:if(zh(J.type)){Qi=J.stateNode,Oa=!1;break t}break;case 5:Qi=J.stateNode,Oa=!1;break t;case 3:case 4:Qi=J.stateNode.containerInfo,Oa=!0;break t}J=J.return}if(Qi===null)throw Error(n(160));NF(C,D,y),Qi=null,Oa=!1,C=y.alternate,C!==null&&(C.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)IF(o,a),o=o.sibling}var jo=null;function IF(a,o){var u=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ra(o,a),Ma(a),g&4&&(Oh(3,a,a.return),ow(3,a),Oh(5,a,a.return));break;case 1:Ra(o,a),Ma(a),g&512&&(yr||u===null||Xl(u,u.return)),g&64&&nu&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?g:u.concat(g))));break;case 26:var y=jo;if(Ra(o,a),Ma(a),g&512&&(yr||u===null||Xl(u,u.return)),g&4){var C=u!==null?u.memoizedState:null;if(g=a.memoizedState,u===null)if(g===null)if(a.stateNode===null){t:{g=a.type,u=a.memoizedProps,y=y.ownerDocument||y;e:switch(g){case"title":C=y.getElementsByTagName("title")[0],(!C||C[zA]||C[Hn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=y.createElement(g),y.head.insertBefore(C,y.querySelector("head > title"))),ps(C,g,u),C[Hn]=a,qi(C),g=C;break t;case"link":var D=IU("link","href",y).get(g+(u.href||""));if(D){for(var J=0;J<D.length;J++)if(C=D[J],C.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){D.splice(J,1);break e}}C=y.createElement(g),ps(C,g,u),y.head.appendChild(C);break;case"meta":if(D=IU("meta","content",y).get(g+(u.content||""))){for(J=0;J<D.length;J++)if(C=D[J],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){D.splice(J,1);break e}}C=y.createElement(g),ps(C,g,u),y.head.appendChild(C);break;default:throw Error(n(468,g))}C[Hn]=a,qi(C),g=C}a.stateNode=g}else DU(y,a.type,a.stateNode);else a.stateNode=QU(y,g,a.memoizedProps);else C!==g?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,g===null?DU(y,a.type,a.stateNode):QU(y,g,a.memoizedProps)):g===null&&a.stateNode!==null&&OC(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ra(o,a),Ma(a),g&512&&(yr||u===null||Xl(u,u.return)),u!==null&&g&4&&OC(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ra(o,a),Ma(a),g&512&&(yr||u===null||Xl(u,u.return)),a.flags&32){y=a.stateNode;try{VA(y,"")}catch(ge){Kn(a,a.return,ge)}}g&4&&a.stateNode!=null&&(y=a.memoizedProps,OC(a,y,u!==null?u.memoizedProps:y)),g&1024&&(HC=!0);break;case 6:if(Ra(o,a),Ma(a),g&4){if(a.stateNode===null)throw Error(n(162));g=a.memoizedProps,u=a.stateNode;try{u.nodeValue=g}catch(ge){Kn(a,a.return,ge)}}break;case 3:if(r2=null,y=jo,jo=n2(o.containerInfo),Ra(o,a),jo=y,Ma(a),g&4&&u!==null&&u.memoizedState.isDehydrated)try{C0(o.containerInfo)}catch(ge){Kn(a,a.return,ge)}HC&&(HC=!1,DF(a));break;case 4:g=jo,jo=n2(a.stateNode.containerInfo),Ra(o,a),Ma(a),jo=g;break;case 12:Ra(o,a),Ma(a);break;case 31:Ra(o,a),Ma(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,jb(a,g)));break;case 13:Ra(o,a),Ma(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(zb=Ce()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,jb(a,g)));break;case 22:y=a.memoizedState!==null;var dt=u!==null&&u.memoizedState!==null,Tt=nu,Rt=yr;if(nu=Tt||y,yr=Rt||dt,Ra(o,a),yr=Rt,nu=Tt,Ma(a),g&8192)t:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||dt||nu||yr||zf(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){dt=u=o;try{if(C=dt.stateNode,y)D=C.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{J=dt.stateNode;var zt=dt.memoizedProps.style,Qt=zt!=null&&zt.hasOwnProperty("display")?zt.display:null;J.style.display=Qt==null||typeof Qt=="boolean"?"":(""+Qt).trim()}}catch(ge){Kn(dt,dt.return,ge)}}}else if(o.tag===6){if(u===null){dt=o;try{dt.stateNode.nodeValue=y?"":dt.memoizedProps}catch(ge){Kn(dt,dt.return,ge)}}}else if(o.tag===18){if(u===null){dt=o;try{var Dt=dt.stateNode;y?xU(Dt,!0):xU(dt.stateNode,!1)}catch(ge){Kn(dt,dt.return,ge)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=a.updateQueue,g!==null&&(u=g.retryQueue,u!==null&&(g.retryQueue=null,jb(a,u))));break;case 19:Ra(o,a),Ma(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,jb(a,g)));break;case 30:break;case 21:break;default:Ra(o,a),Ma(a)}}function Ma(a){var o=a.flags;if(o&2){try{for(var u,g=a.return;g!==null;){if(SF(g)){u=g;break}g=g.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,C=RC(a);Pb(a,C,y);break;case 5:var D=u.stateNode;u.flags&32&&(VA(D,""),u.flags&=-33);var J=RC(a);Pb(a,J,D);break;case 3:case 4:var dt=u.stateNode.containerInfo,Tt=RC(a);MC(a,Tt,dt);break;default:throw Error(n(161))}}catch(Rt){Kn(a,a.return,Rt)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function DF(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;DF(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ru(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)UF(a,o.alternate,o),o=o.sibling}function zf(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Oh(4,o,o.return),zf(o);break;case 1:Xl(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&xF(o,o.return,u),zf(o);break;case 27:ww(o.stateNode);case 26:case 5:Xl(o,o.return),zf(o);break;case 22:o.memoizedState===null&&zf(o);break;case 30:zf(o);break;default:zf(o)}a=a.sibling}}function su(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,y=a,C=o,D=C.flags;switch(C.tag){case 0:case 11:case 15:su(y,C,u),ow(4,C);break;case 1:if(su(y,C,u),g=C,y=g.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Tt){Kn(g,g.return,Tt)}if(g=C,y=g.updateQueue,y!==null){var J=g.stateNode;try{var dt=y.shared.hiddenCallbacks;if(dt!==null)for(y.shared.hiddenCallbacks=null,y=0;y<dt.length;y++)Ds(dt[y],J)}catch(Tt){Kn(g,g.return,Tt)}}u&&D&64&&CF(C),lw(C,C.return);break;case 27:_F(C);case 26:case 5:su(y,C,u),u&&g===null&&D&4&&EF(C),lw(C,C.return);break;case 12:su(y,C,u);break;case 31:su(y,C,u),u&&D&4&&TF(y,C);break;case 13:su(y,C,u),u&&D&4&&QF(y,C);break;case 22:C.memoizedState===null&&su(y,C,u),lw(C,C.return);break;case 30:break;default:su(y,C,u)}o=o.sibling}}function PC(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Rf(u))}function jC(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Rf(a))}function Ko(a,o,u,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)kF(a,o,u,g),o=o.sibling}function kF(a,o,u,g){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ko(a,o,u,g),y&2048&&ow(9,o);break;case 1:Ko(a,o,u,g);break;case 3:Ko(a,o,u,g),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Rf(a)));break;case 12:if(y&2048){Ko(a,o,u,g),a=o.stateNode;try{var C=o.memoizedProps,D=C.id,J=C.onPostCommit;typeof J=="function"&&J(D,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(dt){Kn(o,o.return,dt)}}else Ko(a,o,u,g);break;case 31:Ko(a,o,u,g);break;case 13:Ko(a,o,u,g);break;case 23:break;case 22:C=o.stateNode,D=o.alternate,o.memoizedState!==null?C._visibility&2?Ko(a,o,u,g):cw(a,o):C._visibility&2?Ko(a,o,u,g):(C._visibility|=2,h0(a,o,u,g,(o.subtreeFlags&10256)!==0||!1)),y&2048&&PC(D,o);break;case 24:Ko(a,o,u,g),y&2048&&jC(o.alternate,o);break;default:Ko(a,o,u,g)}}function h0(a,o,u,g,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var C=a,D=o,J=u,dt=g,Tt=D.flags;switch(D.tag){case 0:case 11:case 15:h0(C,D,J,dt,y),ow(8,D);break;case 23:break;case 22:var Rt=D.stateNode;D.memoizedState!==null?Rt._visibility&2?h0(C,D,J,dt,y):cw(C,D):(Rt._visibility|=2,h0(C,D,J,dt,y)),y&&Tt&2048&&PC(D.alternate,D);break;case 24:h0(C,D,J,dt,y),y&&Tt&2048&&jC(D.alternate,D);break;default:h0(C,D,J,dt,y)}o=o.sibling}}function cw(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,g=o,y=g.flags;switch(g.tag){case 22:cw(u,g),y&2048&&PC(g.alternate,g);break;case 24:cw(u,g),y&2048&&jC(g.alternate,g);break;default:cw(u,g)}o=o.sibling}}var uw=8192;function d0(a,o,u){if(a.subtreeFlags&uw)for(a=a.child;a!==null;)OF(a,o,u),a=a.sibling}function OF(a,o,u){switch(a.tag){case 26:d0(a,o,u),a.flags&uw&&a.memoizedState!==null&&fk(u,jo,a.memoizedState,a.memoizedProps);break;case 5:d0(a,o,u);break;case 3:case 4:var g=jo;jo=n2(a.stateNode.containerInfo),d0(a,o,u),jo=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=uw,uw=16777216,d0(a,o,u),uw=g):d0(a,o,u));break;default:d0(a,o,u)}}function RF(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function hw(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var g=o[u];Zr=g,HF(g,a)}RF(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)MF(a),a=a.sibling}function MF(a){switch(a.tag){case 0:case 11:case 15:hw(a),a.flags&2048&&Oh(9,a,a.return);break;case 3:hw(a);break;case 12:hw(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Kb(a)):hw(a);break;default:hw(a)}}function Kb(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var g=o[u];Zr=g,HF(g,a)}RF(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Oh(8,o,o.return),Kb(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Kb(o));break;default:Kb(o)}a=a.sibling}}function HF(a,o){for(;Zr!==null;){var u=Zr;switch(u.tag){case 0:case 11:case 15:Oh(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var g=u.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Rf(u.memoizedState.cache)}if(g=u.child,g!==null)g.return=u,Zr=g;else t:for(u=a;Zr!==null;){g=Zr;var y=g.sibling,C=g.return;if(LF(g),g===u){Zr=null;break t}if(y!==null){y.return=C,Zr=y;break t}Zr=C}}}var UD={getCacheForType:function(a){var o=Nr(Hi),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Nr(Hi).controller.signal}},LD=typeof WeakMap=="function"?WeakMap:Map,Dn=0,ai=null,un=null,wn=0,jn=0,hA=null,Rh=!1,f0=!1,KC=!1,au=0,Yi=0,Mh=0,Gf=0,zC=0,dA=0,g0=0,dw=null,Ha=null,GC=!1,zb=0,PF=0,Gb=1/0,Vb=null,Hh=null,Qr=0,Ph=null,p0=null,Au=0,VC=0,qC=null,jF=null,fw=0,XC=null;function fA(){return(Dn&2)!==0&&wn!==0?wn&-wn:q.T!==null?tx():Ns()}function KF(){if(dA===0)if((wn&536870912)===0||ln){var a=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),dA=a}else dA=536870912;return a=Pi.current,a!==null&&(a.flags|=32),dA}function Pa(a,o,u){(a===ai&&(jn===2||jn===9)||a.cancelPendingCommit!==null)&&(m0(a,0),jh(a,wn,dA,!1)),Ls(a,u),((Dn&2)===0||a!==ai)&&(a===ai&&((Dn&2)===0&&(Gf|=u),Yi===4&&jh(a,wn,dA,!1)),Yl(a))}function zF(a,o,u){if((Dn&6)!==0)throw Error(n(327));var g=!u&&(o&127)===0&&(o&a.expiredLanes)===0||gn(a,o),y=g?QD(a,o):WC(a,o,!0),C=g;do{if(y===0){f0&&!g&&jh(a,o,0,!1);break}else{if(u=a.current.alternate,C&&!ND(u)){y=WC(a,o,!1),C=!1;continue}if(y===2){if(C=o,a.errorRecoveryDisabledLanes&C)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;t:{var J=a;y=dw;var dt=J.current.memoizedState.isDehydrated;if(dt&&(m0(J,D).flags|=256),D=WC(J,D,!1),D!==2){if(KC&&!dt){J.errorRecoveryDisabledLanes|=C,Gf|=C,y=4;break t}C=Ha,Ha=y,C!==null&&(Ha===null?Ha=C:Ha.push.apply(Ha,C))}y=D}if(C=!1,y!==2)continue}}if(y===1){m0(a,0),jh(a,o,0,!0);break}t:{switch(g=a,C=y,C){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:jh(g,o,dA,!Rh);break t;case 2:Ha=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(y=zb+300-Ce(),10<y)){if(jh(g,o,dA,!Rh),Oe(g,0,!0)!==0)break t;Au=o,g.timeoutHandle=bU(GF.bind(null,g,u,Ha,Vb,GC,o,dA,Gf,g0,Rh,C,"Throttled",-0,0),y);break t}GF(g,u,Ha,Vb,GC,o,dA,Gf,g0,Rh,C,null,-0,0)}}break}while(!0);Yl(a)}function GF(a,o,u,g,y,C,D,J,dt,Tt,Rt,zt,Qt,Dt){if(a.timeoutHandle=-1,zt=o.subtreeFlags,zt&8192||(zt&16785408)===16785408){zt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},OF(o,C,zt);var ge=(C&62914560)===C?zb-Ce():(C&4194048)===C?PF-Ce():0;if(ge=gk(zt,ge),ge!==null){Au=C,a.cancelPendingCommit=ge(ZF.bind(null,a,o,C,u,g,y,D,J,dt,Rt,zt,null,Qt,Dt)),jh(a,C,D,!Tt);return}}ZF(a,o,C,u,g,y,D,J,dt)}function ND(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var g=0;g<u.length;g++){var y=u[g],C=y.getSnapshot;y=y.value;try{if(!qr(C(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function jh(a,o,u,g){o&=~zC,o&=~Gf,a.suspendedLanes|=o,a.pingedLanes&=~o,g&&(a.warmLanes|=o),g=a.expirationTimes;for(var y=o;0<y;){var C=31-sn(y),D=1<<C;g[C]=-1,y&=~D}u!==0&&va(a,u,o)}function qb(){return(Dn&6)===0?(gw(0),!1):!0}function YC(){if(un!==null){if(jn===0)var a=un.return;else a=un,WA=Hl=null,s0(a),Mt=null,ae=0,a=un;for(;a!==null;)BF(a.alternate,a),a=a.return;un=null}}function m0(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,$D(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Au=0,YC(),ai=a,un=u=Ua(a.current,null),wn=o,jn=0,hA=null,Rh=!1,f0=gn(a,o),KC=!1,g0=dA=zC=Gf=Mh=Yi=0,Ha=dw=null,GC=!1,(o&8)!==0&&(o|=o&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=o;0<g;){var y=31-sn(g),C=1<<y;o|=a[y],g&=~C}return au=o,kl(),u}function VF(a,o){He=null,q.H=sw,o===wt||o===Ft?(o=Ht(),jn=3):o===Lt?(o=Ht(),jn=4):jn=o===_C?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,hA=o,un===null&&(Yi=1,kb(a,La(o,a.current)))}function qF(){var a=Pi.current;return a===null?!0:(wn&4194048)===wn?mr===null:(wn&62914560)===wn||(wn&536870912)!==0?a===mr:!1}function XF(){var a=q.H;return q.H=sw,a===null?sw:a}function YF(){var a=q.A;return q.A=UD,a}function Xb(){Yi=4,Rh||(wn&4194048)!==wn&&Pi.current!==null||(f0=!0),(Mh&134217727)===0&&(Gf&134217727)===0||ai===null||jh(ai,wn,dA,!1)}function WC(a,o,u){var g=Dn;Dn|=2;var y=XF(),C=YF();(ai!==a||wn!==o)&&(Vb=null,m0(a,o)),o=!1;var D=Yi;t:do try{if(jn!==0&&un!==null){var J=un,dt=hA;switch(jn){case 8:YC(),D=6;break t;case 3:case 2:case 9:case 6:Pi.current===null&&(o=!0);var Tt=jn;if(jn=0,hA=null,w0(a,J,dt,Tt),u&&f0){D=0;break t}break;default:Tt=jn,jn=0,hA=null,w0(a,J,dt,Tt)}}TD(),D=Yi;break}catch(Rt){VF(a,Rt)}while(!0);return o&&a.shellSuspendCounter++,WA=Hl=null,Dn=g,q.H=y,q.A=C,un===null&&(ai=null,wn=0,kl()),D}function TD(){for(;un!==null;)WF(un)}function QD(a,o){var u=Dn;Dn|=2;var g=XF(),y=YF();ai!==a||wn!==o?(Vb=null,Gb=Ce()+500,m0(a,o)):f0=gn(a,o);t:do try{if(jn!==0&&un!==null){o=un;var C=hA;e:switch(jn){case 1:jn=0,hA=null,w0(a,o,C,1);break;case 2:case 9:if(Kt(C)){jn=0,hA=null,$F(o);break}o=function(){jn!==2&&jn!==9||ai!==a||(jn=7),Yl(a)},C.then(o,o);break t;case 3:jn=7;break t;case 4:jn=5;break t;case 7:Kt(C)?(jn=0,hA=null,$F(o)):(jn=0,hA=null,w0(a,o,C,7));break;case 5:var D=null;switch(un.tag){case 26:D=un.memoizedState;case 5:case 27:var J=un;if(D?kU(D):J.stateNode.complete){jn=0,hA=null;var dt=J.sibling;if(dt!==null)un=dt;else{var Tt=J.return;Tt!==null?(un=Tt,Yb(Tt)):un=null}break e}}jn=0,hA=null,w0(a,o,C,5);break;case 6:jn=0,hA=null,w0(a,o,C,6);break;case 8:YC(),Yi=6;break t;default:throw Error(n(462))}}ID();break}catch(Rt){VF(a,Rt)}while(!0);return WA=Hl=null,q.H=g,q.A=y,Dn=u,un!==null?0:(ai=null,wn=0,kl(),Yi)}function ID(){for(;un!==null&&!te();)WF(un)}function WF(a){var o=yF(a.alternate,a,au);a.memoizedProps=a.pendingProps,o===null?Yb(a):un=o}function $F(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=fF(u,o,o.pendingProps,o.type,void 0,wn);break;case 11:o=fF(u,o,o.pendingProps,o.type.render,o.ref,wn);break;case 5:s0(o);default:BF(u,o),o=un=Df(o,au),o=yF(u,o,au)}a.memoizedProps=a.pendingProps,o===null?Yb(a):un=o}function w0(a,o,u,g){WA=Hl=null,s0(o),Mt=null,ae=0;var y=o.return;try{if(BD(a,y,o,u,wn)){Yi=1,kb(a,La(u,a.current)),un=null;return}}catch(C){if(y!==null)throw un=y,C;Yi=1,kb(a,La(u,a.current)),un=null;return}o.flags&32768?(ln||g===1?a=!0:f0||(wn&536870912)!==0?a=!1:(Rh=a=!0,(g===2||g===9||g===3||g===6)&&(g=Pi.current,g!==null&&g.tag===13&&(g.flags|=16384))),JF(o,a)):Yb(o)}function Yb(a){var o=a;do{if((o.flags&32768)!==0){JF(o,Rh);return}a=o.return;var u=ED(o.alternate,o,au);if(u!==null){un=u;return}if(o=o.sibling,o!==null){un=o;return}un=o=a}while(o!==null);Yi===0&&(Yi=5)}function JF(a,o){do{var u=SD(a.alternate,a);if(u!==null){u.flags&=32767,un=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){un=a;return}un=a=u}while(a!==null);Yi=6,un=null}function ZF(a,o,u,g,y,C,D,J,dt){a.cancelPendingCommit=null;do Wb();while(Qr!==0);if((Dn&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(C=o.lanes|o.childLanes,C|=cA,Fe(a,u,C,D,J,dt),a===ai&&(un=ai=null,wn=0),p0=o,Ph=a,Au=u,VC=C,qC=y,jF=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,RD(Sn,function(){return rU(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=q.T,q.T=null,y=rt.p,rt.p=2,D=Dn,Dn|=4;try{_D(a,o,u)}finally{Dn=D,rt.p=y,q.T=g}}Qr=1,tU(),eU(),nU()}}function tU(){if(Qr===1){Qr=0;var a=Ph,o=p0,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=q.T,q.T=null;var g=rt.p;rt.p=2;var y=Dn;Dn|=4;try{IF(o,a);var C=ox,D=No(a.containerInfo),J=C.focusedElem,dt=C.selectionRange;if(D!==J&&J&&J.ownerDocument&&Xr(J.ownerDocument.documentElement,J)){if(dt!==null&&aA(J)){var Tt=dt.start,Rt=dt.end;if(Rt===void 0&&(Rt=Tt),"selectionStart"in J)J.selectionStart=Tt,J.selectionEnd=Math.min(Rt,J.value.length);else{var zt=J.ownerDocument||document,Qt=zt&&zt.defaultView||window;if(Qt.getSelection){var Dt=Qt.getSelection(),ge=J.textContent.length,Te=Math.min(dt.start,ge),Yn=dt.end===void 0?Te:Math.min(dt.end,ge);!Dt.extend&&Te>Yn&&(D=Yn,Yn=Te,Te=D);var St=ds(J,Te),bt=ds(J,Yn);if(St&&bt&&(Dt.rangeCount!==1||Dt.anchorNode!==St.node||Dt.anchorOffset!==St.offset||Dt.focusNode!==bt.node||Dt.focusOffset!==bt.offset)){var Nt=zt.createRange();Nt.setStart(St.node,St.offset),Dt.removeAllRanges(),Te>Yn?(Dt.addRange(Nt),Dt.extend(bt.node,bt.offset)):(Nt.setEnd(bt.node,bt.offset),Dt.addRange(Nt))}}}}for(zt=[],Dt=J;Dt=Dt.parentNode;)Dt.nodeType===1&&zt.push({element:Dt,left:Dt.scrollLeft,top:Dt.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<zt.length;J++){var Pt=zt[J];Pt.element.scrollLeft=Pt.left,Pt.element.scrollTop=Pt.top}}o2=!!Ax,ox=Ax=null}finally{Dn=y,rt.p=g,q.T=u}}a.current=o,Qr=2}}function eU(){if(Qr===2){Qr=0;var a=Ph,o=p0,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=q.T,q.T=null;var g=rt.p;rt.p=2;var y=Dn;Dn|=4;try{UF(a,o.alternate,o)}finally{Dn=y,rt.p=g,q.T=u}}Qr=3}}function nU(){if(Qr===4||Qr===3){Qr=0,me();var a=Ph,o=p0,u=Au,g=jF;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Qr=5:(Qr=0,p0=Ph=null,iU(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Hh=null),_i(u),o=o.stateNode,bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(rn,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=q.T,y=rt.p,rt.p=2,q.T=null;try{for(var C=a.onRecoverableError,D=0;D<g.length;D++){var J=g[D];C(J.value,{componentStack:J.stack})}}finally{q.T=o,rt.p=y}}(Au&3)!==0&&Wb(),Yl(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===XC?fw++:(fw=0,XC=a):fw=0,gw(0)}}function iU(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Rf(o)))}function Wb(){return tU(),eU(),nU(),rU()}function rU(){if(Qr!==5)return!1;var a=Ph,o=VC;VC=0;var u=_i(Au),g=q.T,y=rt.p;try{rt.p=32>u?32:u,q.T=null,u=qC,qC=null;var C=Ph,D=Au;if(Qr=0,p0=Ph=null,Au=0,(Dn&6)!==0)throw Error(n(331));var J=Dn;if(Dn|=4,MF(C.current),kF(C,C.current,D,u),Dn=J,gw(0,!1),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(rn,C)}catch{}return!0}finally{rt.p=y,q.T=g,iU(a,o)}}function sU(a,o,u){o=La(u,o),o=SC(a.stateNode,o,2),a=Pn(a,o,2),a!==null&&(Ls(a,2),Yl(a))}function Kn(a,o,u){if(a.tag===3)sU(a,a,u);else for(;o!==null;){if(o.tag===3){sU(o,a,u);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Hh===null||!Hh.has(g))){a=La(u,a),u=aF(2),g=Pn(o,u,2),g!==null&&(AF(u,g,o,a),Ls(g,2),Yl(g));break}}o=o.return}}function $C(a,o,u){var g=a.pingCache;if(g===null){g=a.pingCache=new LD;var y=new Set;g.set(o,y)}else y=g.get(o),y===void 0&&(y=new Set,g.set(o,y));y.has(u)||(KC=!0,y.add(u),a=DD.bind(null,a,o,u),o.then(a,a))}function DD(a,o,u){var g=a.pingCache;g!==null&&g.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,ai===a&&(wn&u)===u&&(Yi===4||Yi===3&&(wn&62914560)===wn&&300>Ce()-zb?(Dn&2)===0&&m0(a,0):zC|=u,g0===wn&&(g0=0)),Yl(a)}function aU(a,o){o===0&&(o=ur()),a=Do(a,o),a!==null&&(Ls(a,o),Yl(a))}function kD(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),aU(a,u)}function OD(a,o){var u=0;switch(a.tag){case 31:case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(o),aU(a,u)}function RD(a,o){return Jt(a,o)}var $b=null,v0=null,JC=!1,Jb=!1,ZC=!1,Kh=0;function Yl(a){a!==v0&&a.next===null&&(v0===null?$b=v0=a:v0=v0.next=a),Jb=!0,JC||(JC=!0,HD())}function gw(a,o){if(!ZC&&Jb){ZC=!0;do for(var u=!1,g=$b;g!==null;){if(a!==0){var y=g.pendingLanes;if(y===0)var C=0;else{var D=g.suspendedLanes,J=g.pingedLanes;C=(1<<31-sn(42|a)+1)-1,C&=y&~(D&~J),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(u=!0,cU(g,C))}else C=wn,C=Oe(g,g===ai?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||gn(g,C)||(u=!0,cU(g,C));g=g.next}while(u);ZC=!1}}function MD(){AU()}function AU(){Jb=JC=!1;var a=0;Kh!==0&&WD()&&(a=Kh);for(var o=Ce(),u=null,g=$b;g!==null;){var y=g.next,C=oU(g,o);C===0?(g.next=null,u===null?$b=y:u.next=y,y===null&&(v0=u)):(u=g,(a!==0||(C&3)!==0)&&(Jb=!0)),g=y}Qr!==0&&Qr!==5||gw(a),Kh!==0&&(Kh=0)}function oU(a,o){for(var u=a.suspendedLanes,g=a.pingedLanes,y=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var D=31-sn(C),J=1<<D,dt=y[D];dt===-1?((J&u)===0||(J&g)!==0)&&(y[D]=Qc(J,o)):dt<=o&&(a.expiredLanes|=J),C&=~J}if(o=ai,u=wn,u=Oe(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,u===0||a===o&&(jn===2||jn===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&ie(g),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||gn(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(g!==null&&ie(g),_i(u)){case 2:case 8:u=dn;break;case 32:u=Sn;break;case 268435456:u=tn;break;default:u=Sn}return g=lU.bind(null,a),u=Jt(u,g),a.callbackPriority=o,a.callbackNode=u,o}return g!==null&&g!==null&&ie(g),a.callbackPriority=2,a.callbackNode=null,2}function lU(a,o){if(Qr!==0&&Qr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Wb()&&a.callbackNode!==u)return null;var g=wn;return g=Oe(a,a===ai?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(zF(a,g,o),oU(a,Ce()),a.callbackNode!=null&&a.callbackNode===u?lU.bind(null,a):null)}function cU(a,o){if(Wb())return null;zF(a,o,!0)}function HD(){JD(function(){(Dn&6)!==0?Jt(We,MD):AU()})}function tx(){if(Kh===0){var a=m;a===0&&(a=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Kh=a}return Kh}function uU(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:kc(""+a)}function hU(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function PD(a,o,u,g,y){if(o==="submit"&&u&&u.stateNode===y){var C=uU((y[hi]||null).action),D=g.submitter;D&&(o=(o=D[hi]||null)?uU(o.formAction):D.getAttribute("formAction"),o!==null&&(C=o,D=null));var J=new Mc("action","action",null,g,y);a.push({event:J,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Kh!==0){var dt=D?hU(y,D):new FormData(y);yC(u,{pending:!0,data:dt,method:y.method,action:C},null,dt)}}else typeof C=="function"&&(J.preventDefault(),dt=D?hU(y,D):new FormData(y),yC(u,{pending:!0,data:dt,method:y.method,action:C},C,dt))},currentTarget:y}]})}}for(var ex=0;ex<Is.length;ex++){var nx=Is[ex],jD=nx.toLowerCase(),KD=nx[0].toUpperCase()+nx.slice(1);an(jD,"on"+KD)}an(Ql,"onAnimationEnd"),an(Qo,"onAnimationIteration"),an(Il,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(xh,"onTransitionRun"),an(Gc,"onTransitionStart"),an(Dl,"onTransitionCancel"),an(Eh,"onTransitionEnd"),GA("onMouseEnter",["mouseout","mouseover"]),GA("onMouseLeave",["mouseout","mouseover"]),GA("onPointerEnter",["pointerout","pointerover"]),GA("onPointerLeave",["pointerout","pointerover"]),So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),So("onBeforeInput",["compositionend","keypress","textInput","paste"]),So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pw));function dU(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var g=a[u],y=g.event;g=g.listeners;t:{var C=void 0;if(o)for(var D=g.length-1;0<=D;D--){var J=g[D],dt=J.instance,Tt=J.currentTarget;if(J=J.listener,dt!==C&&y.isPropagationStopped())break t;C=J,y.currentTarget=Tt;try{C(y)}catch(Rt){Qn(Rt)}y.currentTarget=null,C=dt}else for(D=0;D<g.length;D++){if(J=g[D],dt=J.instance,Tt=J.currentTarget,J=J.listener,dt!==C&&y.isPropagationStopped())break t;C=J,y.currentTarget=Tt;try{C(y)}catch(Rt){Qn(Rt)}y.currentTarget=null,C=dt}}}}function hn(a,o){var u=o[ya];u===void 0&&(u=o[ya]=new Set);var g=a+"__bubble";u.has(g)||(fU(o,a,2,!1),u.add(g))}function ix(a,o,u){var g=0;o&&(g|=4),fU(u,a,g,o)}var Zb="_reactListening"+Math.random().toString(36).slice(2);function rx(a){if(!a[Zb]){a[Zb]=!0,Dc.forEach(function(u){u!=="selectionchange"&&(zD.has(u)||ix(u,!1,a),ix(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Zb]||(o[Zb]=!0,ix("selectionchange",!1,o))}}function fU(a,o,u,g){switch(KU(o)){case 2:var y=wk;break;case 8:y=vk;break;default:y=vx}u=y.bind(null,o,u,a),y=void 0,!Oc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),g?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function sx(a,o,u,g,y){var C=g;if((o&1)===0&&(o&2)===0&&g!==null)t:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var J=g.stateNode.containerInfo;if(J===y)break;if(D===4)for(D=g.return;D!==null;){var dt=D.tag;if((dt===3||dt===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;J!==null;){if(D=eA(J),D===null)return;if(dt=D.tag,dt===5||dt===6||dt===26||dt===27){g=C=D;continue t}J=J.parentNode}}g=g.return}Cf(function(){var Tt=C,Rt=hh(u),zt=[];t:{var Qt=na.get(a);if(Qt!==void 0){var Dt=Mc,ge=a;switch(a){case"keypress":if(rA(u)===0)break t;case"keydown":case"keyup":Dt=Nf;break;case"focusin":ge="focus",Dt=Sf;break;case"focusout":ge="blur",Dt=Sf;break;case"beforeblur":case"afterblur":Dt=Sf;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=z;break;case Ql:case Qo:case Il:Dt=G1;break;case Eh:Dt=pt;break;case"scroll":case"scrollend":Dt=Hp;break;case"wheel":Dt=Ot;break;case"copy":case"cut":case"paste":Dt=Ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=mh;break;case"toggle":case"beforetoggle":Dt=oe}var Te=(o&4)!==0,Yn=!Te&&(a==="scroll"||a==="scrollend"),St=Te?Qt!==null?Qt+"Capture":null:Qt;Te=[];for(var bt=Tt,Nt;bt!==null;){var Pt=bt;if(Nt=Pt.stateNode,Pt=Pt.tag,Pt!==5&&Pt!==26&&Pt!==27||Nt===null||St===null||(Pt=Cl(bt,St),Pt!=null&&Te.push(mw(bt,Pt,Nt))),Yn)break;bt=bt.return}0<Te.length&&(Qt=new Dt(Qt,ge,null,u,Rt),zt.push({event:Qt,listeners:Te}))}}if((o&7)===0){t:{if(Qt=a==="mouseover"||a==="pointerover",Dt=a==="mouseout"||a==="pointerout",Qt&&u!==Bf&&(ge=u.relatedTarget||u.fromElement)&&(eA(ge)||ge[zr]))break t;if((Dt||Qt)&&(Qt=Rt.window===Rt?Rt:(Qt=Rt.ownerDocument)?Qt.defaultView||Qt.parentWindow:window,Dt?(ge=u.relatedTarget||u.toElement,Dt=Tt,ge=ge?eA(ge):null,ge!==null&&(Yn=s(ge),Te=ge.tag,ge!==Yn||Te!==5&&Te!==27&&Te!==6)&&(ge=null)):(Dt=null,ge=Tt),Dt!==ge)){if(Te=Fo,Pt="onMouseLeave",St="onMouseEnter",bt="mouse",(a==="pointerout"||a==="pointerover")&&(Te=mh,Pt="onPointerLeave",St="onPointerEnter",bt="pointer"),Yn=Dt==null?Qt:vl(Dt),Nt=ge==null?Qt:vl(ge),Qt=new Te(Pt,bt+"leave",Dt,u,Rt),Qt.target=Yn,Qt.relatedTarget=Nt,Pt=null,eA(Rt)===Tt&&(Te=new Te(St,bt+"enter",ge,u,Rt),Te.target=Nt,Te.relatedTarget=Yn,Pt=Te),Yn=Pt,Dt&&ge)e:{for(Te=GD,St=Dt,bt=ge,Nt=0,Pt=St;Pt;Pt=Te(Pt))Nt++;Pt=0;for(var Se=bt;Se;Se=Te(Se))Pt++;for(;0<Nt-Pt;)St=Te(St),Nt--;for(;0<Pt-Nt;)bt=Te(bt),Pt--;for(;Nt--;){if(St===bt||bt!==null&&St===bt.alternate){Te=St;break e}St=Te(St),bt=Te(bt)}Te=null}else Te=null;Dt!==null&&gU(zt,Qt,Dt,Te,!1),ge!==null&&Yn!==null&&gU(zt,Yn,ge,Te,!0)}}t:{if(Qt=Tt?vl(Tt):window,Dt=Qt.nodeName&&Qt.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&Qt.type==="file")var Nn=dr;else if(wh(Qt))if(Kc)Nn=bh;else{Nn=Gp;var ve=Qf}else Dt=Qt.nodeName,!Dt||Dt.toLowerCase()!=="input"||Qt.type!=="checkbox"&&Qt.type!=="radio"?Tt&&iA(Tt.elementType)&&(Nn=dr):Nn=_a;if(Nn&&(Nn=Nn(a,Tt))){vh(zt,Nn,u,Rt);break t}ve&&ve(a,Qt,Tt),a==="focusout"&&Tt&&Qt.type==="number"&&Tt.memoizedProps.value!=null&&lh(Qt,"number",Qt.value)}switch(ve=Tt?vl(Tt):window,a){case"focusin":(wh(ve)||ve.contentEditable==="true")&&(AA=ve,oA=Tt,ii=null);break;case"focusout":ii=oA=AA=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,Yr(zt,u,Rt);break;case"selectionchange":if(To)break;case"keydown":case"keyup":Yr(zt,u,Rt)}var $e;if(Me)t:{switch(a){case"compositionstart":var vn="onCompositionStart";break t;case"compositionend":vn="onCompositionEnd";break t;case"compositionupdate":vn="onCompositionUpdate";break t}vn=void 0}else Vr?_r(a,u)&&(vn="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(vn="onCompositionStart");vn&&(gi&&u.locale!=="ko"&&(Vr||vn!=="onCompositionStart"?vn==="onCompositionEnd"&&Vr&&($e=El()):(qA=Rt,xf="value"in qA?qA.value:qA.textContent,Vr=!0)),ve=t2(Tt,vn),0<ve.length&&(vn=new Pc(vn,a,null,u,Rt),zt.push({event:vn,listeners:ve}),$e?vn.data=$e:($e=nr(u),$e!==null&&(vn.data=$e)))),($e=pn?ta(a,u):XA(a,u))&&(vn=t2(Tt,"onBeforeInput"),0<vn.length&&(ve=new Pc("onBeforeInput","beforeinput",null,u,Rt),zt.push({event:ve,listeners:vn}),ve.data=$e)),PD(zt,a,Tt,u,Rt)}dU(zt,o)})}function mw(a,o,u){return{instance:a,listener:o,currentTarget:u}}function t2(a,o){for(var u=o+"Capture",g=[];a!==null;){var y=a,C=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||C===null||(y=Cl(a,u),y!=null&&g.unshift(mw(a,y,C)),y=Cl(a,o),y!=null&&g.push(mw(a,y,C))),a.tag===3)return g;a=a.return}return[]}function GD(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function gU(a,o,u,g,y){for(var C=o._reactName,D=[];u!==null&&u!==g;){var J=u,dt=J.alternate,Tt=J.stateNode;if(J=J.tag,dt!==null&&dt===g)break;J!==5&&J!==26&&J!==27||Tt===null||(dt=Tt,y?(Tt=Cl(u,C),Tt!=null&&D.unshift(mw(u,Tt,dt))):y||(Tt=Cl(u,C),Tt!=null&&D.push(mw(u,Tt,dt)))),u=u.return}D.length!==0&&a.push({event:o,listeners:D})}var VD=/\r\n?/g,qD=/\u0000|\uFFFD/g;function pU(a){return(typeof a=="string"?a:""+a).replace(VD,`
`).replace(qD,"")}function mU(a,o){return o=pU(o),pU(a)===o}function Xn(a,o,u,g,y,C){switch(u){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||VA(a,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&VA(a,""+g);break;case"className":di(a,"class",g);break;case"tabIndex":di(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":di(a,u,g);break;case"style":Rp(a,g,C);break;case"data":if(o!=="object"){di(a,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(u);break}g=kc(""+g),a.setAttribute(u,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(o!=="input"&&Xn(a,o,"name",y.name,y,null),Xn(a,o,"formEncType",y.formEncType,y,null),Xn(a,o,"formMethod",y.formMethod,y,null),Xn(a,o,"formTarget",y.formTarget,y,null)):(Xn(a,o,"encType",y.encType,y,null),Xn(a,o,"method",y.method,y,null),Xn(a,o,"target",y.target,y,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(u);break}g=kc(""+g),a.setAttribute(u,g);break;case"onClick":g!=null&&(a.onclick=fi);break;case"onScroll":g!=null&&hn("scroll",a);break;case"onScrollEnd":g!=null&&hn("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(u=g.__html,u!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}u=kc(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(u,""+g):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":g===!0?a.setAttribute(u,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(u,g):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(u,g):a.removeAttribute(u);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(u):a.setAttribute(u,g);break;case"popover":hn("beforetoggle",a),hn("toggle",a),Ah(a,"popover",g);break;case"xlinkActuate":Ba(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ba(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ba(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ba(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ba(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ba(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ba(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ba(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ba(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ah(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ch.get(u)||u,Ah(a,u,g))}}function ax(a,o,u,g,y,C){switch(u){case"style":Rp(a,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(u=g.__html,u!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof g=="string"?VA(a,g):(typeof g=="number"||typeof g=="bigint")&&VA(a,""+g);break;case"onScroll":g!=null&&hn("scroll",a);break;case"onScrollEnd":g!=null&&hn("scrollend",a);break;case"onClick":g!=null&&(a.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pf.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),C=a[hi]||null,C=C!=null?C[u]:null,typeof C=="function"&&a.removeEventListener(o,C,y),typeof g=="function")){typeof C!="function"&&C!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,g,y);break t}u in a?a[u]=g:g===!0?a.setAttribute(u,""):Ah(a,u,g)}}}function ps(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hn("error",a),hn("load",a);var g=!1,y=!1,C;for(C in u)if(u.hasOwnProperty(C)){var D=u[C];if(D!=null)switch(C){case"src":g=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Xn(a,o,C,D,u,null)}}y&&Xn(a,o,"srcSet",u.srcSet,u,null),g&&Xn(a,o,"src",u.src,u,null);return;case"input":hn("invalid",a);var J=C=D=y=null,dt=null,Tt=null;for(g in u)if(u.hasOwnProperty(g)){var Rt=u[g];if(Rt!=null)switch(g){case"name":y=Rt;break;case"type":D=Rt;break;case"checked":dt=Rt;break;case"defaultChecked":Tt=Rt;break;case"value":C=Rt;break;case"defaultValue":J=Rt;break;case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(n(137,o));break;default:Xn(a,o,g,Rt,u,null)}}Dp(a,C,J,dt,Tt,D,y,!1);return;case"select":hn("invalid",a),g=D=C=null;for(y in u)if(u.hasOwnProperty(y)&&(J=u[y],J!=null))switch(y){case"value":C=J;break;case"defaultValue":D=J;break;case"multiple":g=J;default:Xn(a,o,y,J,u,null)}o=C,u=D,a.multiple=!!g,o!=null?bl(a,!!g,o,!1):u!=null&&bl(a,!!g,u,!0);return;case"textarea":hn("invalid",a),C=y=g=null;for(D in u)if(u.hasOwnProperty(D)&&(J=u[D],J!=null))switch(D){case"value":g=J;break;case"defaultValue":y=J;break;case"children":C=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(91));break;default:Xn(a,o,D,J,u,null)}kp(a,g,y,C);return;case"option":for(dt in u)if(u.hasOwnProperty(dt)&&(g=u[dt],g!=null))switch(dt){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Xn(a,o,dt,g,u,null)}return;case"dialog":hn("beforetoggle",a),hn("toggle",a),hn("cancel",a),hn("close",a);break;case"iframe":case"object":hn("load",a);break;case"video":case"audio":for(g=0;g<pw.length;g++)hn(pw[g],a);break;case"image":hn("error",a),hn("load",a);break;case"details":hn("toggle",a);break;case"embed":case"source":case"link":hn("error",a),hn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Tt in u)if(u.hasOwnProperty(Tt)&&(g=u[Tt],g!=null))switch(Tt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Xn(a,o,Tt,g,u,null)}return;default:if(iA(o)){for(Rt in u)u.hasOwnProperty(Rt)&&(g=u[Rt],g!==void 0&&ax(a,o,Rt,g,u,void 0));return}}for(J in u)u.hasOwnProperty(J)&&(g=u[J],g!=null&&Xn(a,o,J,g,u,null))}function XD(a,o,u,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,C=null,D=null,J=null,dt=null,Tt=null,Rt=null;for(Dt in u){var zt=u[Dt];if(u.hasOwnProperty(Dt)&&zt!=null)switch(Dt){case"checked":break;case"value":break;case"defaultValue":dt=zt;default:g.hasOwnProperty(Dt)||Xn(a,o,Dt,null,g,zt)}}for(var Qt in g){var Dt=g[Qt];if(zt=u[Qt],g.hasOwnProperty(Qt)&&(Dt!=null||zt!=null))switch(Qt){case"type":C=Dt;break;case"name":y=Dt;break;case"checked":Tt=Dt;break;case"defaultChecked":Rt=Dt;break;case"value":D=Dt;break;case"defaultValue":J=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(n(137,o));break;default:Dt!==zt&&Xn(a,o,Qt,Dt,g,zt)}}oh(a,D,J,dt,Tt,Rt,C,y);return;case"select":Dt=D=J=Qt=null;for(C in u)if(dt=u[C],u.hasOwnProperty(C)&&dt!=null)switch(C){case"value":break;case"multiple":Dt=dt;default:g.hasOwnProperty(C)||Xn(a,o,C,null,g,dt)}for(y in g)if(C=g[y],dt=u[y],g.hasOwnProperty(y)&&(C!=null||dt!=null))switch(y){case"value":Qt=C;break;case"defaultValue":J=C;break;case"multiple":D=C;default:C!==dt&&Xn(a,o,y,C,g,dt)}o=J,u=D,g=Dt,Qt!=null?bl(a,!!u,Qt,!1):!!g!=!!u&&(o!=null?bl(a,!!u,o,!0):bl(a,!!u,u?[]:"",!1));return;case"textarea":Dt=Qt=null;for(J in u)if(y=u[J],u.hasOwnProperty(J)&&y!=null&&!g.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Xn(a,o,J,null,g,y)}for(D in g)if(y=g[D],C=u[D],g.hasOwnProperty(D)&&(y!=null||C!=null))switch(D){case"value":Qt=y;break;case"defaultValue":Dt=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==C&&Xn(a,o,D,y,g,C)}bf(a,Qt,Dt);return;case"option":for(var ge in u)if(Qt=u[ge],u.hasOwnProperty(ge)&&Qt!=null&&!g.hasOwnProperty(ge))switch(ge){case"selected":a.selected=!1;break;default:Xn(a,o,ge,null,g,Qt)}for(dt in g)if(Qt=g[dt],Dt=u[dt],g.hasOwnProperty(dt)&&Qt!==Dt&&(Qt!=null||Dt!=null))switch(dt){case"selected":a.selected=Qt&&typeof Qt!="function"&&typeof Qt!="symbol";break;default:Xn(a,o,dt,Qt,g,Dt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in u)Qt=u[Te],u.hasOwnProperty(Te)&&Qt!=null&&!g.hasOwnProperty(Te)&&Xn(a,o,Te,null,g,Qt);for(Tt in g)if(Qt=g[Tt],Dt=u[Tt],g.hasOwnProperty(Tt)&&Qt!==Dt&&(Qt!=null||Dt!=null))switch(Tt){case"children":case"dangerouslySetInnerHTML":if(Qt!=null)throw Error(n(137,o));break;default:Xn(a,o,Tt,Qt,g,Dt)}return;default:if(iA(o)){for(var Yn in u)Qt=u[Yn],u.hasOwnProperty(Yn)&&Qt!==void 0&&!g.hasOwnProperty(Yn)&&ax(a,o,Yn,void 0,g,Qt);for(Rt in g)Qt=g[Rt],Dt=u[Rt],!g.hasOwnProperty(Rt)||Qt===Dt||Qt===void 0&&Dt===void 0||ax(a,o,Rt,Qt,g,Dt);return}}for(var St in u)Qt=u[St],u.hasOwnProperty(St)&&Qt!=null&&!g.hasOwnProperty(St)&&Xn(a,o,St,null,g,Qt);for(zt in g)Qt=g[zt],Dt=u[zt],!g.hasOwnProperty(zt)||Qt===Dt||Qt==null&&Dt==null||Xn(a,o,zt,Qt,g,Dt)}function wU(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YD(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),g=0;g<u.length;g++){var y=u[g],C=y.transferSize,D=y.initiatorType,J=y.duration;if(C&&J&&wU(D)){for(D=0,J=y.responseEnd,g+=1;g<u.length;g++){var dt=u[g],Tt=dt.startTime;if(Tt>J)break;var Rt=dt.transferSize,zt=dt.initiatorType;Rt&&wU(zt)&&(dt=dt.responseEnd,D+=Rt*(dt<J?1:(J-Tt)/(dt-Tt)))}if(--g,o+=8*(C+D)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ax=null,ox=null;function e2(a){return a.nodeType===9?a:a.ownerDocument}function vU(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yU(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function lx(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var cx=null;function WD(){var a=window.event;return a&&a.type==="popstate"?a===cx?!1:(cx=a,!0):(cx=null,!1)}var bU=typeof setTimeout=="function"?setTimeout:void 0,$D=typeof clearTimeout=="function"?clearTimeout:void 0,BU=typeof Promise=="function"?Promise:void 0,JD=typeof queueMicrotask=="function"?queueMicrotask:typeof BU<"u"?function(a){return BU.resolve(null).then(a).catch(ZD)}:bU;function ZD(a){setTimeout(function(){throw a})}function zh(a){return a==="head"}function CU(a,o){var u=o,g=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(g===0){a.removeChild(y),C0(o);return}g--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")g++;else if(u==="html")ww(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,ww(u);for(var C=u.firstChild;C;){var D=C.nextSibling,J=C.nodeName;C[zA]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=D}}else u==="body"&&ww(a.ownerDocument.body);u=y}while(u);C0(o)}function xU(a,o){var u=a;a=0;do{var g=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=g}while(u)}function ux(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ux(u),wl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function tk(a,o,u,g){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[zA])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var C=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=no(a.nextSibling),a===null)break}return null}function ek(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=no(a.nextSibling),a===null))return null;return a}function EU(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=no(a.nextSibling),a===null))return null;return a}function hx(a){return a.data==="$?"||a.data==="$~"}function dx(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function nk(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var g=function(){o(),u.removeEventListener("DOMContentLoaded",g)};u.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function no(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var fx=null;function SU(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return no(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function _U(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function FU(a,o,u){switch(o=e2(u),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function ww(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);wl(a)}var io=new Map,UU=new Set;function n2(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ou=rt.d;rt.d={f:ik,r:rk,D:sk,C:ak,L:Ak,m:ok,X:ck,S:lk,M:uk};function ik(){var a=ou.f(),o=qb();return a||o}function rk(a){var o=nA(a);o!==null&&o.tag===5&&o.type==="form"?V4(o):ou.r(a)}var y0=typeof document>"u"?null:document;function LU(a,o,u){var g=y0;if(g&&typeof o=="string"&&o){var y=Gr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),UU.has(y)||(UU.add(y),a={rel:a,crossOrigin:u,href:o},g.querySelector(y)===null&&(o=g.createElement("link"),ps(o,"link",a),qi(o),g.head.appendChild(o)))}}function sk(a){ou.D(a),LU("dns-prefetch",a,null)}function ak(a,o){ou.C(a,o),LU("preconnect",a,o)}function Ak(a,o,u){ou.L(a,o,u);var g=y0;if(g&&a&&o){var y='link[rel="preload"][as="'+Gr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Gr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Gr(u.imageSizes)+'"]')):y+='[href="'+Gr(a)+'"]';var C=y;switch(o){case"style":C=b0(a);break;case"script":C=B0(a)}io.has(C)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),io.set(C,a),g.querySelector(y)!==null||o==="style"&&g.querySelector(vw(C))||o==="script"&&g.querySelector(yw(C))||(o=g.createElement("link"),ps(o,"link",a),qi(o),g.head.appendChild(o)))}}function ok(a,o){ou.m(a,o);var u=y0;if(u&&a){var g=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Gr(g)+'"][href="'+Gr(a)+'"]',C=y;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=B0(a)}if(!io.has(C)&&(a=p({rel:"modulepreload",href:a},o),io.set(C,a),u.querySelector(y)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(yw(C)))return}g=u.createElement("link"),ps(g,"link",a),qi(g),u.head.appendChild(g)}}}function lk(a,o,u){ou.S(a,o,u);var g=y0;if(g&&a){var y=yl(g).hoistableStyles,C=b0(a);o=o||"default";var D=y.get(C);if(!D){var J={loading:0,preload:null};if(D=g.querySelector(vw(C)))J.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=io.get(C))&&gx(a,u);var dt=D=g.createElement("link");qi(dt),ps(dt,"link",a),dt._p=new Promise(function(Tt,Rt){dt.onload=Tt,dt.onerror=Rt}),dt.addEventListener("load",function(){J.loading|=1}),dt.addEventListener("error",function(){J.loading|=2}),J.loading|=4,i2(D,o,g)}D={type:"stylesheet",instance:D,count:1,state:J},y.set(C,D)}}}function ck(a,o){ou.X(a,o);var u=y0;if(u&&a){var g=yl(u).hoistableScripts,y=B0(a),C=g.get(y);C||(C=u.querySelector(yw(y)),C||(a=p({src:a,async:!0},o),(o=io.get(y))&&px(a,o),C=u.createElement("script"),qi(C),ps(C,"link",a),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(y,C))}}function uk(a,o){ou.M(a,o);var u=y0;if(u&&a){var g=yl(u).hoistableScripts,y=B0(a),C=g.get(y);C||(C=u.querySelector(yw(y)),C||(a=p({src:a,async:!0,type:"module"},o),(o=io.get(y))&&px(a,o),C=u.createElement("script"),qi(C),ps(C,"link",a),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(y,C))}}function NU(a,o,u,g){var y=(y=ht.current)?n2(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=b0(u.href),u=yl(y).hoistableStyles,g=u.get(o),g||(g={type:"style",instance:null,count:0,state:null},u.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=b0(u.href);var C=yl(y).hoistableStyles,D=C.get(a);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,D),(C=y.querySelector(vw(a)))&&!C._p&&(D.instance=C,D.state.loading=5),io.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},io.set(a,u),C||hk(y,a,u,D.state))),o&&g===null)throw Error(n(528,""));return D}if(o&&g!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=B0(u),u=yl(y).hoistableScripts,g=u.get(o),g||(g={type:"script",instance:null,count:0,state:null},u.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function b0(a){return'href="'+Gr(a)+'"'}function vw(a){return'link[rel="stylesheet"]['+a+"]"}function TU(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function hk(a,o,u,g){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=a.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),ps(o,"link",u),qi(o),a.head.appendChild(o))}function B0(a){return'[src="'+Gr(a)+'"]'}function yw(a){return"script[async]"+a}function QU(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var g=a.querySelector('style[data-href~="'+Gr(u.href)+'"]');if(g)return o.instance=g,qi(g),g;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),qi(g),ps(g,"style",y),i2(g,u.precedence,a),o.instance=g;case"stylesheet":y=b0(u.href);var C=a.querySelector(vw(y));if(C)return o.state.loading|=4,o.instance=C,qi(C),C;g=TU(u),(y=io.get(y))&&gx(g,y),C=(a.ownerDocument||a).createElement("link"),qi(C);var D=C;return D._p=new Promise(function(J,dt){D.onload=J,D.onerror=dt}),ps(C,"link",g),o.state.loading|=4,i2(C,u.precedence,a),o.instance=C;case"script":return C=B0(u.src),(y=a.querySelector(yw(C)))?(o.instance=y,qi(y),y):(g=u,(y=io.get(C))&&(g=p({},u),px(g,y)),a=a.ownerDocument||a,y=a.createElement("script"),qi(y),ps(y,"link",g),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,i2(g,u.precedence,a));return o.instance}function i2(a,o,u){for(var g=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=g.length?g[g.length-1]:null,C=y,D=0;D<g.length;D++){var J=g[D];if(J.dataset.precedence===o)C=J;else if(C!==y)break}C?C.parentNode.insertBefore(a,C.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function gx(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function px(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var r2=null;function IU(a,o,u){if(r2===null){var g=new Map,y=r2=new Map;y.set(u,g)}else y=r2,g=y.get(u),g||(g=new Map,y.set(u,g));if(g.has(a))return g;for(g.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var C=u[y];if(!(C[zA]||C[Hn]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var D=C.getAttribute(o)||"";D=a+D;var J=g.get(D);J?J.push(C):g.set(D,[C])}}return g}function DU(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function dk(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kU(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function fk(a,o,u,g){if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=b0(g.href),C=o.querySelector(vw(y));if(C){o=C._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=s2.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=C,qi(C);return}C=o.ownerDocument||o,g=TU(g),(y=io.get(y))&&gx(g,y),C=C.createElement("link"),qi(C);var D=C;D._p=new Promise(function(J,dt){D.onload=J,D.onerror=dt}),ps(C,"link",g),u.instance=C}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=s2.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var mx=0;function gk(a,o){return a.stylesheets&&a.count===0&&A2(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var g=setTimeout(function(){if(a.stylesheets&&A2(a,a.stylesheets),a.unsuspend){var C=a.unsuspend;a.unsuspend=null,C()}},6e4+o);0<a.imgBytes&&mx===0&&(mx=62500*YD());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&A2(a,a.stylesheets),a.unsuspend)){var C=a.unsuspend;a.unsuspend=null,C()}},(a.imgBytes>mx?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(y)}}:null}function s2(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)A2(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var a2=null;function A2(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,a2=new Map,o.forEach(pk,a),a2=null,s2.call(a))}function pk(a,o){if(!(o.state.loading&4)){var u=a2.get(a);if(u)var g=u.get(null);else{u=new Map,a2.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<y.length;C++){var D=y[C];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(u.set(D.dataset.precedence,D),g=D)}g&&u.set(null,g)}y=o.instance,D=y.getAttribute("data-precedence"),C=u.get(D)||g,C===g&&u.set(null,y),u.set(D,y),this.count++,g=s2.bind(this),y.addEventListener("load",g),y.addEventListener("error",g),C?C.parentNode.insertBefore(y,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var bw={$$typeof:T,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function mk(a,o,u,g,y,C,D,J,dt){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=g,this.onUncaughtError=y,this.onCaughtError=C,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=dt,this.incompleteTransitions=new Map}function OU(a,o,u,g,y,C,D,J,dt,Tt,Rt,zt){return a=new mk(a,o,u,D,dt,Tt,Rt,zt,J),o=1,C===!0&&(o|=24),C=$r(3,null,null,o),a.current=C,C.stateNode=a,o=Th(),o.refCount++,a.pooledCache=o,o.refCount++,C.memoizedState={element:g,isDehydrated:u,cache:o},In(C),a}function RU(a){return a?(a=Fr,a):Fr}function MU(a,o,u,g,y,C){y=RU(y),g.context===null?g.context=y:g.pendingContext=y,g=Ne(o),g.payload={element:u},C=C===void 0?null:C,C!==null&&(g.callback=C),u=Pn(a,g,o),u!==null&&(Pa(u,a,o),gr(u,a,o))}function HU(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function wx(a,o){HU(a,o),(a=a.alternate)&&HU(a,o)}function PU(a){if(a.tag===13||a.tag===31){var o=Do(a,67108864);o!==null&&Pa(o,a,67108864),wx(a,67108864)}}function jU(a){if(a.tag===13||a.tag===31){var o=fA();o=Ri(o);var u=Do(a,o);u!==null&&Pa(u,a,o),wx(a,o)}}var o2=!0;function wk(a,o,u,g){var y=q.T;q.T=null;var C=rt.p;try{rt.p=2,vx(a,o,u,g)}finally{rt.p=C,q.T=y}}function vk(a,o,u,g){var y=q.T;q.T=null;var C=rt.p;try{rt.p=8,vx(a,o,u,g)}finally{rt.p=C,q.T=y}}function vx(a,o,u,g){if(o2){var y=yx(g);if(y===null)sx(a,o,g,l2,u),zU(a,g);else if(bk(y,a,o,u,g))g.stopPropagation();else if(zU(a,g),o&4&&-1<yk.indexOf(a)){for(;y!==null;){var C=nA(y);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var D=On(C.pendingLanes);if(D!==0){var J=C;for(J.pendingLanes|=2,J.entangledLanes|=2;D;){var dt=1<<31-sn(D);J.entanglements[1]|=dt,D&=~dt}Yl(C),(Dn&6)===0&&(Gb=Ce()+500,gw(0))}}break;case 31:case 13:J=Do(C,2),J!==null&&Pa(J,C,2),qb(),wx(C,2)}if(C=yx(g),C===null&&sx(a,o,g,l2,u),C===y)break;y=C}y!==null&&g.stopPropagation()}else sx(a,o,g,null,u)}}function yx(a){return a=hh(a),bx(a)}var l2=null;function bx(a){if(l2=null,a=eA(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=A(o),a!==null)return a;a=null}else if(u===31){if(a=l(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return l2=a,null}function KU(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case We:return 2;case dn:return 8;case Sn:case ke:return 32;case tn:return 268435456;default:return 32}default:return 32}}var Bx=!1,Gh=null,Vh=null,qh=null,Bw=new Map,Cw=new Map,Xh=[],yk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zU(a,o){switch(a){case"focusin":case"focusout":Gh=null;break;case"dragenter":case"dragleave":Vh=null;break;case"mouseover":case"mouseout":qh=null;break;case"pointerover":case"pointerout":Bw.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cw.delete(o.pointerId)}}function xw(a,o,u,g,y,C){return a===null||a.nativeEvent!==C?(a={blockedOn:o,domEventName:u,eventSystemFlags:g,nativeEvent:C,targetContainers:[y]},o!==null&&(o=nA(o),o!==null&&PU(o)),a):(a.eventSystemFlags|=g,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function bk(a,o,u,g,y){switch(o){case"focusin":return Gh=xw(Gh,a,o,u,g,y),!0;case"dragenter":return Vh=xw(Vh,a,o,u,g,y),!0;case"mouseover":return qh=xw(qh,a,o,u,g,y),!0;case"pointerover":var C=y.pointerId;return Bw.set(C,xw(Bw.get(C)||null,a,o,u,g,y)),!0;case"gotpointercapture":return C=y.pointerId,Cw.set(C,xw(Cw.get(C)||null,a,o,u,g,y)),!0}return!1}function GU(a){var o=eA(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=A(u),o!==null){a.blockedOn=o,Ic(a.priority,function(){jU(u)});return}}else if(o===31){if(o=l(u),o!==null){a.blockedOn=o,Ic(a.priority,function(){jU(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function c2(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=yx(a.nativeEvent);if(u===null){u=a.nativeEvent;var g=new u.constructor(u.type,u);Bf=g,u.target.dispatchEvent(g),Bf=null}else return o=nA(u),o!==null&&PU(o),a.blockedOn=u,!1;o.shift()}return!0}function VU(a,o,u){c2(a)&&u.delete(o)}function Bk(){Bx=!1,Gh!==null&&c2(Gh)&&(Gh=null),Vh!==null&&c2(Vh)&&(Vh=null),qh!==null&&c2(qh)&&(qh=null),Bw.forEach(VU),Cw.forEach(VU)}function u2(a,o){a.blockedOn===o&&(a.blockedOn=null,Bx||(Bx=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bk)))}var h2=null;function qU(a){h2!==a&&(h2=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){h2===a&&(h2=null);for(var o=0;o<a.length;o+=3){var u=a[o],g=a[o+1],y=a[o+2];if(typeof g!="function"){if(bx(g||u)===null)continue;break}var C=nA(u);C!==null&&(a.splice(o,3),o-=3,yC(C,{pending:!0,data:y,method:u.method,action:g},g,y))}}))}function C0(a){function o(dt){return u2(dt,a)}Gh!==null&&u2(Gh,a),Vh!==null&&u2(Vh,a),qh!==null&&u2(qh,a),Bw.forEach(o),Cw.forEach(o);for(var u=0;u<Xh.length;u++){var g=Xh[u];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Xh.length&&(u=Xh[0],u.blockedOn===null);)GU(u),u.blockedOn===null&&Xh.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(g=0;g<u.length;g+=3){var y=u[g],C=u[g+1],D=y[hi]||null;if(typeof C=="function")D||qU(u);else if(D){var J=null;if(C&&C.hasAttribute("formAction")){if(y=C,D=C[hi]||null)J=D.formAction;else if(bx(y)!==null)continue}else J=D.action;typeof J=="function"?u[g+1]=J:(u.splice(g,3),g-=3),qU(u)}}}function XU(){function a(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(D){return y=D})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),g||setTimeout(u,20)}function u(){if(!g&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Cx(a){this._internalRoot=a}d2.prototype.render=Cx.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,g=fA();MU(u,g,a,o,null,null)},d2.prototype.unmount=Cx.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;MU(a.current,2,null,a,null,null),qb(),o[zr]=null}};function d2(a){this._internalRoot=a}d2.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ns();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Xh.length&&o!==0&&o<Xh[u].priority;u++);Xh.splice(u,0,a),u===0&&GU(a)}};var YU=t.version;if(YU!=="19.2.0")throw Error(n(527,YU,"19.2.0"));rt.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(o),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var Ck={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var f2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!f2.isDisabled&&f2.supportsFiber)try{rn=f2.inject(Ck),bi=f2}catch{}}return Sw.createRoot=function(a,o){if(!i(a))throw Error(n(299));var u=!1,g="",y=nF,C=iF,D=rF;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError)),o=OU(a,1,!1,null,null,u,g,null,y,C,D,XU),a[zr]=o.current,rx(a),new Cx(o)},Sw.hydrateRoot=function(a,o,u){if(!i(a))throw Error(n(299));var g=!1,y="",C=nF,D=iF,J=rF,dt=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(J=u.onRecoverableError),u.formState!==void 0&&(dt=u.formState)),o=OU(a,1,!0,o,u??null,g,y,dt,C,D,J,XU),o.context=RU(null),u=o.current,g=fA(),g=Ri(g),y=Ne(g),y.callback=null,Pn(u,y,g),u=g,o.current.lanes=u,Ls(o,u),Yl(o),a[zr]=o.current,rx(a),new d2(o)},Sw.version="19.2.0",Sw}var a3;function kk(){if(a3)return _x.exports;a3=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_x.exports=Dk(),_x.exports}var Ok=kk();const Rk=X_(Ok);var SE=function(r,t){return SE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},SE(r,t)};function IN(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");SE(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var WB=function(){return WB=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},WB.apply(this,arguments)};function H1(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}function DN(r,t,e,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(A=r[l])&&(s=(i<3?A(s):i>3?A(t,e,s):A(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s}function kN(r,t){return function(e,n){t(e,n,r)}}function ON(r,t,e,n,i,s){function A(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",h=!t&&r?n.static?r:r.prototype:null,f=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),p,w=!1,v=e.length-1;v>=0;v--){var x={};for(var B in n)x[B]=B==="access"?{}:n[B];for(var B in n.access)x.access[B]=n.access[B];x.addInitializer=function(S){if(w)throw new TypeError("Cannot add initializers after decoration has completed");s.push(A(S||null))};var F=(0,e[v])(l==="accessor"?{get:f.get,set:f.set}:f[c],x);if(l==="accessor"){if(F===void 0)continue;if(F===null||typeof F!="object")throw new TypeError("Object expected");(p=A(F.get))&&(f.get=p),(p=A(F.set))&&(f.set=p),(p=A(F.init))&&i.unshift(p)}else(p=A(F))&&(l==="field"?i.unshift(p):f[c]=p)}h&&Object.defineProperty(h,n.name,f),w=!0}function RN(r,t,e){for(var n=arguments.length>2,i=0;i<t.length;i++)e=n?t[i].call(r,e):t[i].call(r);return n?e:void 0}function MN(r){return typeof r=="symbol"?r:"".concat(r)}function HN(r,t,e){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:e?"".concat(e," ",t):t})}function PN(r,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,t)}function Be(r,t,e,n){function i(s){return s instanceof e?s:new e(function(A){A(s)})}return new(e||(e=Promise))(function(s,A){function l(f){try{h(n.next(f))}catch(p){A(p)}}function c(f){try{h(n.throw(f))}catch(p){A(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,c)}h((n=n.apply(r,t||[])).next())})}function jN(r,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return A.next=l(0),A.throw=l(1),A.return=l(2),typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function l(h){return function(f){return c([h,f])}}function c(h){if(n)throw new TypeError("Generator is already executing.");for(;A&&(A=0,h[0]&&(e=0)),e;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,i=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){e=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){e.label=h[1];break}if(h[0]===6&&e.label<s[1]){e.label=s[1],s=h;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(h);break}s[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(f){h=[6,f],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var G5=Object.create?(function(r,t,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,n,i)}):(function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]});function KN(r,t){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&G5(t,r,e)}function $B(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function W_(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,s=[],A;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(l){A={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(A)throw A.error}}return s}function zN(){for(var r=[],t=0;t<arguments.length;t++)r=r.concat(W_(arguments[t]));return r}function GN(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),i=0,t=0;t<e;t++)for(var s=arguments[t],A=0,l=s.length;A<l;A++,i++)n[i]=s[A];return n}function VN(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))}function O1(r){return this instanceof O1?(this.v=r,this):new O1(r)}function qN(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(r,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",A),i[Symbol.asyncIterator]=function(){return this},i;function A(v){return function(x){return Promise.resolve(x).then(v,p)}}function l(v,x){n[v]&&(i[v]=function(B){return new Promise(function(F,S){s.push([v,B,F,S])>1||c(v,B)})},x&&(i[v]=x(i[v])))}function c(v,x){try{h(n[v](x))}catch(B){w(s[0][3],B)}}function h(v){v.value instanceof O1?Promise.resolve(v.value.v).then(f,p):w(s[0][2],v)}function f(v){c("next",v)}function p(v){c("throw",v)}function w(v,x){v(x),s.shift(),s.length&&c(s[0][0],s[0][1])}}function XN(r){var t,e;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=r[i]?function(A){return(e=!e)?{value:O1(r[i](A)),done:!1}:s?s(A):A}:s}}function YN(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof $B=="function"?$B(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=r[s]&&function(A){return new Promise(function(l,c){A=r[s](A),i(l,c,A.done,A.value)})}}function i(s,A,l,c){Promise.resolve(c).then(function(h){s({value:h,done:l})},A)}}function WN(r,t){return Object.defineProperty?Object.defineProperty(r,"raw",{value:t}):r.raw=t,r}var Mk=Object.create?(function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}):function(r,t){r.default=t},_E=function(r){return _E=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[e.length]=n);return e},_E(r)};function $N(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e=_E(r),n=0;n<e.length;n++)e[n]!=="default"&&G5(t,r,e[n]);return Mk(t,r),t}function JN(r){return r&&r.__esModule?r:{default:r}}function ZN(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)}function tT(r,t,e,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!i:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(r,e):i?i.value=e:t.set(r,e),e}function eT(r,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?t===r:r.has(t)}function nT(r,t,e){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(e){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],e&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),r.stack.push({value:t,dispose:n,async:e})}else e&&r.stack.push({async:!0});return t}var Hk=typeof SuppressedError=="function"?SuppressedError:function(r,t,e){var n=new Error(e);return n.name="SuppressedError",n.error=r,n.suppressed=t,n};function iT(r){function t(s){r.error=r.hasError?new Hk(s,r.error,"An error was suppressed during disposal."):s,r.hasError=!0}var e,n=0;function i(){for(;e=r.stack.pop();)try{if(!e.async&&n===1)return n=0,r.stack.push(e),Promise.resolve().then(i);if(e.dispose){var s=e.dispose.call(e.value);if(e.async)return n|=2,Promise.resolve(s).then(i,function(A){return t(A),i()})}else n|=1}catch(A){t(A)}if(n===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return i()}function rT(r,t){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,i,s,A){return n?t?".jsx":".js":i&&(!s||!A)?e:i+s+"."+A.toLowerCase()+"js"}):r}const Pk={__extends:IN,__assign:WB,__rest:H1,__decorate:DN,__param:kN,__esDecorate:ON,__runInitializers:RN,__propKey:MN,__setFunctionName:HN,__metadata:PN,__awaiter:Be,__generator:jN,__createBinding:G5,__exportStar:KN,__values:$B,__read:W_,__spread:zN,__spreadArrays:GN,__spreadArray:VN,__await:O1,__asyncGenerator:qN,__asyncDelegator:XN,__asyncValues:YN,__makeTemplateObject:WN,__importStar:$N,__importDefault:JN,__classPrivateFieldGet:ZN,__classPrivateFieldSet:tT,__classPrivateFieldIn:eT,__addDisposableResource:nT,__disposeResources:iT,__rewriteRelativeImportExtension:rT},jk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:nT,get __assign(){return WB},__asyncDelegator:XN,__asyncGenerator:qN,__asyncValues:YN,__await:O1,__awaiter:Be,__classPrivateFieldGet:ZN,__classPrivateFieldIn:eT,__classPrivateFieldSet:tT,__createBinding:G5,__decorate:DN,__disposeResources:iT,__esDecorate:ON,__exportStar:KN,__extends:IN,__generator:jN,__importDefault:JN,__importStar:$N,__makeTemplateObject:WN,__metadata:PN,__param:kN,__propKey:MN,__read:W_,__rest:H1,__rewriteRelativeImportExtension:rT,__runInitializers:RN,__setFunctionName:HN,__spread:zN,__spreadArray:VN,__spreadArrays:GN,__values:$B,default:Pk},Symbol.toStringTag,{value:"Module"})),Kk="modulepreload",zk=function(r){return"/"+r},A3={},nh=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){let A=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=A(e.map(h=>{if(h=zk(h),h in A3)return;A3[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const w=document.createElement("link");if(w.rel=f?"stylesheet":Kk,f||(w.as="script"),w.crossOrigin="",w.href=h,c&&w.setAttribute("nonce",c),document.head.appendChild(w),f)return new Promise((v,x)=>{w.addEventListener("load",v),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(A){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=A,window.dispatchEvent(l),!l.defaultPrevented)throw A}return i.then(A=>{for(const l of A||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Gk=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>nh(async()=>{const{default:n}=await Promise.resolve().then(()=>Fp);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)};class $_ extends Error{constructor(t,e="FunctionsError",n){super(t),this.name=e,this.context=n}}class o3 extends $_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class l3 extends $_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class c3 extends $_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var FE;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(FE||(FE={}));class Vk{constructor(t,{headers:e={},customFetch:n,region:i=FE.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=Gk(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Be(this,arguments,void 0,function*(e,n={}){var i;try{const{headers:s,method:A,body:l,signal:c}=n;let h={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${e}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let w;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=l):typeof l=="string"?(h["Content-Type"]="text/plain",w=l):typeof FormData<"u"&&l instanceof FormData?w=l:(h["Content-Type"]="application/json",w=JSON.stringify(l)):w=l;const v=yield this.fetch(p.toString(),{method:A||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:w,signal:c}).catch(S=>{throw S.name==="AbortError"?S:new o3(S)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new l3(v);if(!v.ok)throw new c3(v);let B=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),F;return B==="application/json"?F=yield v.json():B==="application/octet-stream"||B==="application/pdf"?F=yield v.blob():B==="text/event-stream"?F=v:B==="multipart/form-data"?F=yield v.formData():F=yield v.text(),{data:F,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new o3(s)}:{data:null,error:s,response:s instanceof c3||s instanceof l3?s.context:void 0}}})}}var Rs={};const P1=QN(jk);var g2={},p2={},m2={},w2={},v2={},qk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},R1=qk();const Xk=R1.fetch,sT=R1.fetch.bind(R1),aT=R1.Headers,Yk=R1.Request,Wk=R1.Response,Fp=Object.freeze(Object.defineProperty({__proto__:null,Headers:aT,Request:Yk,Response:Wk,default:sT,fetch:Xk},Symbol.toStringTag,{value:"Module"})),$k=QN(Fp);var y2={},u3;function AT(){if(u3)return y2;u3=1,Object.defineProperty(y2,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return y2.default=r,y2}var h3;function oT(){if(h3)return v2;h3=1,Object.defineProperty(v2,"__esModule",{value:!0});const r=P1,t=r.__importDefault($k),e=r.__importDefault(AT());class n{constructor(s){var A,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(A=s.shouldThrowOnError)!==null&&A!==void 0?A:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,A){return this.headers=new Headers(this.headers),this.headers.set(s,A),this}then(s,A){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,p,w,v;let x=null,B=null,F=null,S=h.status,L=h.statusText;if(h.ok){if(this.method!=="HEAD"){const M=await h.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?B=M:B=JSON.parse(M))}const k=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),R=(w=h.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&R&&R.length>1&&(F=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(B)&&(B.length>1?(x={code:"PGRST116",details:`Results contain ${B.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},B=null,F=null,S=406,L="Not Acceptable"):B.length===1?B=B[0]:B=null)}else{const k=await h.text();try{x=JSON.parse(k),Array.isArray(x)&&h.status===404&&(B=[],x=null,S=200,L="OK")}catch{h.status===404&&k===""?(S=204,L="No Content"):x={message:k}}if(x&&this.isMaybeSingle&&(!((v=x==null?void 0:x.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,S=200,L="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:B,count:F,status:S,statusText:L}});return this.shouldThrowOnError||(c=c.catch(h=>{var f,p,w;return{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(p=h==null?void 0:h.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(w=h==null?void 0:h.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,A)}returns(){return this}overrideTypes(){return this}}return v2.default=n,v2}var d3;function lT(){if(d3)return w2;d3=1,Object.defineProperty(w2,"__esModule",{value:!0});const t=P1.__importDefault(oT());class e extends t.default{select(i){let s=!1;const A=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",A),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:A,foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${A===void 0?"":A?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:A=s}={}){const l=typeof A>"u"?"limit":`${A}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:A,referencedTable:l=A}={}){const c=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(h,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:A=!1,buffers:l=!1,wal:c=!1,format:h="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,A?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),w=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${w}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return w2.default=e,w2}var f3;function J_(){if(f3)return m2;f3=1,Object.defineProperty(m2,"__esModule",{value:!0});const t=P1.__importDefault(lT());class e extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const A=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${A})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:A,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const h=A===void 0?"":`(${A})`;return this.url.searchParams.append(i,`${c}fts${h}.${s}`),this}match(i){return Object.entries(i).forEach(([s,A])=>{this.url.searchParams.append(s,`eq.${A}`)}),this}not(i,s,A){return this.url.searchParams.append(i,`not.${s}.${A}`),this}or(i,{foreignTable:s,referencedTable:A=s}={}){const l=A?`${A}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,A){return this.url.searchParams.append(i,`${s}.${A}`),this}}return m2.default=e,m2}var g3;function cT(){if(g3)return p2;g3=1,Object.defineProperty(p2,"__esModule",{value:!0});const t=P1.__importDefault(J_());class e{constructor(i,{headers:s={},schema:A,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=A,this.fetch=l}select(i,s){const{head:A=!1,count:l}=s??{},c=A?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:A=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),A||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:A=!1,count:l,defaultToNull:c=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${A?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((w,v)=>w.concat(Object.keys(v)),[]);if(p.length>0){const w=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:s}={}){var A;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}delete({count:i}={}){var s;const A="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:A,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return p2.default=e,p2}var p3;function Jk(){if(p3)return g2;p3=1,Object.defineProperty(g2,"__esModule",{value:!0});const r=P1,t=r.__importDefault(cT()),e=r.__importDefault(J_());class n{constructor(s,{headers:A={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(A),this.schemaName=l,this.fetch=c}from(s){const A=new URL(`${this.url}/${s}`);return new t.default(A,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,A={},{head:l=!1,get:c=!1,count:h}={}){var f;let p;const w=new URL(`${this.url}/rpc/${s}`);let v;l||c?(p=l?"HEAD":"GET",Object.entries(A).filter(([B,F])=>F!==void 0).map(([B,F])=>[B,Array.isArray(F)?`{${F.join(",")}}`:`${F}`]).forEach(([B,F])=>{w.searchParams.append(B,F)})):(p="POST",v=A);const x=new Headers(this.headers);return h&&x.set("Prefer",`count=${h}`),new e.default({method:p,url:w,headers:x,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return g2.default=n,g2}var m3;function Zk(){if(m3)return Rs;m3=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.PostgrestError=Rs.PostgrestBuilder=Rs.PostgrestTransformBuilder=Rs.PostgrestFilterBuilder=Rs.PostgrestQueryBuilder=Rs.PostgrestClient=void 0;const r=P1,t=r.__importDefault(Jk());Rs.PostgrestClient=t.default;const e=r.__importDefault(cT());Rs.PostgrestQueryBuilder=e.default;const n=r.__importDefault(J_());Rs.PostgrestFilterBuilder=n.default;const i=r.__importDefault(lT());Rs.PostgrestTransformBuilder=i.default;const s=r.__importDefault(oT());Rs.PostgrestBuilder=s.default;const A=r.__importDefault(AT());return Rs.PostgrestError=A.default,Rs.default={PostgrestClient:t.default,PostgrestQueryBuilder:e.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:A.default},Rs}var tO=Zk();const eO=X_(tO),{PostgrestClient:nO,PostgrestQueryBuilder:fV,PostgrestFilterBuilder:gV,PostgrestTransformBuilder:pV,PostgrestBuilder:mV,PostgrestError:wV}=eO;class iO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const e=process.versions;if(e&&e.node){const n=e.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const n=this.getWebSocketConstructor();return new n(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const rO="2.76.1",sO=`realtime-js/${rO}`,aO="1.0.0",UE=1e4,AO=1e3,oO=100;var fv;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(fv||(fv={}));var Dr;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Dr||(Dr={}));var cl;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(cl||(cl={}));var LE;(function(r){r.websocket="websocket"})(LE||(LE={}));var eg;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(eg||(eg={}));class lO{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){const i=e.getUint8(1),s=e.getUint8(2);let A=this.HEADER_LENGTH+2;const l=n.decode(t.slice(A,A+i));A=A+i;const c=n.decode(t.slice(A,A+s));A=A+s;const h=JSON.parse(n.decode(t.slice(A,t.byteLength)));return{ref:null,topic:l,event:c,payload:h}}}class uT{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mi;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(mi||(mi={}));const w3=(r,t,e={})=>{var n;const i=(n=e.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,A)=>(s[A]=cO(A,r,t,i),s),{}):{}},cO=(r,t,e,n)=>{const i=t.find(l=>l.name===r),s=i==null?void 0:i.type,A=e[r];return s&&!n.includes(s)?hT(s,A):NE(A)},hT=(r,t)=>{if(r.charAt(0)==="_"){const e=r.slice(1,r.length);return fO(t,e)}switch(r){case mi.bool:return uO(t);case mi.float4:case mi.float8:case mi.int2:case mi.int4:case mi.int8:case mi.numeric:case mi.oid:return hO(t);case mi.json:case mi.jsonb:return dO(t);case mi.timestamp:return gO(t);case mi.abstime:case mi.date:case mi.daterange:case mi.int4range:case mi.int8range:case mi.money:case mi.reltime:case mi.text:case mi.time:case mi.timestamptz:case mi.timetz:case mi.tsrange:case mi.tstzrange:return NE(t);default:return NE(t)}},NE=r=>r,uO=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},hO=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},dO=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},fO=(r,t)=>{if(typeof r!="string")return r;const e=r.length-1,n=r[e];if(r[0]==="{"&&n==="}"){let s;const A=r.slice(1,e);try{s=JSON.parse("["+A+"]")}catch{s=A?A.split(","):[]}return s.map(l=>hT(t,l))}return r},gO=r=>typeof r=="string"?r.replace(" ","T"):r,dT=r=>{const t=new URL(r);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nx{constructor(t,e,n={},i=UE){this.channel=t,this.event=e,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var n;return this._hasReceived(t)&&e((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var v3;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(v3||(v3={}));class gv{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:A,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gv.syncState(this.state,i,s,A),this.pendingDiffs.forEach(c=>{this.state=gv.syncDiff(this.state,c,s,A)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:A,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gv.syncDiff(this.state,i,s,A),l())}),this.onJoin((i,s,A)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:A})}),this.onLeave((i,s,A)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:A})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,n,i){const s=this.cloneDeep(t),A=this.transformState(e),l={},c={};return this.map(s,(h,f)=>{A[h]||(c[h]=f)}),this.map(A,(h,f)=>{const p=s[h];if(p){const w=f.map(F=>F.presence_ref),v=p.map(F=>F.presence_ref),x=f.filter(F=>v.indexOf(F.presence_ref)<0),B=p.filter(F=>w.indexOf(F.presence_ref)<0);x.length>0&&(l[h]=x),B.length>0&&(c[h]=B)}else l[h]=f}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,e,n,i){const{joins:s,leaves:A}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var h;const f=(h=t[l])!==null&&h!==void 0?h:[];if(t[l]=this.cloneDeep(c),f.length>0){const p=t[l].map(v=>v.presence_ref),w=f.filter(v=>p.indexOf(v.presence_ref)<0);t[l].unshift(...w)}n(l,f,c)}),this.map(A,(l,c)=>{let h=t[l];if(!h)return;const f=c.map(p=>p.presence_ref);h=h.filter(p=>f.indexOf(p.presence_ref)<0),t[l]=h,i(l,h,c),h.length===0&&delete t[l]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(n=>e(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,n)=>{const i=t[n];return"metas"in i?e[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):e[n]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var y3;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(y3||(y3={}));var pv;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(pv||(pv={}));var gu;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(gu||(gu={}));class Z_{constructor(t,e={config:{}},n){var i,s;if(this.topic=t,this.params=e,this.socket=n,this.bindings={},this.state=Dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Nx(this,cl.join,this.params,this.timeout),this.rejoinTimer=new uT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(A=>A.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dr.closed,this.socket._remove(this)}),this._onError(A=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,A),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",A=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,A),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cl.reply,{},(A,l)=>{this._trigger(this._replyEventName(l),A)}),this.presence=new gv(this),this.broadcastEndpointURL=dT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Dr.closed){const{config:{broadcast:A,presence:l,private:c}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[pv.PRESENCE]&&this.bindings[pv.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},w={broadcast:A,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:h,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(gu.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(gu.CLOSED)),this.updateJoinPayload(Object.assign({config:w},p)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){t==null||t(gu.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,F=(x=B==null?void 0:B.length)!==null&&x!==void 0?x:0,S=[];for(let L=0;L<F;L++){const T=B[L],{filter:{event:k,schema:R,table:M,filter:j}}=T,V=v&&v[L];if(V&&V.event===k&&V.schema===R&&V.table===M&&V.filter===j)S.push(Object.assign(Object.assign({},T),{id:V.id}));else{this.unsubscribe(),this.state=Dr.errored,t==null||t(gu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(gu.SUBSCRIBED);return}}).receive("error",v=>{this.state=Dr.errored,t==null||t(gu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,n){return this.state===Dr.joined&&t===pv.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,n)}async httpSend(t,e,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");const A={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,A,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const h=await l.json();c=h.error||h.message||c}catch{}return Promise.reject(new Error(c))}async send(t,e={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:A}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:A,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=e.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var A,l,c;const h=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(A=this.params)===null||A===void 0?void 0:A.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dr.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Nx(this,cl.leave,{},t),n.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dr.closed,this.bindings={}}async _fetchWithTimeout(t,e,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),A=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(s),A}_push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Nx(this,t,e,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>oO){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,n){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,n){var i,s;const A=t.toLocaleLowerCase(),{close:l,error:c,leave:h,join:f}=cl;if(n&&[l,c,h,f].indexOf(A)>=0&&n!==this._joinRef())return;let w=this._onMessage(A,e,n);if(e&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(A)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var x,B,F;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((F=(B=v.filter)===null||B===void 0?void 0:B.event)===null||F===void 0?void 0:F.toLocaleLowerCase())===A}).map(v=>v.callback(w,n)):(s=this.bindings[A])===null||s===void 0||s.filter(v=>{var x,B,F,S,L,T;if(["broadcast","presence","postgres_changes"].includes(A))if("id"in v){const k=v.id,R=(x=v.filter)===null||x===void 0?void 0:x.event;return k&&((B=e.ids)===null||B===void 0?void 0:B.includes(k))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((F=e.data)===null||F===void 0?void 0:F.type.toLocaleLowerCase()))}else{const k=(L=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return k==="*"||k===((T=e==null?void 0:e.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===A}).map(v=>{if(typeof w=="object"&&"ids"in w){const x=w.data,{schema:B,table:F,commit_timestamp:S,type:L,errors:T}=x;w=Object.assign(Object.assign({},{schema:B,table:F,commit_timestamp:S,eventType:L,new:{},old:{},errors:T}),this._getPayloadRecords(x))}v.callback(w,n)})}_isClosed(){return this.state===Dr.closed}_isJoined(){return this.state===Dr.joined}_isJoining(){return this.state===Dr.joining}_isLeaving(){return this.state===Dr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,n){const i=t.toLocaleLowerCase(),s={type:i,filter:e,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,e){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Z_.isEqual(i.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(cl.close,{},t)}_onError(t){this._on(cl.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=w3(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=w3(t.columns,t.old_record)),e}}const Tx=()=>{},b2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pO=[1e3,2e3,5e3,1e4],mO=1e4,wO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vO{constructor(t,e){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=UE,this.transport=null,this.heartbeatIntervalMs=b2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tx,this.ref=0,this.reconnectTimer=null,this.logger=Tx,this.conn=null,this.sendBuffer=[],this.serializer=new lO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...A)=>nh(async()=>{const{default:l}=await Promise.resolve().then(()=>Fp);return{default:l}},void 0).then(({default:l})=>l(...A)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...A)=>s(...A)},!(!((n=e==null?void 0:e.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${LE.websocket}`,this.httpEndpoint=dT(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e==null?void 0:e.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aO}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,n){this.logger(t,e,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fv.connecting:return eg.Connecting;case fv.open:return eg.Open;case fv.closing:return eg.Closing;default:return eg.Closed}}isConnected(){return this.connectionState()===eg.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Z_(`realtime:${t}`,e,this);return this.channels.push(s),s}}push(t){const{topic:e,event:n,payload:i,ref:s}=t,A=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${e} ${n} (${s})`,i),this.isConnected()?A():this.sendBuffer.push(A)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(AO,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},b2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:A}=e,l=A?`(${A})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,A)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(cl.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${n}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{const n=new Blob([wO],{type:"application/javascript"});e=URL.createObjectURL(n)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e;t?e=t:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(n=>{const i={access_token:e,version:sO};e&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(cl.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(e)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new uT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},b2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,n,i,s,A,l,c,h,f;if(this.transport=(e=t==null?void 0:t.transport)!==null&&e!==void 0?e:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:UE,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:b2.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(A=t==null?void 0:t.accessToken)!==null&&A!==void 0?A:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Tx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(p=>pO[p-1]||mO),this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((p,w)=>w(JSON.stringify(p))),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class t4 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function zi(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class yO extends t4{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class TE extends t4{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}const e4=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>nh(async()=>{const{default:n}=await Promise.resolve().then(()=>Fp);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},bO=()=>Be(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nh(()=>Promise.resolve().then(()=>Fp),void 0)).Response:Response}),QE=r=>{if(Array.isArray(r))return r.map(e=>QE(e));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([e,n])=>{const i=e.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=QE(n)}),t},BO=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Qx=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),CO=(r,t,e)=>Be(void 0,void 0,void 0,function*(){const n=yield bO();r instanceof n&&!(e!=null&&e.noResolveJson)?r.json().then(i=>{const s=r.status||500,A=(i==null?void 0:i.statusCode)||s+"";t(new yO(Qx(i),s,A))}).catch(i=>{t(new TE(Qx(i),i))}):t(new TE(Qx(r),r))}),xO=(r,t,e,n)=>{const i={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"||!n?i:(BO(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),e))};function gb(r,t,e,n,i,s){return Be(this,void 0,void 0,function*(){return new Promise((A,l)=>{r(e,xO(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>A(c)).catch(c=>CO(c,l,n))})})}function Cv(r,t,e,n){return Be(this,void 0,void 0,function*(){return gb(r,"GET",t,e,n)})}function Wo(r,t,e,n,i){return Be(this,void 0,void 0,function*(){return gb(r,"POST",t,n,i,e)})}function IE(r,t,e,n,i){return Be(this,void 0,void 0,function*(){return gb(r,"PUT",t,n,i,e)})}function EO(r,t,e,n){return Be(this,void 0,void 0,function*(){return gb(r,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),n)})}function n4(r,t,e,n,i){return Be(this,void 0,void 0,function*(){return gb(r,"DELETE",t,n,i,e)})}class SO{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return Be(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zi(t))return{data:null,error:t};throw t}})}}var fT;class _O{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[fT]="BlobDownloadBuilder",this.promise=null}asStream(){return new SO(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Be(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zi(t))return{data:null,error:t};throw t}})}}fT=Symbol.toStringTag;const FO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},b3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UO{constructor(t,e={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=e4(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,n,i){return Be(this,void 0,void 0,function*(){try{let s;const A=Object.assign(Object.assign({},b3),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(A.upsert)});const c=A.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",A.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",A.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${A.cacheControl}`,l["content-type"]=A.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const h=this._removeEmptyFolders(e),f=this._getFinalPath(h),p=yield(t=="PUT"?IE:Wo)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:l},A!=null&&A.duplex?{duplex:A.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zi(s))return{data:null,error:s};throw s}})}upload(t,e,n){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,n)})}uploadToSignedUrl(t,e,n,i){return Be(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),A=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${A}`);l.searchParams.set("token",e);try{let c;const h=Object.assign({upsert:b3.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",h.cacheControl)):(c=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const p=yield IE(this.fetch,l.toString(),c,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(zi(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return Be(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=yield Wo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),A=new URL(this.url+s.url),l=A.searchParams.get("token");if(!l)throw new t4("No token returned by API");return{data:{signedUrl:A.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}update(t,e,n){return Be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,n)})}move(t,e,n){return Be(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}copy(t,e,n){return Be(this,void 0,void 0,function*(){try{return{data:{path:(yield Wo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,n){return Be(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Wo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const A=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${A}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,n){return Be(this,void 0,void 0,function*(){try{const i=yield Wo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(A=>Object.assign(Object.assign({},A),{signedUrl:A.signedURL?encodeURI(`${this.url}${A.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}download(t,e){const i=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),A=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>Cv(this.fetch,`${this.url}/${i}/${l}${A}`,{headers:this.headers,noResolveJson:!0});return new _O(c,this.shouldThrowOnError)}info(t){return Be(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const n=yield Cv(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:QE(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}exists(t){return Be(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield EO(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n)&&n instanceof TE){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&i.push(s);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}remove(t){return Be(this,void 0,void 0,function*(){try{return{data:yield n4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zi(e))return{data:null,error:e};throw e}})}list(t,e,n){return Be(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},FO),e),{prefix:t||""});return{data:yield Wo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}listV2(t,e){return Be(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Wo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},e),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const gT="2.76.1",pT={"X-Client-Info":`storage-js/${gT}`};class LO{constructor(t,e={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pT),e),this.fetch=e4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Be(this,void 0,void 0,function*(){try{return{data:yield Cv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zi(t))return{data:null,error:t};throw t}})}getBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Cv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zi(e))return{data:null,error:e};throw e}})}createBucket(t){return Be(this,arguments,void 0,function*(e,n={public:!1}){try{return{data:yield Wo(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zi(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return Be(this,void 0,void 0,function*(){try{return{data:yield IE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zi(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield n4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zi(e))return{data:null,error:e};throw e}})}}class NO{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pT),e),this.fetch=e4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zi(e))return{data:null,error:e};throw e}})}listBuckets(t){return Be(this,void 0,void 0,function*(){try{const e=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&e.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&e.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&e.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&e.set("sortOrder",t.sortOrder),t!=null&&t.search&&e.set("search",t.search);const n=e.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,s=yield Cv(this.fetch,i,{headers:this.headers});return{data:Array.isArray(s)?s.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zi(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield n4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zi(e))return{data:null,error:e};throw e}})}}const i4={"X-Client-Info":`storage-js/${gT}`,"Content-Type":"application/json"};class mT extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function RA(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Ix extends mT{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class TO extends mT{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}}var B3;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(B3||(B3={}));const r4=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>nh(async()=>{const{default:n}=await Promise.resolve().then(()=>Fp);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},QO=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},C3=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),IO=(r,t,e)=>Be(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(e!=null&&e.noResolveJson)){const i=r.status||500,s=r;if(typeof s.json=="function")s.json().then(A=>{const l=(A==null?void 0:A.statusCode)||(A==null?void 0:A.code)||i+"";t(new Ix(C3(A),i,l))}).catch(()=>{const A=i+"",l=s.statusText||`HTTP ${i} error`;t(new Ix(l,i,A))});else{const A=i+"",l=s.statusText||`HTTP ${i} error`;t(new Ix(l,i,A))}}else t(new TO(C3(r),r))}),DO=(r,t,e,n)=>{const i={method:r,headers:(t==null?void 0:t.headers)||{}};return n?(QO(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),e)):i};function kO(r,t,e,n,i,s){return Be(this,void 0,void 0,function*(){return new Promise((A,l)=>{r(e,DO(t,n,i,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const h=c.headers.get("content-type");return!h||!h.includes("application/json")?{}:c.json()}).then(c=>A(c)).catch(c=>IO(c,l,n))})})}function MA(r,t,e,n,i){return Be(this,void 0,void 0,function*(){return kO(r,"POST",t,n,i,e)})}class OO{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},i4),e),this.fetch=r4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield MA(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}getIndex(t,e){return Be(this,void 0,void 0,function*(){try{return{data:yield MA(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(RA(n))return{data:null,error:n};throw n}})}listIndexes(t){return Be(this,void 0,void 0,function*(){try{return{data:yield MA(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return Be(this,void 0,void 0,function*(){try{return{data:(yield MA(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(RA(n))return{data:null,error:n};throw n}})}}class RO{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},i4),e),this.fetch=r4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield MA(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}getVectors(t){return Be(this,void 0,void 0,function*(){try{return{data:yield MA(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}listVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield MA(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}queryVectors(t){return Be(this,void 0,void 0,function*(){try{return{data:yield MA(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}deleteVectors(t){return Be(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield MA(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}}class MO{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},i4),e),this.fetch=r4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield MA(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}getBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:yield MA(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}listBuckets(){return Be(this,arguments,void 0,function*(t={}){try{return{data:yield MA(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Be(this,void 0,void 0,function*(){try{return{data:(yield MA(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(RA(e))return{data:null,error:e};throw e}})}}class HO extends MO{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new PO(this.url,this.headers,t,this.fetch)}}class PO extends OO{constructor(t,e,n,i){super(t,e,i),this.vectorBucketName=n}createIndex(t){const e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Be(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Be(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Be(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Be(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new jO(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class jO extends RO{constructor(t,e,n,i,s){super(t,e,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Be(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Be(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Be(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Be(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Be(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class KO extends LO{constructor(t,e={},n,i){super(t,e,n,i)}from(t){return new UO(this.url,this.headers,t,this.fetch)}get vectors(){return new HO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new NO(this.url+"/iceberg",this.headers,this.fetch)}}const zO="2.76.1";let Mw="";typeof Deno<"u"?Mw="deno":typeof document<"u"?Mw="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mw="react-native":Mw="node";const GO={"X-Client-Info":`supabase-js-${Mw}/${zO}`},VO={headers:GO},qO={schema:"public"},XO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YO={},WO=r=>{let t;return r?t=r:typeof fetch>"u"?t=sT:t=fetch,(...e)=>t(...e)},$O=()=>typeof Headers>"u"?aT:Headers,JO=(r,t,e)=>{const n=WO(e),i=$O();return async(s,A)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:r;let h=new i(A==null?void 0:A.headers);return h.has("apikey")||h.set("apikey",r),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},A),{headers:h}))}};function ZO(r){return r.endsWith("/")?r:r+"/"}function tR(r,t){var e,n;const{db:i,auth:s,realtime:A,global:l}=r,{db:c,auth:h,realtime:f,global:p}=t,w={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},f),A),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(e=p==null?void 0:p.headers)!==null&&e!==void 0?e:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function eR(r){const t=r==null?void 0:r.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const wT="2.76.1",R0=30*1e3,DE=3,Dx=DE*R0,nR="http://localhost:9999",iR="supabase.auth.token",rR={"X-Client-Info":`gotrue-js/${wT}`},kE="X-Supabase-Api-Version",vT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aR=600*1e3;class xv extends Error{constructor(t,e,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=n}}function Le(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class AR extends xv{constructor(t,e,n){super(t,e,n),this.name="AuthApiError",this.status=e,this.code=n}}function oR(r){return Le(r)&&r.name==="AuthApiError"}class ng extends xv{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class gf extends xv{constructor(t,e,n,i){super(t,n,i),this.name=e,this.status=n}}class Zh extends gf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lR(r){return Le(r)&&r.name==="AuthSessionMissingError"}class x0 extends gf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class B2 extends gf{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class C2 extends gf{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cR(r){return Le(r)&&r.name==="AuthImplicitGrantRedirectError"}class x3 extends gf{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class OE extends gf{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function kx(r){return Le(r)&&r.name==="AuthRetryableFetchError"}class E3 extends gf{constructor(t,e,n){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=n}}class RE extends gf{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const JB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S3=` 	
\r=`.split(""),uR=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<S3.length;t+=1)r[S3[t].charCodeAt(0)]=-2;for(let t=0;t<JB.length;t+=1)r[JB[t].charCodeAt(0)]=t;return r})();function _3(r,t,e){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;e(JB[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;e(JB[n]),t.queuedBits-=6}}function yT(r,t,e){const n=uR[r];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function F3(r){const t=[],e=A=>{t.push(String.fromCodePoint(A))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=A=>{fR(A,n,e)};for(let A=0;A<r.length;A+=1)yT(r.charCodeAt(A),i,s);return t.join("")}function hR(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function dR(r,t){for(let e=0;e<r.length;e+=1){let n=r.charCodeAt(e);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}hR(n,t)}}function fR(r,t,e){if(t.utf8seq===0){if(r<=127){e(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function sm(r){const t=[],e={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<r.length;i+=1)yT(r.charCodeAt(i),e,n);return new Uint8Array(t)}function gR(r){const t=[];return dR(r,e=>t.push(e)),new Uint8Array(t)}function og(r){const t=[],e={queue:0,queuedBits:0},n=i=>{t.push(i)};return r.forEach(i=>_3(i,e,n)),_3(null,e,n),t.join("")}function pR(r){return Math.round(Date.now()/1e3)+r}function mR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const pA=()=>typeof window<"u"&&typeof document<"u",Vf={tested:!1,writable:!1},bT=()=>{if(!pA())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vf.tested)return Vf.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Vf.tested=!0,Vf.writable=!0}catch{Vf.tested=!0,Vf.writable=!1}return Vf.writable};function wR(r){const t={},e=new URL(r);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return e.searchParams.forEach((n,i)=>{t[i]=n}),t}const BT=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>nh(async()=>{const{default:n}=await Promise.resolve().then(()=>Fp);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},vR=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",M0=async(r,t,e)=>{await r.setItem(t,JSON.stringify(e))},qf=async(r,t)=>{const e=await r.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Wh=async(r,t)=>{await r.removeItem(t)};class V5{constructor(){this.promise=new V5.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}V5.promiseConstructor=Promise;function Ox(r){const t=r.split(".");if(t.length!==3)throw new RE("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sR.test(t[n]))throw new RE("JWT not in base64url format");return{header:JSON.parse(F3(t[0])),payload:JSON.parse(F3(t[1])),signature:sm(t[2]),raw:{header:t[0],payload:t[1]}}}async function yR(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function bR(r,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const A=await r(s);if(!t(s,null,A)){n(A);return}}catch(A){if(!t(s,A)){i(A);return}}})()})}function BR(r){return("0"+r.toString(16)).substr(-2)}function CR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=e.length;let i="";for(let s=0;s<56;s++)i+=e.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,BR).join("")}async function xR(r){const e=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ER(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const e=await xR(r);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function E0(r,t,e=!1){const n=CR();let i=n;e&&(i+="/PASSWORD_RECOVERY"),await M0(r,`${t}-code-verifier`,i);const s=await ER(n);return[s,n===s?"plain":"s256"]}const SR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _R(r){const t=r.headers.get(kE);if(!t||!t.match(SR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FR(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function UR(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function S0(r){if(!LR.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rx(){const r={};return new Proxy(r,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const n=e.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U3(r){return JSON.parse(JSON.stringify(r))}const Wf=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),NR=[502,503,504];async function L3(r){var t;if(!vR(r))throw new OE(Wf(r),0);if(NR.includes(r.status))throw new OE(Wf(r),r.status);let e;try{e=await r.json()}catch(s){throw new ng(Wf(s),s)}let n;const i=_R(r);if(i&&i.getTime()>=vT["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?n=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(n=e.error_code),n){if(n==="weak_password")throw new E3(Wf(e),r.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zh}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((s,A)=>s&&typeof A=="string",!0))throw new E3(Wf(e),r.status,e.weak_password.reasons);throw new AR(Wf(e),r.status||500,n)}const TR=(r,t,e,n)=>{const i={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),e))};async function ze(r,t,e,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[kE]||(s[kE]=vT["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const A=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(A.redirect_to=n.redirectTo);const l=Object.keys(A).length?"?"+new URLSearchParams(A).toString():"",c=await QR(r,t,e+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function QR(r,t,e,n,i,s){const A=TR(t,n,i,s);let l;try{l=await r(e,Object.assign({},A))}catch(c){throw console.error(c),new OE(Wf(c),0)}if(l.ok||await L3(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await L3(c)}}function Vo(r){var t;let e=null;kR(r)&&(e=Object.assign({},r),r.expires_at||(e.expires_at=pR(r.expires_in)));const n=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:e,user:n},error:null}}function N3(r){const t=Vo(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((e,n)=>e&&typeof n=="string",!0)&&(t.data.weak_password=r.weak_password),t}function rd(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function IR(r){return{data:r,error:null}}function DR(r){const{action_link:t,email_otp:e,hashed_token:n,redirect_to:i,verification_type:s}=r,A=H1(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:e,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},A);return{data:{properties:l,user:c},error:null}}function T3(r){return r}function kR(r){return r.access_token&&r.refresh_token&&r.expires_in}const Mx=["global","local","others"];class OR{constructor({url:t="",headers:e={},fetch:n}){this.url=t,this.headers=e,this.fetch=BT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,e=Mx[0]){if(Mx.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mx.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,e={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:rd})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:e}=t,n=H1(t,["options"]),i=Object.assign(Object.assign({},n),e);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:DR,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(Le(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rd})}catch(e){if(Le(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,n,i,s,A,l,c;try{const h={nextPage:null,lastPage:0,total:0},f=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:T3});if(f.error)throw f.error;const p=await f.json(),w=(A=f.headers.get("x-total-count"))!==null&&A!==void 0?A:0,v=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const B=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(x.split(";")[1].split("=")[1]);h[`${F}Page`]=B}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Le(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){S0(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rd})}catch(e){if(Le(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){S0(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:rd})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,e=!1){S0(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:rd})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){S0(t.userId);try{const{data:e,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:n}}catch(e){if(Le(e))return{data:null,error:e};throw e}}async _deleteFactor(t){S0(t.userId),S0(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(Le(e))return{data:null,error:e};throw e}}async _listOAuthClients(t){var e,n,i,s,A,l,c;try{const h={nextPage:null,lastPage:0,total:0},f=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:T3});if(f.error)throw f.error;const p=await f.json(),w=(A=f.headers.get("x-total-count"))!==null&&A!==void 0?A:0,v=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const B=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(x.split(";")[1].split("=")[1]);h[`${F}Page`]=B}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Le(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Le(e))return{data:null,error:e};throw e}}async _getOAuthClient(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Le(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(t){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Le(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(Le(e))return{data:null,error:e};throw e}}}function Q3(r={}){return{getItem:t=>r[t]||null,setItem:(t,e)=>{r[t]=e},removeItem:t=>{delete r[t]}}}const _0={debug:!!(globalThis&&bT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class RR extends CT{}async function MR(r,t,e){_0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),_0.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){_0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await e()}finally{_0.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(t===0)throw _0.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new RR(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(_0.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}function HR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xT(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function PR(r){return parseInt(r,16)}function jR(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function KR(r){var t;const{chainId:e,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:A,notBefore:l,requestId:c,resources:h,scheme:f,uri:p,version:w}=r;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(A&&A.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${A}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const v=xT(r.address),x=f?`${f}://${n}`:n,B=r.statement?`${r.statement}
`:"",F=`${x} wants you to sign in with your Ethereum account:
${v}

${B}`;let S=`URI: ${p}
Version: ${w}
Chain ID: ${e}${A?`
Nonce: ${A}`:""}
Issued At: ${s.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),l&&(S+=`
Not Before: ${l.toISOString()}`),c&&(S+=`
Request ID: ${c}`),h){let L=`
Resources:`;for(const T of h){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);L+=`
- ${T}`}S+=L}return`${F}
${S}`}class xr extends Error{constructor({message:t,code:e,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=e}}class ZB extends xr{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}}function zR({error:r,options:t}){var e,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((e=s.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new xr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new xr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new xr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new xr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new xr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new xr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new xr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const A=window.location.hostname;if(ET(A)){if(s.rp.id!==A)return new xr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new xr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new xr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new xr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new xr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function GR({error:r,options:t}){const{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new xr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const n=window.location.hostname;if(ET(n)){if(e.rpId!==n)return new xr({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new xr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new xr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new xr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class VR{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const qR=new VR;function XR(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:t,user:e,excludeCredentials:n}=r,i=H1(r,["challenge","user","excludeCredentials"]),s=sm(t).buffer,A=Object.assign(Object.assign({},e),{id:sm(e.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:A});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},h),{id:sm(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function YR(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:t,allowCredentials:e}=r,n=H1(r,["challenge","allowCredentials"]),i=sm(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(e&&e.length>0){s.allowCredentials=new Array(e.length);for(let A=0;A<e.length;A++){const l=e[A];s.allowCredentials[A]=Object.assign(Object.assign({},l),{id:sm(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function WR(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const e=r;return{id:r.id,rawId:r.id,response:{attestationObject:og(new Uint8Array(r.response.attestationObject)),clientDataJSON:og(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $R(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const e=r,n=r.getClientExtensionResults(),i=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:og(new Uint8Array(i.authenticatorData)),clientDataJSON:og(new Uint8Array(i.clientDataJSON)),signature:og(new Uint8Array(i.signature)),userHandle:i.userHandle?og(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ET(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function I3(){var r,t;return!!(pA()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function JR(r){try{const t=await navigator.credentials.create(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ZB("Browser returned unexpected credential type",t)}:{data:null,error:new ZB("Empty credential response",t)}}catch(t){return{data:null,error:zR({error:t,options:r})}}}async function ZR(r){try{const t=await navigator.credentials.get(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ZB("Browser returned unexpected credential type",t)}:{data:null,error:new ZB("Empty credential response",t)}}catch(t){return{data:null,error:GR({error:t,options:r})}}}const tM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},eM={userVerification:"preferred",hints:["security-key"]};function t5(...r){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of r)if(i)for(const s in i){const A=i[s];if(A!==void 0)if(Array.isArray(A))n[s]=A;else if(e(A))n[s]=A;else if(t(A)){const l=n[s];t(l)?n[s]=t5(l,A):n[s]=t5(A)}else n[s]=A}return n}function nM(r,t){return t5(tM,r,t||{})}function iM(r,t){return t5(eM,r,t||{})}class rM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:e,friendlyName:n,signal:i},s){try{const{data:A,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:e});if(!A)return{data:null,error:l};const c=i??qR.createNewAbortSignal();if(A.webauthn.type==="create"){const{user:h}=A.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(A.webauthn.type){case"create":{const h=nM(A.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:p}=await JR({publicKey:h,signal:c});return f?{data:{factorId:t,challengeId:A.id,webauthn:{type:A.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=iM(A.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:p}=await ZR(Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:h,signal:c}));return f?{data:{factorId:t,challengeId:A.id,webauthn:{type:A.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(A){return Le(A)?{data:null,error:A}:{data:null,error:new ng("Unexpected error in challenge",A)}}}async _verify({challengeId:t,factorId:e,webauthn:n}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!e)return{data:null,error:new xv("rpId is required for WebAuthn authentication")};try{if(!I3())return{data:null,error:new ng("Browser does not support WebAuthn",null)};const{data:A,error:l}=await this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:n},signal:i},{request:s});if(!A)return{data:null,error:l};const{webauthn:c}=A;return this._verify({factorId:t,challengeId:A.challengeId,webauthn:{type:c.type,rpId:e,rpOrigins:n,credential_response:c.credential_response}})}catch(A){return Le(A)?{data:null,error:A}:{data:null,error:new ng("Unexpected error in authenticate",A)}}}async _register({friendlyName:t,rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!e)return{data:null,error:new xv("rpId is required for WebAuthn registration")};try{if(!I3())return{data:null,error:new ng("Browser does not support WebAuthn",null)};const{data:A,error:l}=await this._enroll({friendlyName:t});if(!A)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:c,error:h}=await this._challenge({factorId:A.id,friendlyName:A.friendly_name,webauthn:{rpId:e,rpOrigins:n},signal:i},{create:s});return c?this._verify({factorId:A.id,challengeId:c.challengeId,webauthn:{rpId:e,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:h}}catch(A){return Le(A)?{data:null,error:A}:{data:null,error:new ng("Unexpected error in register",A)}}}}HR();const sM={url:nR,storageKey:iR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function D3(r,t,e){return await e()}const F0={};class Ev{get jwks(){var t,e;return(e=(t=F0[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){F0[this.storageKey]=Object.assign(Object.assign({},F0[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=F0[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){F0[this.storageKey]=Object.assign(Object.assign({},F0[this.storageKey]),{cachedAt:t})}constructor(t){var e,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ev.nextInstanceID,Ev.nextInstanceID+=1,this.instanceID>0&&pA()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},sM),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new OR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=BT(i.fetch),this.lock=i.lock||D3,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:pA()&&(!((e=globalThis==null?void 0:globalThis.navigator)===null||e===void 0)&&e.locks)?this.lock=MR:this.lock=D3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rM(this)},this.persistSession?(i.storage?this.storage=i.storage:bT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Q3(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Q3(this.memoryStorage)),pA()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wT}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=wR(window.location.href);let n="none";if(this._isImplicitGrantCallback(e)?n="implicit":await this._isPKCECallback(e)&&(n="pkce"),pA()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(e,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),cR(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:A,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",A,"redirect type",l),await this._saveSession(A),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",A):await this._notifyAllSubscribers("SIGNED_IN",A)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Le(e)?{error:e}:{error:new ng("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,n,i;try{const s=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Vo}),{data:A,error:l}=s;if(l||!A)return{data:{user:null,session:null},error:l};const c=A.session,h=A.user;return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var e,n,i;try{let s;if("email"in t){const{email:f,password:p,options:w}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await E0(this.storage,this.storageKey)),s=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:f,password:p,data:(e=w==null?void 0:w.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:v,code_challenge_method:x},xform:Vo})}else if("phone"in t){const{phone:f,password:p,options:w}=t;s=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},channel:(i=w==null?void 0:w.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Vo})}else throw new B2("You must provide either an email or phone number and a password");const{data:A,error:l}=s;if(l||!A)return{data:{user:null,session:null},error:l};const c=A.session,h=A.user;return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let e;if("email"in t){const{email:s,password:A,options:l}=t;e=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:A,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:N3})}else if("phone"in t){const{phone:s,password:A,options:l}=t;e=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:A,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:N3})}else throw new B2("You must provide either an email or phone number and a password");const{data:n,error:i}=e;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new x0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(e){if(Le(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;switch(e){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}}async signInWithEthereum(t){var e,n,i,s,A,l,c,h,f,p,w;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:B,wallet:F,statement:S,options:L}=t;let T;if(pA())if(typeof F=="object")T=F;else{const et=window;if("ethereum"in et&&typeof et.ethereum=="object"&&"request"in et.ethereum&&typeof et.ethereum.request=="function")T=et.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=F}const k=new URL((e=L==null?void 0:L.url)!==null&&e!==void 0?e:window.location.href),R=await T.request({method:"eth_requestAccounts"}).then(et=>et).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=xT(R[0]);let j=(n=L==null?void 0:L.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const et=await T.request({method:"eth_chainId"});j=PR(et)}const V={domain:k.host,address:M,statement:S,uri:k.href,version:"1",chainId:j,nonce:(i=L==null?void 0:L.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(A=(s=L==null?void 0:L.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&A!==void 0?A:new Date,expirationTime:(l=L==null?void 0:L.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=L==null?void 0:L.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(h=L==null?void 0:L.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=L==null?void 0:L.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=KR(V),x=await T.request({method:"personal_sign",params:[jR(v),M]})}try{const{data:B,error:F}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Vo});if(F)throw F;return!B||!B.session||!B.user?{data:{user:null,session:null},error:new x0}:(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),{data:Object.assign({},B),error:F})}catch(B){if(Le(B))return{data:{user:null,session:null},error:B};throw B}}async signInWithSolana(t){var e,n,i,s,A,l,c,h,f,p,w,v;let x,B;if("message"in t)x=t.message,B=t.signature;else{const{chain:F,wallet:S,statement:L,options:T}=t;let k;if(pA())if(typeof S=="object")k=S;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))k=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=S}const R=new URL((e=T==null?void 0:T.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in k&&k.signIn){const M=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),L?{statement:L}:null));let j;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")j=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)j=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)x=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),B=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${R.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(i=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=T==null?void 0:T.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((A=T==null?void 0:T.signInWithSolana)===null||A===void 0)&&A.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((p=(f=T==null?void 0:T.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...T.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const M=await k.signMessage(new TextEncoder().encode(x),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=M}}try{const{data:F,error:S}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:og(B)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Vo});if(S)throw S;return!F||!F.session||!F.user?{data:{user:null,session:null},error:new x0}:(F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),{data:Object.assign({},F),error:S})}catch(F){if(Le(F))return{data:{user:null,session:null},error:F};throw F}}async _exchangeCodeForSession(t){const e=await qf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(e??"").split("/");try{const{data:s,error:A}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Vo});if(await Wh(this.storage,`${this.storageKey}-code-verifier`),A)throw A;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new x0}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:A})}catch(s){if(Le(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:e,provider:n,token:i,access_token:s,nonce:A}=t,l=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:A,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:Vo}),{data:c,error:h}=l;return h?{data:{user:null,session:null},error:h}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new x0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:h})}catch(e){if(Le(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,n,i,s,A;try{if("email"in t){const{email:l,options:c}=t;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await E0(this.storage,this.storageKey));const{error:p}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(e=c==null?void 0:c.data)!==null&&e!==void 0?e:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:c}=t,{data:h,error:f}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(A=c==null?void 0:c.channel)!==null&&A!==void 0?A:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new B2("You must provide either an email or phone number.")}catch(l){if(Le(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var e,n;try{let i,s;"options"in t&&(i=(e=t.options)===null||e===void 0?void 0:e.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:A,error:l}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Vo});if(l)throw l;if(!A)throw new Error("An error occurred on token verification.");const c=A.session,h=A.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(Le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var e,n,i;try{let s=null,A=null;return this.flowType==="pkce"&&([s,A]=await E0(this.storage,this.storageKey)),await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:A}),headers:this.headers,xform:IR})}catch(s){if(Le(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:n}=t;if(n)throw n;if(!e)throw new Zh;const{error:i}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:A}=await ze(this.fetch,"POST",e,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:A}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:A,error:l}=await ze(this.fetch,"POST",e,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:A==null?void 0:A.message_id},error:l}}throw new B2("You must provide either an email or phone number and a type")}catch(e){if(Le(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await e()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=e();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await qf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Dx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const A=await qf(this.userStorage,this.storageKey+"-user");A!=null&&A.user?t.user=A.user:t.user=Rx()}if(this.storage.isServer&&t.user){let A=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,h,f)=>(!A&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),A=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,h,f))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:rd}):await this._useSession(async e=>{var n,i,s;const{data:A,error:l}=e;if(l)throw l;return!(!((n=A.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zh}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=A.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:rd})})}catch(e){if(Le(e))return lR(e)&&(await this._removeSession(),await Wh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Zh;const A=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await E0(this.storage,this.storageKey));const{data:h,error:f}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:A.access_token,xform:rd});if(f)throw f;return A.user=h.user,await this._saveSession(A),await this._notifyAllSubscribers("USER_UPDATED",A),{data:{user:A.user},error:null}})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zh;const e=Date.now()/1e3;let n=e,i=!0,s=null;const{payload:A}=Ox(t.access_token);if(A.exp&&(n=A.exp,i=n<=e),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-e,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(Le(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var n;if(!t){const{data:A,error:l}=e;if(l)throw l;t=(n=A.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Zh;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(Le(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!pA())throw new C2("No browser detected.");if(t.error||t.error_description||t.error_code)throw new C2(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new x3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new C2("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new x3("No code detected.");const{data:L,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:A,expires_in:l,expires_at:c,token_type:h}=t;if(!s||!l||!A||!h)throw new C2("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(l);let w=f+p;c&&(w=parseInt(c));const v=w-f;v*1e3<=R0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const x=w-p;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,w,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,w,f);const{data:B,error:F}=await this._getUser(s);if(F)throw F;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:w,refresh_token:A,token_type:h,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if(Le(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await qf(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var n;const{data:i,error:s}=e;if(s)return{error:s};const A=(n=i.session)===null||n===void 0?void 0:n.access_token;if(A){const{error:l}=await this.admin.signOut(A,t);if(l&&!(oR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Wh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=mR(),n={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async e=>{var n,i;try{const{data:{session:s},error:A}=e;if(A)throw A;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,e={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await E0(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(s){if(Le(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:e,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(Le(e))return{data:null,error:e};throw e}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var e;try{const{data:n,error:i}=await this._useSession(async s=>{var A,l,c,h,f;const{data:p,error:w}=s;if(w)throw w;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(A=t.options)===null||A===void 0?void 0:A.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return pA()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Le(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async e=>{var n;try{const{error:i,data:{session:s}}=e;if(i)throw i;const{options:A,provider:l,token:c,access_token:h,nonce:f}=t,p=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:Vo}),{data:w,error:v}=p;return v?{data:{user:null,session:null},error:v}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new x0}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:v})}catch(i){if(Le(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async e=>{var n,i;const{data:s,error:A}=e;if(A)throw A;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(e){if(Le(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const n=Date.now();return await bR(async i=>(i>0&&await yR(200*Math.pow(2,i-1)),this._debug(e,"refreshing attempt",i),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vo})),(i,s)=>{const A=200*Math.pow(2,i);return s&&kx(s)&&Date.now()+A-n<R0})}catch(n){if(this._debug(e,"error",n),Le(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",n),pA()&&!e.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await qf(this.storage,this.storageKey);if(i&&this.userStorage){let A=await qf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!A&&(A={user:i.user},await M0(this.userStorage,this.storageKey+"-user",A)),i.user=(t=A==null?void 0:A.user)!==null&&t!==void 0?t:Rx()}else if(i&&!i.user&&!i.user){const A=await qf(this.storage,this.storageKey+"-user");A&&(A!=null&&A.user)?(i.user=A.user,await Wh(this.storage,this.storageKey+"-user"),await M0(this.storage,this.storageKey,i)):i.user=Rx()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Dx;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Dx}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:A}=await this._callRefreshToken(i.refresh_token);A&&(console.error(A),kx(A)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",A),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:A,error:l}=await this._getUser(i.access_token);!l&&(A!=null&&A.user)?(i.user=A.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(A){console.error("Error getting user data:",A),this._debug(n,"error getting user data, skipping SIGNED_IN notification",A)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var e,n;if(!t)throw new Zh;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new V5;const{data:s,error:A}=await this._refreshAccessToken(t);if(A)throw A;if(!s.session)throw new Zh;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Le(s)){const A={data:null,error:s};return kx(s)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(A),A}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,e,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",e,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:e});const s=[],A=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,e)}catch(c){s.push(c)}});if(await Promise.all(A),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const e=Object.assign({},t),n=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&e.user&&await M0(this.userStorage,this.storageKey+"-user",{user:e.user});const i=Object.assign({},e);delete i.user;const s=U3(i);await M0(this.storage,this.storageKey,s)}else{const i=U3(e);await M0(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Wh(this.storage,this.storageKey),await Wh(this.storage,this.storageKey+"-code-verifier"),await Wh(this.storage,this.storageKey+"-user"),this.userStorage&&await Wh(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pA()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),R0);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/R0);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${R0}ms, refresh threshold is ${DE} ticks`),i<=DE&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof CT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pA()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,n){const i=[`provider=${encodeURIComponent(e)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,A]=await E0(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(A)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var n;const{data:i,error:s}=e;return s?{data:null,error:s}:await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(e){if(Le(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var n,i;const{data:s,error:A}=e;if(A)return{data:null,error:A};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:h}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(e){if(Le(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var n;const{data:i,error:s}=e;if(s)return{data:null,error:s};const A=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?WR(t.webauthn.credential_response):$R(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:A,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(e){if(Le(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var n;const{data:i,error:s}=e;if(s)return{data:null,error:s};const A=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(A.error)return A;const{data:l}=A;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:XR(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:YR(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(Le(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){var t;const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=e==null?void 0:e.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:A}=Ox(i.access_token);let l=null;A.aal&&(l=A.aal);let c=l;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=A.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,e={keys:[]}){let n=e.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+aR>i)return n;const{data:s,error:A}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(A)throw A;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,e={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:i,payload:s,signature:A,raw:{header:l,payload:c}}=Ox(n);e!=null&&e.allowExpired||FR(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,e!=null&&e.keys?{keys:e.keys}:e==null?void 0:e.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:A},error:null}}const f=UR(i.alg),p=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,A,gR(`${l}.${c}`)))throw new RE("Invalid JWT signature");return{data:{claims:s,header:i,signature:A},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}}Ev.nextInstanceID=0;const aM=Ev;class AM extends aM{constructor(t){super(t)}}class oM{constructor(t,e,n){var i,s,A;this.supabaseUrl=t,this.supabaseKey=e;const l=eR(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:qO,realtime:YO,auth:Object.assign(Object.assign({},XO),{storageKey:c}),global:VO},f=tR(n??{},h);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((A=f.auth)!==null&&A!==void 0?A:{},this.headers,f.global.fetch),this.fetch=JO(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new nO(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new KO(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Vk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,e;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:A,flowType:l,lock:c,debug:h},f,p){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AM({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),f),storageKey:A,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:c,debug:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new vO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lM=(r,t,e)=>new oM(r,t,e);function cM(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const t=r.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}cM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uM="https://uyfwqcbepdbfariuuxks.supabase.co",hM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV5ZndxY2JlcGRiZmFyaXV1eGtzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEzOTc2NDksImV4cCI6MjA3Njk3MzY0OX0.Pigp35_6m-4rc7sZMXCESyKF3pIZ2L2vd2wu8q6Sx9M",Gi=lM(uM,hM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fM=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),k3=r=>{const t=fM(r);return t.charAt(0).toUpperCase()+t.slice(1)},ST=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),gM=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=It.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:A,...l},c)=>It.createElement("svg",{ref:c,...pM,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:ST("lucide",i),...!s&&!gM(l)&&{"aria-hidden":"true"},...l},[...A.map(([h,f])=>It.createElement(h,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=(r,t)=>{const e=It.forwardRef(({className:n,...i},s)=>It.createElement(mM,{ref:s,iconNode:t,className:ST(`lucide-${dM(k3(r))}`,`lucide-${r}`,n),...i}));return e.displayName=k3(r),e};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_T=on("bell",wM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],yM=on("building",vM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],BM=on("calendar-days",bM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xM=on("calendar-off",CM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FT=on("chevron-down",EM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_M=on("chevron-up",SM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UM=on("circle-check-big",FM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],NM=on("circle-user",LM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],QM=on("circle-x",TM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DM=on("clock",IM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Hx=on("coins",kM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],RM=on("download",OM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],UT=on("droplets",MM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]],PM=on("file-plus-2",HM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],O3=on("hash",jM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],zM=on("hourglass",KM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],VM=on("inbox",GM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],XM=on("info",qM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],WM=on("layout-dashboard",YM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tf=on("loader-circle",$M);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZM=on("log-out",JM);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],e8=on("menu",t8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],i8=on("message-square",n8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],LT=on("package-plus",r8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],a8=on("paperclip",s8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],q5=on("plus",A8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],l8=on("rotate-ccw",o8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],NT=on("search",c8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],s4=on("send",u8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],d8=on("shield-check",h8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],TT=on("shopping-cart",f8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],p8=on("square-pen",g8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pb=on("triangle-alert",m8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],v8=on("user-check",w8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],b8=on("user-x",y8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],C8=on("user",B8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],a4=on("warehouse",x8);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Up=on("x",E8),QT=It.createContext(void 0),S8=({children:r})=>{const[t,e]=It.useState(null),[n,i]=It.useState(null),[s,A]=It.useState(!0),[l,c]=It.useState(!1);It.useEffect(()=>{const{data:{subscription:w}}=Gi.auth.onAuthStateChange(async(v,x)=>{if(i(x),x!=null&&x.user){const{data:B,error:F}=await Gi.from("profiles").select("role, full_name").eq("id",x.user.id).single();B?e({id:x.user.id,email:x.user.email,role:B.role,fullName:B.full_name}):(console.error("User authenticated but profile missing. Forcing logout.",F),await Gi.auth.signOut(),e(null))}else e(null);A(!1),c(!1)});return()=>{w==null||w.unsubscribe()}},[]);const h=It.useCallback(async(w,v)=>{c(!0);const{error:x}=await Gi.auth.signInWithPassword({email:w,password:v});return x&&c(!1),{error:x?x.message:null}},[]),f=It.useCallback(async()=>{c(!0);const{error:w}=await Gi.auth.signOut();w&&(console.error("Error logging out:",w.message),c(!1))},[]),p=It.useMemo(()=>({session:n,currentUser:t,login:h,logout:f,isInitializing:s,isAuthenticating:l}),[n,t,s,l,h,f]);return s?U.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-zankli-cream-50",children:[U.jsx(tf,{className:"h-10 w-10 animate-spin text-zankli-orange-500"}),U.jsx("p",{className:"mt-4 text-gray-600",children:"Initializing Session..."})]}):U.jsx(QT.Provider,{value:p,children:r})},Fc=()=>{const r=It.useContext(QT);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},_8=()=>{const[r,t]=It.useState(""),[e,n]=It.useState(""),[i,s]=It.useState(""),{login:A,isAuthenticating:l}=Fc(),c=async h=>{h.preventDefault(),s("");try{const{error:f}=await A(r,e);f&&s(f||"Invalid email or password. Please check your credentials and try again.")}catch(f){console.error("Login failed unexpectedly:",f),s(f.message||"An unexpected error occurred during login.")}};return U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zankli-cream-50",children:U.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-2xl",children:[U.jsxs("div",{className:"text-center",children:[U.jsx("h1",{className:"text-3xl font-bold text-zankli-orange-800",children:"Zankli Medical Centre"}),U.jsx("p",{className:"mt-2 text-zankli-cream-900",children:"Internal Portal"})]}),U.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[U.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[U.jsx("div",{children:U.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-zankli-orange-500 focus:border-zankli-orange-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:h=>t(h.target.value)})}),U.jsx("div",{children:U.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-zankli-orange-500 focus:border-zankli-orange-500 focus:z-10 sm:text-sm",placeholder:"Password",value:e,onChange:h=>n(h.target.value)})})]}),i&&U.jsx("p",{className:"text-sm text-red-600",children:i}),U.jsx("div",{children:U.jsxs("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-zankli-orange-600 hover:bg-zankli-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zankli-orange-500 disabled:bg-zankli-orange-300",children:[U.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:U.jsx(d8,{className:"h-5 w-5 text-zankli-orange-500 group-hover:text-zankli-orange-400","aria-hidden":"true"})}),l?"Signing In...":"Sign In"]})})]})]})})};var bo=(r=>(r.ADMIN="admin",r.APPROVER="approver",r))(bo||{}),_e=(r=>(r.DIESEL="Diesel Requisition",r.PROCUREMENT="Product Procurement",r.LEAVE="Leave Request",r.ITEM="Item Request",r.STORE="Store Requisition",r))(_e||{}),be=(r=>(r.PENDING="Pending",r.APPROVED="Approved",r.REJECTED="Rejected",r.SENT_BACK="Sent Back for Correction",r.COMPLETED="Completed",r))(be||{});const IT=It.createContext(void 0),Xf=(r,t)=>(console.error(`Supabase error in ${t}:`,r),r.message.includes("security violation")||r.message.includes("permission denied")?`Permission Denied: You do not have the required permissions to perform this action. Please contact an administrator. (Context: ${t})`:`A database error occurred. Please try again. (Details: ${r.message})`),_w=(r,t)=>(console.error(`Network/unknown error in ${t}:`,r),r.message==="Failed to fetch"&&typeof navigator<"u"&&!navigator.onLine?`You appear to be offline. Please check your internet connection. (Context: ${t})`:`A network error occurred. Please check your internet connection or browser extensions. (Context: ${t}, Details: ${r.message})`),F8=({children:r})=>{const[t,e]=It.useState([]),[n,i]=It.useState([]),[s,A]=It.useState(!0),[l,c]=It.useState(null),{currentUser:h}=Fc(),[f,p]=It.useState(0),w=It.useMemo(()=>n.filter(R=>R.role===bo.APPROVER),[n]),v=It.useCallback(R=>n.find(M=>M.id===R),[n]),x=It.useCallback(()=>p(R=>R+1),[]);It.useEffect(()=>{(async()=>{if(!h){A(!1),i([]),e([]);return}A(!0),c(null);try{const[M,j,V]=await Promise.all([Gi.from("profiles").select("id, email, role, full_name"),Gi.from("requests").select("*").order("created_at",{ascending:!1}),Gi.from("pdf_comments").select("*")]);if(M.error)throw M.error;if(j.error)throw j.error;if(V.error)throw V.error;const et=(M.data||[]).map(tt=>({id:tt.id,email:tt.email,role:tt.role,fullName:tt.full_name}));i(et);const ut=new Map(et.map(tt=>[tt.id,tt])),H=(V.data||[]).reduce((tt,it)=>{const mt={id:it.id,requestId:it.request_id,userId:it.user_id,userEmail:it.user_email,comment:it.comment,createdAt:it.created_at};return(tt[it.request_id]=tt[it.request_id]||[]).push(mt),tt},{}),G=(j.data||[]).map(tt=>{const it=(tt.approval_queue||[]).map(mt=>{const q=mt.user_id||mt.userId,rt=ut.get(q),lt={userId:q,status:mt.status,comments:mt.comments,approvedAt:mt.approved_at,signature:mt.signature,hodComments:mt.hod_comments,internalAuditComments:mt.internal_audit_comments,finalAmount:mt.final_amount};return rt?{...lt,userEmail:rt.email}:{...lt,userEmail:mt.user_email||`Unknown User (${(q||"no-id").substring(0,8)})`}});return{id:tt.id,requesterId:tt.requester_id,requesterName:tt.requester_name,type:tt.type,details:tt.details,status:tt.status,approvalQueue:it,currentApproverIndex:tt.current_approver_index,createdAt:tt.created_at,fileName:tt.file_name,fileURL:tt.file_url,pdfComments:H[tt.id]||[],requesterSignature:tt.requester_signature,vendorId:tt.vendor_id}});e(G)}catch(M){let j=`Details: ${M.message}`;M.message==="Failed to fetch"&&typeof navigator<"u"&&!navigator.onLine&&(j="It appears you are offline. Please check your internet connection.");const V=`A network or unexpected error occurred while fetching data. This can be caused by network connectivity issues or ad-blockers. ${j}`;console.error(V,M),c(V),e([]),i([])}finally{A(!1)}})()},[h,f]);const B=It.useCallback(async(R,M)=>{if(!h)return{success:!1,error:"User not authenticated"};try{let j="",V="";if(M){const G=`${h.id}/${Date.now()}_${M.name}`,{error:tt}=await Gi.storage.from("request_attachments").upload(G,M);if(tt)return{success:!1,error:Xf(tt,"file upload")};const{data:it}=Gi.storage.from("request_attachments").getPublicUrl(G);j=it.publicUrl,V=M.name}const et=R.approvalQueue.map(G=>{const tt=v(G.userId);return{user_id:G.userId,user_email:G.userEmail||(tt==null?void 0:tt.email),status:G.status}}),ut={requester_id:R.requesterId,requester_name:R.requesterName,type:R.type,details:R.details,status:be.PENDING,approval_queue:et,current_approver_index:0,file_url:j,file_name:V,requester_signature:R.requesterSignature,vendor_id:R.vendorId},{error:H}=await Gi.from("requests").insert([ut]);return H?{success:!1,error:Xf(H,"add request")}:(x(),{success:!0,error:null})}catch(j){return{success:!1,error:_w(j,"add request")}}},[h,v,x]),F=It.useCallback(async(R,M)=>{if(!h)return{success:!1,error:"User not authenticated"};try{let j=R.fileURL||"",V=R.fileName||"";if(M){const H=`${h.id}/${Date.now()}_${M.name}`,{error:G}=await Gi.storage.from("request_attachments").upload(H,M);if(G)return{success:!1,error:Xf(G,"file upload on update")};const{data:tt}=Gi.storage.from("request_attachments").getPublicUrl(H);j=tt.publicUrl,V=M.name}const et=R.approvalQueue.map(H=>{const G=v(H.userId);return{user_id:H.userId,user_email:(G==null?void 0:G.email)||H.userEmail,status:be.PENDING}}),{error:ut}=await Gi.rpc("resubmit_request_as_admin",{p_request_id:R.id,p_requester_name:R.requesterName,p_details:R.details,p_approval_queue:et,p_vendor_id:R.vendorId||null,p_file_url:j||null,p_file_name:V||null,p_requester_signature:R.requesterSignature});return ut?{success:!1,error:Xf(ut,"update request")}:(x(),{success:!0,error:null})}catch(j){return{success:!1,error:_w(j,"update request")}}},[h,v,x]),S=It.useCallback(async(R,M,j,V,et,ut,H)=>{try{const{error:G}=await Gi.rpc("handle_request_action",{p_request_id:R,p_action:j,p_comments:V||null,p_signature:et,p_hod_comments:ut||null,p_internal_audit_comments:(H==null?void 0:H.internalAuditComments)||null,p_final_amount:(H==null?void 0:H.finalAmount)||null});return G?{success:!1,error:Xf(G,"update request status")}:(x(),{success:!0,error:null})}catch(G){return{success:!1,error:_w(G,"update request status")}}},[x]),L=It.useCallback(async(R,M)=>{try{const{error:j}=await Gi.rpc("update_item_request_status_as_admin",{p_request_id:R,p_new_status:M});return j?{success:!1,error:Xf(j,"update item request status")}:(x(),{success:!0,error:null})}catch(j){return{success:!1,error:_w(j,"update item request status")}}},[x]),T=It.useCallback(async(R,M,j,V)=>{try{const{error:et}=await Gi.from("pdf_comments").insert([{request_id:R,user_id:M,user_email:j,comment:V}]);return et?{success:!1,error:Xf(et,"add PDF comment")}:(x(),{success:!0,error:null})}catch(et){return{success:!1,error:_w(et,"add PDF comment")}}},[x]),k=It.useMemo(()=>({requests:t,users:n,approvers:w,loading:s,error:l,addRequest:B,updateRequest:F,updateRequestStatus:S,updateItemRequestStatus:L,addPdfComment:T,getUserById:v,refreshData:x}),[t,n,w,s,l,B,F,S,L,T,v,x]);return U.jsx(IT.Provider,{value:k,children:r})},Lp=()=>{const r=It.useContext(IT);if(r===void 0)throw new Error("useRequests must be used within a RequestProvider");return r},U8=({onEditRequest:r,onViewRequest:t})=>{const{requests:e,loading:n,error:i,getUserById:s}=Lp(),{currentUser:A}=Fc(),[l,c]=It.useState(be.PENDING),[h,f]=It.useState(""),p=It.useMemo(()=>{const T=e.filter(k=>k.type!==_e.ITEM).filter(k=>{var et,ut,H;const R=h.toLowerCase().trim();if(!R)return!0;const M=k.id.toLowerCase().includes(R),j=((ut=(et=k.details)==null?void 0:et.subject)==null?void 0:ut.toLowerCase().includes(R))||!1,V=((H=k.requesterName)==null?void 0:H.toLowerCase().includes(R))||!1;return M||j||V});return(A==null?void 0:A.role)===bo.ADMIN?l==="All"?T:T.filter(k=>k.status===l):(A==null?void 0:A.role)===bo.APPROVER?l==="All"?T.filter(k=>(k.approvalQueue||[]).some(R=>R.userId===A.id)):l===be.PENDING?T.filter(k=>{var R,M;return k.status===be.PENDING&&((M=(R=k.approvalQueue)==null?void 0:R[k.currentApproverIndex])==null?void 0:M.userId)===A.id}):T.filter(k=>(k.approvalQueue||[]).some(R=>R.userId===A.id&&R.status===l)):[]},[e,A,l,h]),w=It.useCallback(({status:L})=>{const T={[be.PENDING]:"bg-yellow-100 text-yellow-800",[be.APPROVED]:"bg-green-100 text-green-800",[be.REJECTED]:"bg-red-100 text-red-800",[be.SENT_BACK]:"bg-blue-100 text-blue-800",[be.COMPLETED]:"bg-indigo-100 text-indigo-800"};return U.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T[L]}`,children:L})},[]),v=(L,T)=>{L.stopPropagation();const k=T.approvalQueue[T.currentApproverIndex];if(!k){alert("Could not determine the current approver.");return}const R=s(k.userId);alert(`Reminder sent to ${(R==null?void 0:R.email)||"the current approver"}.`)},x=(A==null?void 0:A.role)===bo.ADMIN?[be.PENDING,be.SENT_BACK,be.APPROVED,be.REJECTED,"All"]:[be.PENDING,be.APPROVED,be.REJECTED,"All"],B=It.useCallback(({icon:L,label:T,value:k})=>k?U.jsxs("div",{className:"flex items-start text-sm",children:[U.jsx("span",{className:"text-gray-400 mr-2 mt-0.5 shrink-0",children:L}),U.jsx("span",{className:"font-medium text-gray-500 w-28 shrink-0",children:T}),U.jsx("span",{className:"text-gray-800 font-semibold truncate",title:String(k),children:k})]}):null,[]),F=It.useCallback(L=>{var T,k,R,M,j,V,et,ut,H,G,tt,it;switch(L.type){case _e.DIESEL:return U.jsxs(U.Fragment,{children:[U.jsx(B,{icon:U.jsx(UT,{size:14}),label:"Volume",value:`${((T=L.details)==null?void 0:T.volume)||0} L`}),((k=L.details)==null?void 0:k.totalCost)&&U.jsx(B,{icon:U.jsx(Hx,{size:14}),label:"Total Cost",value:Number(((R=L.details)==null?void 0:R.totalCost)||0).toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]});case _e.PROCUREMENT:return U.jsxs(U.Fragment,{children:[U.jsx(B,{icon:U.jsx(O3,{size:14}),label:"Quantity",value:(M=L.details)==null?void 0:M.quantity}),((j=L.details)==null?void 0:j.totalCost)&&U.jsx(B,{icon:U.jsx(Hx,{size:14}),label:"Total Cost",value:Number(((V=L.details)==null?void 0:V.totalCost)||0).toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]});case _e.LEAVE:const{applicantName:mt,leaveDays:q}=L.details||{};return U.jsxs(U.Fragment,{children:[U.jsx(B,{icon:U.jsx(C8,{size:14}),label:"Applicant",value:mt}),U.jsx(B,{icon:U.jsx(BM,{size:14}),label:"Duration",value:`${q} day(s)`})]});case _e.ITEM:return U.jsxs(U.Fragment,{children:[U.jsx(B,{icon:U.jsx(LT,{size:14}),label:"Item",value:(et=L.details)==null?void 0:et.item}),U.jsx(B,{icon:U.jsx(O3,{size:14}),label:"Quantity",value:(ut=L.details)==null?void 0:ut.quantity})]});case _e.STORE:const rt=((G=(H=L.details)==null?void 0:H.items)==null?void 0:G.length)||0;return U.jsxs(U.Fragment,{children:[U.jsx(B,{icon:U.jsx(a4,{size:14}),label:"Items",value:`${rt} type(s)`}),((tt=L.details)==null?void 0:tt.grandTotal)&&U.jsx(B,{icon:U.jsx(Hx,{size:14}),label:"Total Value",value:Number(((it=L.details)==null?void 0:it.grandTotal)||0).toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]});default:return null}},[B]),S=It.useCallback(L=>{const{status:T,approvalQueue:k,currentApproverIndex:R}=L;if(!k||k.length===0)return null;let M=null,j="",V=null;switch(T){case be.PENDING:M=k[R],j="Next Approver",V=U.jsx(zM,{size:14,className:"text-yellow-600"});break;case be.APPROVED:M=k[k.length-1],j="Final Approver",V=U.jsx(v8,{size:14,className:"text-green-600"});break;case be.REJECTED:M=k.find(ut=>ut.status===be.REJECTED),j="Rejected By",V=U.jsx(b8,{size:14,className:"text-red-600"});break;case be.SENT_BACK:M=k.find(ut=>ut.status===be.SENT_BACK),j="Sent Back By",V=U.jsx(s4,{size:14,className:"text-blue-600"});break;default:return null}if(!M)return null;const et=M.userEmail;return U.jsxs("div",{className:"flex items-start text-sm",children:[U.jsx("span",{className:"text-gray-400 mr-2 mt-0.5 shrink-0",children:V}),U.jsx("span",{className:"font-medium text-gray-500 w-28 shrink-0",children:j}),U.jsx("span",{className:"text-gray-800 font-semibold truncate",children:et||"N/A"})]})},[]);return n?U.jsxs("div",{className:"flex justify-center items-center h-64",children:[U.jsx(tf,{className:"h-8 w-8 animate-spin text-zankli-orange-500"}),U.jsx("p",{className:"ml-4 text-gray-600",children:"Loading data..."})]}):i?U.jsxs("div",{className:"text-center py-10 text-red-700 bg-red-50 p-6 rounded-lg shadow-sm border border-red-200",children:[U.jsxs("div",{className:"flex justify-center items-center mb-4",children:[U.jsx(pb,{className:"h-8 w-8 mr-3"}),U.jsx("h3",{className:"text-xl font-bold",children:"Failed to Load Requests"})]}),U.jsx("p",{className:"text-sm",children:i}),U.jsx("p",{className:"text-xs mt-3 text-red-600",children:"This might be due to a network issue or an ad-blocker. Please check your connection and refresh the page."})]}):U.jsxs("div",{children:[U.jsx("div",{className:"mb-4",children:U.jsxs("div",{className:"relative",children:[U.jsx("input",{type:"text",placeholder:"Search by ID, subject, or requester name...",value:h,onChange:L=>f(L.target.value),className:"w-full p-3 pl-10 border border-gray-300 rounded-lg shadow-sm focus:ring-zankli-orange-500 focus:border-zankli-orange-500"}),U.jsx(NT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})}),U.jsx("div",{className:"border-b border-gray-200",children:U.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:x.map(L=>U.jsx("button",{onClick:()=>c(L),className:`${L===l?"border-zankli-orange-500 text-zankli-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:L},L))})}),U.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.map(L=>{var T,k;return U.jsxs("div",{onClick:()=>t(L),className:"bg-white p-5 rounded-lg shadow-md hover:shadow-xl transition-shadow cursor-pointer flex flex-col justify-between",children:[U.jsxs("div",{className:"flex flex-col space-y-3",children:[U.jsxs("div",{className:"flex justify-between items-start",children:[U.jsxs("div",{children:[U.jsx("p",{className:"text-sm font-semibold text-zankli-orange-700",children:L.type}),U.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["ID: ",L.id]})]}),U.jsx(w,{status:L.status})]}),U.jsxs("div",{className:"pt-2",children:[U.jsx("h3",{className:"text-lg font-bold text-gray-800 truncate",title:(T=L.details)==null?void 0:T.subject,children:((k=L.details)==null?void 0:k.subject)||"No Subject"}),U.jsxs("p",{className:"text-sm text-gray-500",children:["By: ",U.jsx("span",{className:"font-medium text-gray-700",children:L.requesterName})," on ",new Date(L.createdAt).toLocaleDateString()]})]}),U.jsxs("div",{className:"pt-3 border-t space-y-2",children:[U.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400",children:"Details"}),F(L),U.jsxs("div",{className:"pt-2",children:[U.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400",children:"Status"}),S(L)]})]})]}),(A==null?void 0:A.role)===bo.ADMIN&&L.status===be.PENDING&&U.jsx("div",{className:"mt-4 pt-3 border-t flex justify-end",children:U.jsxs("button",{onClick:R=>v(R,L),className:"flex items-center text-xs font-semibold text-blue-600 hover:text-blue-800",children:[U.jsx(_T,{className:"h-4 w-4 mr-1"}),"Remind Approver"]})})]},L.id)}),p.length===0&&U.jsx("div",{className:"col-span-full text-center py-10",children:U.jsx("p",{className:"text-gray-500",children:"No requests found in this tab."})})]})]})},DT=It.createContext(void 0),L8=({children:r})=>{const[t,e]=It.useState([]),[n,i]=It.useState(null),{currentUser:s}=Fc(),A=It.useCallback(async()=>{i(null);try{const{data:f,error:p}=await Gi.from("vendors").select("*");if(p){const w=`Supabase error fetching vendors: ${p.message}`;console.error(w,p),i(w)}else if(f){const w=f.map(v=>({id:v.id,name:v.name,contactPerson:v.contact_person,contactEmail:v.contact_email}));e(w)}}catch(f){let p=`Details: ${f.message}`;f.message==="Failed to fetch"&&typeof navigator<"u"&&!navigator.onLine&&(p="It appears you are offline. Please check your internet connection.");const w=`A network or unexpected error occurred while fetching vendors. ${p}`;console.error(w,f),i(w)}},[]);It.useEffect(()=>{s&&A()},[s,A]);const l=It.useCallback(async f=>{try{const p={name:f.name,contact_person:f.contactPerson,contact_email:f.contactEmail},{error:w}=await Gi.from("vendors").insert([p]);return w?(console.error("Failed to add vendor:",w),{success:!1,error:`Failed to add vendor: ${w.message}`}):(A(),{success:!0,error:null})}catch(p){return console.error("Network/unknown error adding vendor:",p),p.message==="Failed to fetch"&&typeof navigator<"u"&&!navigator.onLine?{success:!1,error:"You appear to be offline. Please check your internet connection."}:{success:!1,error:`A network error occurred. Please check your connection. Details: ${p.message}`}}},[A]),c=It.useCallback(f=>t.find(p=>p.id===f),[t]),h=It.useMemo(()=>({vendors:t,error:n,addVendor:l,getVendorById:c}),[t,n,l,c]);return U.jsx(DT.Provider,{value:h,children:r})},A4=()=>{const r=It.useContext(DT);if(r===void 0)throw new Error("useVendors must be used within a VendorProvider");return r},kT=It.createContext(void 0),N8=({children:r})=>{const[t,e]=It.useState([]),[n,i]=It.useState(null),{currentUser:s}=Fc(),A=It.useCallback(async()=>{i(null);try{const{data:f,error:p}=await Gi.from("store_items").select("*");if(p){const w=`Supabase error fetching store items: ${p.message}`;console.error(w,p),i(w)}else if(f){const w=f.map(v=>({id:v.id,name:v.name,purpose:v.purpose,quantityInStock:v.quantity_in_stock,lastPurchaseDate:v.last_purchase_date,unitCost:v.unit_cost}));e(w)}}catch(f){let p=`Details: ${f.message}`;f.message==="Failed to fetch"&&typeof navigator<"u"&&!navigator.onLine&&(p="It appears you are offline. Please check your internet connection.");const w=`A network or unexpected error occurred while fetching store items. ${p}`;console.error(w,f),i(w)}},[]);It.useEffect(()=>{s&&A()},[s,A]);const l=It.useCallback(async f=>{try{const p={name:f.name,purpose:f.purpose,quantity_in_stock:f.quantityInStock,unit_cost:f.unitCost,last_purchase_date:f.lastPurchaseDate},{error:w}=await Gi.from("store_items").insert([p]);return w?(console.error("Failed to add store item:",w),{success:!1,error:`Failed to add store item: ${w.message}`}):(A(),{success:!0,error:null})}catch(p){return console.error("Network/unknown error adding store item:",p),p.message==="Failed to fetch"&&typeof navigator<"u"&&!navigator.onLine?{success:!1,error:"You appear to be offline. Please check your internet connection."}:{success:!1,error:`A network error occurred. Please check your connection. Details: ${p.message}`}}},[A]),c=It.useCallback(f=>t.find(p=>p.id===f),[t]),h=It.useMemo(()=>({storeItems:t,error:n,addStoreItem:l,getStoreItemById:c}),[t,n,l,c]);return U.jsx(kT.Provider,{value:h,children:r})},OT=()=>{const r=It.useContext(kT);if(r===void 0)throw new Error("useStore must be used within a StoreProvider");return r},T8=({approvers:r,selectedApprovers:t,setSelectedApprovers:e})=>{const[n,i]=It.useState(!1),s=r.filter(c=>!t.some(h=>h.id===c.id)),A=c=>{e(h=>[...h,c]),i(!1)},l=c=>{e(h=>h.filter(f=>f.id!==c))};return U.jsxs("div",{className:"space-y-3",children:[U.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Approval Queue"}),U.jsx("p",{className:"text-sm text-gray-500",children:"Add approvers in the order they should review the request."}),U.jsxs("div",{className:"p-3 border border-dashed border-gray-300 rounded-lg min-h-[60px] space-y-2",children:[t.length===0&&U.jsx("p",{className:"text-center text-gray-400 text-sm",children:"No approvers selected"}),t.map((c,h)=>U.jsxs("div",{className:"flex items-center justify-between bg-zankli-cream-100 p-2 rounded",children:[U.jsxs("div",{className:"flex items-center",children:[U.jsx("span",{className:"text-sm font-bold text-zankli-orange-700 mr-2",children:h+1}),U.jsx("span",{className:"text-sm text-gray-800",children:c.email})]}),U.jsx("button",{type:"button",onClick:()=>l(c.id),className:"text-gray-400 hover:text-red-600",children:U.jsx(Up,{size:16})})]},c.id))]}),U.jsxs("div",{className:"relative",children:[U.jsxs("button",{type:"button",onClick:()=>i(!n),className:"w-full flex items-center justify-between p-2 text-sm bg-white border border-gray-300 rounded-md",children:[U.jsx("span",{children:"Add an approver..."}),U.jsx(FT,{size:16,className:`transition-transform ${n?"rotate-180":""}`})]}),n&&U.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:U.jsx("ul",{children:s.map(c=>U.jsxs("li",{onClick:()=>A(c),className:"p-2 text-sm text-gray-700 hover:bg-zankli-orange-50 cursor-pointer flex items-center",children:[U.jsx(q5,{size:14,className:"mr-2"}),c.email]},c.id))})})]})]})},RT=It.forwardRef(({label:r},t)=>{const e=It.useRef(null),n=It.useRef(!1);It.useEffect(()=>{const h=e.current;if(h){const f=h.getContext("2d");f&&(f.strokeStyle="#000",f.lineWidth=2,f.lineCap="round",f.lineJoin="round")}},[]);const i=h=>{const f=e.current;if(!f)return{x:0,y:0};const p=f.getBoundingClientRect(),w=h.touches?h.touches[0]:h,v=f.width/p.width,x=f.height/p.height;return{x:(w.clientX-p.left)*v,y:(w.clientY-p.top)*x}},s=h=>{h.preventDefault();const f=e.current;if(!f)return;const p=f.getContext("2d");if(!p)return;n.current=!0;const{x:w,y:v}=i(h);p.beginPath(),p.moveTo(w,v)},A=h=>{if(h.preventDefault(),!n.current)return;const f=e.current;if(!f)return;const p=f.getContext("2d");if(!p)return;const{x:w,y:v}=i(h);p.lineTo(w,v),p.stroke()},l=()=>{n.current=!1},c=()=>{const h=e.current;if(h){const f=h.getContext("2d");f&&f.clearRect(0,0,h.width,h.height)}};return It.useImperativeHandle(t,()=>({clear:c,getSignature:()=>{const h=e.current;if(h){const f=h.getContext("2d");return f&&!new Uint32Array(f.getImageData(0,0,h.width,h.height).data.buffer).some(w=>w!==0)?null:h.toDataURL("image/png")}return null}})),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r}),U.jsxs("div",{className:"relative w-full max-w-md bg-white border border-gray-300 rounded-md touch-none",children:[U.jsx("canvas",{ref:e,width:400,height:150,className:"w-full h-auto",onMouseDown:s,onMouseMove:A,onMouseUp:l,onMouseLeave:l,onTouchStart:s,onTouchMove:A,onTouchEnd:l}),U.jsx("button",{type:"button",onClick:c,className:"absolute top-1 right-1 p-1 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-600 transition-colors",title:"Clear Signature",children:U.jsx(l8,{size:14})})]})]})}),ts=({label:r,name:t,type:e="text",required:n=!1,onChange:i,value:s,readOnly:A=!1})=>U.jsxs("div",{children:[U.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:[r,n&&" *"]}),U.jsx("input",{type:e,name:t,id:t,value:s,required:n,onChange:i,readOnly:A,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-zankli-orange-500 focus:border-zankli-orange-500 sm:text-sm read-only:bg-gray-100"})]}),x2=({label:r,name:t,required:e=!1,onChange:n,value:i})=>U.jsxs("div",{className:"md:col-span-2",children:[U.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:[r,e&&" *"]}),U.jsx("textarea",{name:t,id:t,value:i,required:e,onChange:n,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-zankli-orange-500 focus:border-zankli-orange-500 sm:text-sm"})]}),R3=({label:r,value:t,onChange:e,options:n,required:i=!1,placeholder:s="Select an option"})=>U.jsxs("div",{children:[U.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r,i&&" *"]}),U.jsxs("select",{value:t,onChange:e,required:i,className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-zankli-orange-500 focus:border-zankli-orange-500 sm:text-sm",children:[U.jsx("option",{value:"",children:s}),n.map(A=>U.jsx("option",{value:A.value,children:A.label},A.value))]})]}),M3=({requestType:r,onFormSubmit:t,requestToEdit:e,initialDetails:n})=>{const[i,s]=It.useState({subject:"",dateOfRequisition:new Date().toISOString().split("T")[0]}),[A,l]=It.useState(""),[c,h]=It.useState([]),[f,p]=It.useState(""),[w,v]=It.useState(""),[x,B]=It.useState(null),F=It.useRef(null),[S,L]=It.useState(null),[T,k]=It.useState(""),[R,M]=It.useState({}),[j,V]=It.useState(!1),[et,ut]=It.useState(!1),[H,G]=It.useState(null),tt=!!e,{currentUser:it}=Fc(),{addRequest:mt,updateRequest:q,approvers:rt,getUserById:lt,loading:yt}=Lp(),{vendors:Et}=A4(),{storeItems:st,getStoreItemById:I}=OT(),X=It.useMemo(()=>{if(tt&&(e==null?void 0:e.status)===be.SENT_BACK){const Gt=e.approvalQueue.find(Ut=>Ut.status===be.SENT_BACK);return Gt==null?void 0:Gt.comments}return null},[tt,e]),nt=It.useMemo(()=>r!==_e.STORE?0:Object.entries(R).reduce((Gt,[Ut,ot])=>{const le=I(Ut),ee=Number(ot);return le&&ee>0?Gt+(le.unitCost||0)*ee:Gt},0),[R,I,r]);It.useEffect(()=>{var Gt,Ut,ot;if(!yt)if(tt&&e){s(e.details||{}),l(e.requesterName);const le=(e.approvalQueue||[]).map(ee=>lt(ee.userId)).filter(ee=>!!ee);if(h(le),p(((Gt=e.details)==null?void 0:Gt.selectedHODId)||""),v(e.vendorId||""),e.type===_e.STORE&&((Ut=e.details)!=null&&Ut.items)){const ee={};((ot=e.details)==null?void 0:ot.items).forEach(Vt=>{ee[Vt.itemId]=Vt.quantity}),M(ee)}}else n&&s(le=>({...le,...n}))},[tt,e,n,lt,yt]),It.useEffect(()=>{if(r===_e.LEAVE){const{startDate:Gt,endDate:Ut}=i;if(Gt&&Ut){const ot=new Date(Gt),le=new Date(Ut);if(le<ot)k("End date cannot be before start date."),L(null);else{k("");const ee=le.getTime()-ot.getTime(),Vt=Math.ceil(ee/(1e3*60*60*24))+1;L(Vt)}}else L(null)}},[i.startDate,i.endDate,r]),It.useEffect(()=>{if(r===_e.DIESEL){const Gt=Number(i.volume),Ut=Number(i.costPerLiter);if(Gt>0&&Ut>0){const ot=Gt*Ut;s(le=>({...le,totalCost:ot.toFixed(2)}))}else s(ot=>({...ot,totalCost:"0.00"}))}},[i.volume,i.costPerLiter,r]),It.useEffect(()=>{if(r===_e.PROCUREMENT){const Gt=Number(i.quantity),Ut=Number(i.unitCost);if(Gt>0&&Ut>0){const ot=Gt*Ut;s(le=>({...le,totalCost:ot.toFixed(2)}))}else s(ot=>({...ot,totalCost:"0.00"}))}},[i.quantity,i.unitCost,r]);const at=Gt=>{s({...i,[Gt.target.name]:Gt.target.value})},ht=Gt=>{Gt.target.files&&B(Gt.target.files[0])},gt=(Gt,Ut)=>{const ot=parseInt(Ut,10);isNaN(ot)||ot<0?M(le=>({...le,[Gt]:0})):M(le=>({...le,[Gt]:ot}))},ft=Gt=>{const Ut={...R};Gt.forEach(ot=>{Ut.hasOwnProperty(ot)||(Ut[ot]=1)}),M(Ut),V(!1)},Ct=Gt=>{const Ut={...R};delete Ut[Gt],M(Ut)},qt=async Gt=>{var ee;if(Gt.preventDefault(),!it)return;if(G(null),ut(!0),T){G(T),ut(!1);return}const Ut=(ee=F.current)==null?void 0:ee.getSignature();if(r!==_e.ITEM&&c.length===0){G("Please select at least one approver."),ut(!1);return}if(r===_e.STORE&&Object.keys(R).length===0){G("Please select at least one item and specify a quantity."),ut(!1);return}if(r===_e.LEAVE&&!f){G("Please select a Head of Department from the approval queue."),ut(!1);return}if(r===_e.LEAVE&&!i.daysRemaining){G("Please enter the remaining leave days."),ut(!1);return}if(!Ut){G("Please provide your signature to submit the request."),ut(!1);return}const ot={...i,...r===_e.LEAVE&&{selectedHODId:f,leaveDays:S}};if(r===_e.STORE){const Vt=Object.entries(R).map(([Jt,ie])=>{const te=I(Jt),me=Number(ie);return!te||me<=0?null:{itemId:te.id,itemName:te.name,quantity:me,unitCost:te.unitCost,totalCost:(te.unitCost||0)*me}}).filter(Jt=>Jt!==null);ot.items=Vt,ot.grandTotal=nt}let le;if(tt&&e){const Vt={...e,requesterName:A,details:ot,approvalQueue:c.map(Jt=>({userId:Jt.id,userEmail:Jt.email,status:be.PENDING})),requesterSignature:Ut,vendorId:[_e.DIESEL,_e.PROCUREMENT].includes(r)?w:void 0};le=await q(Vt,x)}else le=await mt({requesterId:it.id,requesterName:A,type:r,details:ot,approvalQueue:r===_e.ITEM?[]:c.map(Vt=>({userId:Vt.id,userEmail:Vt.email,status:be.PENDING})),requesterSignature:Ut,vendorId:[_e.DIESEL,_e.PROCUREMENT].includes(r)?w:void 0},x);le.success?t():(G(le.error),ut(!1))};if(yt)return U.jsxs("div",{className:"flex justify-center items-center h-64",children:[U.jsx(tf,{className:"h-8 w-8 animate-spin text-zankli-orange-500"}),U.jsx("p",{className:"ml-4 text-gray-600",children:"Loading user data..."})]});const jt=r!==_e.ITEM,Zt=[_e.DIESEL,_e.PROCUREMENT].includes(r),$t=![_e.DIESEL,_e.ITEM,_e.STORE].includes(r);return U.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 md:p-8 rounded-xl shadow-lg",children:[j&&U.jsx(Q8,{onClose:()=>V(!1),onAdd:ft,allItems:st,alreadySelectedIds:Object.keys(R)}),U.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 border-b pb-4",children:tt?`Edit ${r}`:`New ${r}`}),tt&&X&&U.jsx("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-6",role:"alert",children:U.jsxs("div",{className:"flex",children:[U.jsx(XM,{className:"h-5 w-5 mr-3"}),U.jsxs("div",{children:[U.jsx("p",{className:"font-bold",children:"Sent Back for Correction"}),U.jsxs("p",{className:"text-sm",children:['"',X,'"']})]})]})}),U.jsxs("form",{onSubmit:qt,className:"space-y-6",children:[U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsx(ts,{label:"Subject",name:"subject",value:i.subject||"",onChange:at,required:!0}),U.jsx(ts,{label:"Date of Requisition",name:"dateOfRequisition",type:"date",value:i.dateOfRequisition||"",onChange:at,required:!0}),U.jsx(ts,{label:"Requester Name",name:"requesterName",value:A,onChange:Gt=>l(Gt.target.value),required:!0})]}),U.jsx("hr",{}),r===_e.DIESEL&&U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsx(ts,{label:"Volume (in Liters)",name:"volume",type:"number",value:i.volume||"",onChange:at,required:!0}),U.jsx(ts,{label:"Diesel Remaining (in Liters)",name:"dieselRemaining",type:"number",value:i.dieselRemaining||"",onChange:at,required:!0}),U.jsx(ts,{label:"Cost per Liter (NGN)",name:"costPerLiter",type:"number",value:i.costPerLiter||"",onChange:at,required:!0}),U.jsx(ts,{label:"Total Cost (NGN)",name:"totalCost",type:"text",value:i.totalCost||"0.00",onChange:()=>{},readOnly:!0}),U.jsx(x2,{label:"Reason",name:"reason",value:i.reason||"",onChange:at,required:!0})]}),r===_e.PROCUREMENT&&U.jsxs("div",{className:"space-y-6",children:[U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsx(ts,{label:"Department",name:"department",value:i.department||"",onChange:at,required:!0}),U.jsx(ts,{label:"Quantity",name:"quantity",type:"number",value:i.quantity||"",onChange:at,required:!0})]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsx(ts,{label:"Unit Cost (NGN)",name:"unitCost",type:"number",value:i.unitCost||"",onChange:at,required:!0}),U.jsx(ts,{label:"Total Cost (NGN)",name:"totalCost",type:"text",value:i.totalCost||"0.00",onChange:()=>{},readOnly:!0})]}),U.jsx(x2,{label:"Justification",name:"justification",value:i.justification||"",onChange:at,required:!0})]}),r===_e.LEAVE&&U.jsxs("div",{className:"space-y-6",children:[U.jsx(ts,{label:"Applicant Name",name:"applicantName",value:i.applicantName||"",onChange:at,required:!0}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsx(ts,{label:"Start Date",name:"startDate",type:"date",value:i.startDate||"",onChange:at,required:!0}),U.jsx(ts,{label:"End Date",name:"endDate",type:"date",value:i.endDate||"",onChange:at,required:!0})]}),T&&U.jsx("p",{className:"text-sm text-red-500",children:T}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsx(ts,{label:"Number of Leave Days",name:"leaveDays",type:"text",value:S!==null?String(S):"...",readOnly:!0,onChange:()=>{}}),U.jsx(ts,{label:"Days Remaining for Leave",name:"daysRemaining",type:"number",value:i.daysRemaining||"",onChange:at,required:!0})]}),U.jsx(x2,{label:"Reason",name:"reason",value:i.reason||"",onChange:at,required:!0})]}),r===_e.ITEM&&U.jsxs("div",{className:"space-y-6",children:[U.jsx(ts,{label:"Item Name",name:"item",value:i.item||"",onChange:at,required:!0}),U.jsx(ts,{label:"Quantity",name:"quantity",type:"number",value:i.quantity||"",onChange:at,required:!0}),U.jsx(x2,{label:"Justification",name:"justification",value:i.justification||"",onChange:at,required:!0})]}),r===_e.STORE&&U.jsxs("div",{className:"space-y-4",children:[U.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Selected Items"}),U.jsx("div",{className:"border rounded-lg overflow-hidden",children:U.jsxs("table",{className:"w-full text-sm",children:[U.jsx("thead",{className:"bg-gray-50",children:U.jsxs("tr",{children:[U.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Item"}),U.jsx("th",{className:"px-3 py-2 text-center font-medium text-gray-600",children:"In Stock"}),U.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"Unit Cost"}),U.jsx("th",{className:"px-3 py-2 text-center font-medium text-gray-600 w-28",children:"Quantity"}),U.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"Total"}),U.jsx("th",{className:"px-3 py-2 text-center font-medium text-gray-600",children:"Action"})]})}),U.jsx("tbody",{children:Object.keys(R).length>0?Object.entries(R).map(([Gt,Ut])=>{const ot=I(Gt);if(!ot)return null;const le=(Number(Ut)||0)*(ot.unitCost||0);return U.jsxs("tr",{className:"border-b last:border-0",children:[U.jsx("td",{className:"px-3 py-2",children:ot.name}),U.jsx("td",{className:"px-3 py-2 text-center",children:ot.quantityInStock}),U.jsx("td",{className:"px-3 py-2 text-right",children:(ot.unitCost||0).toLocaleString()}),U.jsx("td",{className:"px-3 py-2 text-center",children:U.jsx("input",{type:"number",value:Ut,onChange:ee=>gt(Gt,ee.target.value),className:"w-20 text-center p-1 border rounded-md",min:"0",max:ot.quantityInStock})}),U.jsx("td",{className:"px-3 py-2 text-right font-medium",children:le.toLocaleString()}),U.jsx("td",{className:"px-3 py-2 text-center",children:U.jsx("button",{type:"button",onClick:()=>Ct(Gt),className:"text-red-500 hover:text-red-700",children:U.jsx(Up,{size:16})})})]},ot.id)}):U.jsx("tr",{children:U.jsx("td",{colSpan:6,className:"text-center text-gray-500 py-4",children:"No items selected."})})}),Object.keys(R).length>0&&U.jsx("tfoot",{children:U.jsxs("tr",{className:"font-bold bg-gray-50",children:[U.jsx("td",{colSpan:4,className:"px-3 py-2 text-right",children:"Grand Total"}),U.jsx("td",{className:"px-3 py-2 text-right text-base",children:nt.toLocaleString("en-NG",{style:"currency",currency:"NGN"})}),U.jsx("td",{})]})})]})}),U.jsxs("button",{type:"button",onClick:()=>V(!0),className:"flex items-center text-sm px-4 py-2 bg-zankli-orange-100 text-zankli-orange-800 font-semibold rounded-lg hover:bg-zankli-orange-200",children:[U.jsx(q5,{size:16,className:"mr-2"})," Add Items from Store"]})]}),Zt&&U.jsx("div",{className:"pt-4 border-t",children:U.jsx(R3,{label:"Select Vendor",value:w,onChange:Gt=>v(Gt.target.value),options:Et.map(Gt=>({value:Gt.id,label:Gt.name})),required:!0})}),jt&&U.jsxs("div",{className:"pt-4 border-t",children:[U.jsx(T8,{approvers:rt,selectedApprovers:c,setSelectedApprovers:h}),r===_e.LEAVE&&U.jsx("div",{className:"mt-4",children:U.jsx(R3,{label:"Select Head of Department",value:f,onChange:Gt=>p(Gt.target.value),options:c.map(Gt=>({value:Gt.id,label:Gt.email})),required:!0,placeholder:"Select from approval queue"})})]}),$t&&U.jsxs("div",{className:"pt-4 border-t",children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Attach Document (Optional)"}),U.jsx("input",{type:"file",onChange:ht,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-zankli-orange-50 file:text-zankli-orange-700 hover:file:bg-zankli-orange-100"}),x&&U.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",x.name]}),!x&&tt&&(e==null?void 0:e.fileName)&&U.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current file: ",e.fileName]})]}),U.jsx("div",{className:"pt-4 border-t",children:U.jsx(RT,{ref:F,label:"Your Signature (Required)"})}),H&&U.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg flex items-start mt-4",children:[U.jsx(pb,{className:"h-5 w-5 mr-3 flex-shrink-0"}),U.jsxs("div",{children:[U.jsx("p",{className:"font-bold",children:"Submission Failed"}),U.jsx("p",{className:"text-sm",children:H})]})]}),U.jsx("div",{className:"flex justify-end pt-6",children:U.jsx("button",{type:"submit",disabled:et,className:"px-8 py-3 bg-zankli-orange-600 text-white font-semibold rounded-lg hover:bg-zankli-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zankli-orange-500 disabled:bg-zankli-orange-300 flex items-center justify-center min-w-[150px]",children:et?U.jsxs(U.Fragment,{children:[U.jsx(tf,{className:"animate-spin h-5 w-5 mr-2"}),"Submitting..."]}):tt?"Update & Resubmit":"Submit Request"})})]})]})},Q8=({onClose:r,onAdd:t,allItems:e,alreadySelectedIds:n})=>{const[i,s]=It.useState(""),[A,l]=It.useState(new Set),c=It.useMemo(()=>e.filter(p=>!n.includes(p.id)&&p.name.toLowerCase().includes(i.toLowerCase())),[e,i,n]),h=p=>{l(w=>{const v=new Set(w);return v.has(p)?v.delete(p):v.add(p),v})},f=()=>{t(Array.from(A))};return U.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:U.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl max-h-[80vh] flex flex-col",children:[U.jsxs("div",{className:"flex justify-between items-center mb-4",children:[U.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Add Items from Store"}),U.jsx("button",{onClick:r,children:U.jsx(Up,{className:"text-gray-500"})})]}),U.jsxs("div",{className:"relative mb-4",children:[U.jsx("input",{type:"text",placeholder:"Search for items...",value:i,onChange:p=>s(p.target.value),className:"w-full p-2 pl-10 border rounded-md"}),U.jsx(NT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18})]}),U.jsxs("div",{className:"flex-grow overflow-y-auto border rounded-lg",children:[U.jsxs("table",{className:"w-full text-sm",children:[U.jsx("thead",{className:"bg-gray-50 sticky top-0",children:U.jsxs("tr",{children:[U.jsx("th",{className:"p-2 text-center w-10"}),U.jsx("th",{className:"p-2 text-left",children:"Item"}),U.jsx("th",{className:"p-2 text-left",children:"Purpose"}),U.jsx("th",{className:"p-2 text-center",children:"In Stock"})]})}),U.jsx("tbody",{children:c.map(p=>U.jsxs("tr",{className:`cursor-pointer hover:bg-zankli-orange-50 ${A.has(p.id)?"bg-zankli-orange-100":""}`,onClick:()=>h(p.id),children:[U.jsx("td",{className:"p-2 text-center",children:U.jsx("input",{type:"checkbox",checked:A.has(p.id),readOnly:!0,className:"form-checkbox h-4 w-4 text-zankli-orange-600"})}),U.jsx("td",{className:"p-2 font-medium",children:p.name}),U.jsx("td",{className:"p-2 text-gray-600",children:p.purpose}),U.jsx("td",{className:"p-2 text-center",children:p.quantityInStock})]},p.id))})]}),c.length===0&&U.jsx("p",{className:"text-center p-8 text-gray-500",children:"No available items match your search."})]}),U.jsx("div",{className:"flex justify-end pt-4",children:U.jsxs("button",{onClick:f,disabled:A.size===0,className:"px-6 py-2 bg-zankli-orange-600 text-white font-semibold rounded-lg hover:bg-zankli-orange-700 disabled:bg-gray-400",children:["Add ",A.size>0?`(${A.size})`:""," Selected Items"]})})]})})},I8=({onCreateProcurement:r,onViewRequest:t})=>{const{requests:e,updateItemRequestStatus:n}=Lp(),[i,s]=It.useState(be.PENDING),A=It.useMemo(()=>e.filter(h=>h.type===_e.ITEM),[e]),l=It.useMemo(()=>A.filter(h=>h.status===i),[A,i]),c=[be.PENDING,be.COMPLETED];return U.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[U.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Item Requests"}),U.jsx("div",{className:"border-b border-gray-200",children:U.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:c.map(h=>U.jsx("button",{onClick:()=>s(h),className:`${h===i?"border-zankli-orange-500 text-zankli-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:h===be.PENDING?"New":"Completed"},h))})}),U.jsx("div",{className:"mt-6 space-y-4",children:l.length>0?l.map(h=>{var f;return U.jsxs("div",{className:"bg-zankli-cream-50 p-4 rounded-lg flex items-center justify-between hover:bg-zankli-cream-100 transition-colors",children:[U.jsxs("div",{children:[U.jsx("p",{className:"font-bold text-gray-800",children:((f=h.details)==null?void 0:f.subject)||"No Subject"}),U.jsxs("p",{className:"text-sm text-gray-600",children:["Requester: ",h.requesterName," | Created: ",new Date(h.createdAt).toLocaleDateString()]})]}),U.jsxs("div",{className:"flex items-center space-x-3",children:[U.jsx("button",{onClick:()=>t(h),className:"text-sm text-zankli-orange-600 hover:underline",children:"View Details"}),h.status===be.PENDING&&U.jsx("button",{onClick:()=>r(h),className:"px-3 py-1 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700",children:"Create Procurement"})]})]},h.id)}):U.jsx("div",{className:"text-center py-10",children:U.jsx("p",{className:"text-gray-500",children:"No requests in this category."})})})]})},Px=({label:r,name:t,type:e="text",required:n=!1,onChange:i,value:s})=>U.jsxs("div",{children:[U.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:r}),U.jsx("input",{type:e,name:t,id:t,value:s,required:n,onChange:i,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-zankli-orange-500 focus:border-zankli-orange-500 sm:text-sm"})]}),D8=({isOpen:r,onClose:t,onSubmit:e,newVendor:n,handleInputChange:i,isSubmitting:s,error:A})=>r?U.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:U.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[U.jsxs("div",{className:"flex justify-between items-center mb-4",children:[U.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Create New Vendor"}),U.jsx("button",{onClick:t,children:U.jsx(Up,{className:"text-gray-500"})})]}),U.jsxs("form",{onSubmit:e,className:"space-y-4",children:[U.jsx(Px,{label:"Vendor Name",name:"name",value:n.name,onChange:i,required:!0}),U.jsx(Px,{label:"Contact Person",name:"contactPerson",value:n.contactPerson,onChange:i,required:!0}),U.jsx(Px,{label:"Contact Email",name:"contactEmail",type:"email",value:n.contactEmail,onChange:i,required:!0}),A&&U.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 p-3 text-sm",children:U.jsxs("p",{children:[U.jsx("span",{className:"font-bold",children:"Error:"})," ",A]})}),U.jsx("div",{className:"flex justify-end pt-4",children:U.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-zankli-orange-600 text-white font-semibold rounded-lg hover:bg-zankli-orange-700 disabled:bg-zankli-orange-300",children:s?"Saving...":"Save Vendor"})})]})]})}):null,k8=()=>{const{vendors:r,addVendor:t,error:e}=A4(),[n,i]=It.useState(!1),[s,A]=It.useState({name:"",contactPerson:"",contactEmail:""}),[l,c]=It.useState(!1),[h,f]=It.useState(null),p=x=>{A({...s,[x.target.name]:x.target.value})},w=async x=>{x.preventDefault(),c(!0),f(null);const B=await t(s);B.success?(A({name:"",contactPerson:"",contactEmail:""}),i(!1)):f(B.error),c(!1)},v=()=>{f(null),A({name:"",contactPerson:"",contactEmail:""}),i(!0)};return U.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[U.jsxs("div",{className:"flex justify-between items-center mb-6",children:[U.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Vendors"}),U.jsxs("button",{onClick:v,className:"flex items-center px-4 py-2 bg-zankli-orange-600 text-white font-semibold rounded-lg hover:bg-zankli-orange-700",children:[U.jsx(q5,{size:18,className:"mr-1"}),"Add Vendor"]})]}),e&&U.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg mb-4 flex items-center",children:[U.jsx(pb,{className:"h-5 w-5 mr-3"}),U.jsxs("div",{children:[U.jsxs("p",{children:[U.jsx("span",{className:"font-bold",children:"Error:"})," Could not load vendors."]}),U.jsx("p",{className:"text-sm",children:e})]})]}),U.jsxs("div",{className:"overflow-x-auto",children:[U.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[U.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-zankli-cream-100",children:U.jsxs("tr",{children:[U.jsx("th",{scope:"col",className:"px-6 py-3",children:"Vendor Name"}),U.jsx("th",{scope:"col",className:"px-6 py-3",children:"Contact Person"}),U.jsx("th",{scope:"col",className:"px-6 py-3",children:"Contact Email"})]})}),U.jsx("tbody",{children:r.map(x=>U.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[U.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:x.name}),U.jsx("td",{className:"px-6 py-4",children:x.contactPerson}),U.jsx("td",{className:"px-6 py-4",children:x.contactEmail})]},x.id))})]}),r.length===0&&!e&&U.jsx("p",{className:"text-center text-gray-500 py-8",children:"No vendors found."})]}),U.jsx(D8,{isOpen:n,onClose:()=>i(!1),onSubmit:w,newVendor:s,handleInputChange:p,isSubmitting:l,error:h})]})};function Vn(r){"@babel/helpers - typeof";return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(r)}var Js=Uint8Array,HA=Uint16Array,o4=Int32Array,X5=new Js([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Y5=new Js([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ME=new Js([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),MT=function(r,t){for(var e=new HA(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var i=new o4(e[30]),n=1;n<30;++n)for(var s=e[n];s<e[n+1];++s)i[s]=s-e[n]<<5|n;return{b:e,r:i}},HT=MT(X5,2),PT=HT.b,HE=HT.r;PT[28]=258,HE[258]=28;var jT=MT(Y5,0),O8=jT.b,H3=jT.r,PE=new HA(32768);for(var Si=0;Si<32768;++Si){var $h=(Si&43690)>>1|(Si&21845)<<1;$h=($h&52428)>>2|($h&13107)<<2,$h=($h&61680)>>4|($h&3855)<<4,PE[Si]=(($h&65280)>>8|($h&255)<<8)>>1}var Ec=(function(r,t,e){for(var n=r.length,i=0,s=new HA(t);i<n;++i)r[i]&&++s[r[i]-1];var A=new HA(t);for(i=1;i<t;++i)A[i]=A[i-1]+s[i-1]<<1;var l;if(e){l=new HA(1<<t);var c=15-t;for(i=0;i<n;++i)if(r[i])for(var h=i<<4|r[i],f=t-r[i],p=A[r[i]-1]++<<f,w=p|(1<<f)-1;p<=w;++p)l[PE[p]>>c]=h}else for(l=new HA(n),i=0;i<n;++i)r[i]&&(l[i]=PE[A[r[i]-1]++]>>15-r[i]);return l}),of=new Js(288);for(var Si=0;Si<144;++Si)of[Si]=8;for(var Si=144;Si<256;++Si)of[Si]=9;for(var Si=256;Si<280;++Si)of[Si]=7;for(var Si=280;Si<288;++Si)of[Si]=8;var Sv=new Js(32);for(var Si=0;Si<32;++Si)Sv[Si]=5;var R8=Ec(of,9,0),M8=Ec(of,9,1),H8=Ec(Sv,5,0),P8=Ec(Sv,5,1),jx=function(r){for(var t=r[0],e=1;e<r.length;++e)r[e]>t&&(t=r[e]);return t},zo=function(r,t,e){var n=t/8|0;return(r[n]|r[n+1]<<8)>>(t&7)&e},Kx=function(r,t){var e=t/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(t&7)},l4=function(r){return(r+7)/8|0},KT=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new Js(r.subarray(t,e))},j8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$o=function(r,t,e){var n=new Error(t||j8[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,$o),!e)throw n;return n},K8=function(r,t,e,n){var i=r.length,s=0;if(!i||t.f&&!t.l)return e||new Js(0);var A=!e,l=A||t.i!=2,c=t.i;A&&(e=new Js(i*3));var h=function(jt){var Zt=e.length;if(jt>Zt){var $t=new Js(Math.max(Zt*2,jt));$t.set(e),e=$t}},f=t.f||0,p=t.p||0,w=t.b||0,v=t.l,x=t.d,B=t.m,F=t.n,S=i*8;do{if(!v){f=zo(r,p,1);var L=zo(r,p+1,3);if(p+=3,L)if(L==1)v=M8,x=P8,B=9,F=5;else if(L==2){var M=zo(r,p,31)+257,j=zo(r,p+10,15)+4,V=M+zo(r,p+5,31)+1;p+=14;for(var et=new Js(V),ut=new Js(19),H=0;H<j;++H)ut[ME[H]]=zo(r,p+H*3,7);p+=j*3;for(var G=jx(ut),tt=(1<<G)-1,it=Ec(ut,G,1),H=0;H<V;){var mt=it[zo(r,p,tt)];p+=mt&15;var T=mt>>4;if(T<16)et[H++]=T;else{var q=0,rt=0;for(T==16?(rt=3+zo(r,p,3),p+=2,q=et[H-1]):T==17?(rt=3+zo(r,p,7),p+=3):T==18&&(rt=11+zo(r,p,127),p+=7);rt--;)et[H++]=q}}var lt=et.subarray(0,M),yt=et.subarray(M);B=jx(lt),F=jx(yt),v=Ec(lt,B,1),x=Ec(yt,F,1)}else $o(1);else{var T=l4(p)+4,k=r[T-4]|r[T-3]<<8,R=T+k;if(R>i){c&&$o(0);break}l&&h(w+k),e.set(r.subarray(T,R),w),t.b=w+=k,t.p=p=R*8,t.f=f;continue}if(p>S){c&&$o(0);break}}l&&h(w+131072);for(var Et=(1<<B)-1,st=(1<<F)-1,I=p;;I=p){var q=v[Kx(r,p)&Et],X=q>>4;if(p+=q&15,p>S){c&&$o(0);break}if(q||$o(2),X<256)e[w++]=X;else if(X==256){I=p,v=null;break}else{var nt=X-254;if(X>264){var H=X-257,at=X5[H];nt=zo(r,p,(1<<at)-1)+PT[H],p+=at}var ht=x[Kx(r,p)&st],gt=ht>>4;ht||$o(3),p+=ht&15;var yt=O8[gt];if(gt>3){var at=Y5[gt];yt+=Kx(r,p)&(1<<at)-1,p+=at}if(p>S){c&&$o(0);break}l&&h(w+131072);var ft=w+nt;if(w<yt){var Ct=s-yt,qt=Math.min(yt,ft);for(Ct+w<0&&$o(3);w<qt;++w)e[w]=n[Ct+w]}for(;w<ft;++w)e[w]=e[w-yt]}}t.l=v,t.p=I,t.b=w,t.f=f,v&&(f=1,t.m=B,t.d=x,t.n=F)}while(!f);return w!=e.length&&A?KT(e,0,w):e.subarray(0,w)},lu=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},Fw=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},zx=function(r,t){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var i=e.length,s=e.slice();if(!i)return{t:GT,l:0};if(i==1){var A=new Js(e[0].s+1);return A[e[0].s]=1,{t:A,l:1}}e.sort(function(R,M){return R.f-M.f}),e.push({s:-1,f:25001});var l=e[0],c=e[1],h=0,f=1,p=2;for(e[0]={s:-1,f:l.f+c.f,l,r:c};f!=i-1;)l=e[e[h].f<e[p].f?h++:p++],c=e[h!=f&&e[h].f<e[p].f?h++:p++],e[f++]={s:-1,f:l.f+c.f,l,r:c};for(var w=s[0].s,n=1;n<i;++n)s[n].s>w&&(w=s[n].s);var v=new HA(w+1),x=jE(e[f-1],v,0);if(x>t){var n=0,B=0,F=x-t,S=1<<F;for(s.sort(function(M,j){return v[j.s]-v[M.s]||M.f-j.f});n<i;++n){var L=s[n].s;if(v[L]>t)B+=S-(1<<x-v[L]),v[L]=t;else break}for(B>>=F;B>0;){var T=s[n].s;v[T]<t?B-=1<<t-v[T]++-1:++n}for(;n>=0&&B;--n){var k=s[n].s;v[k]==t&&(--v[k],++B)}x=t}return{t:new Js(v),l:x}},jE=function(r,t,e){return r.s==-1?Math.max(jE(r.l,t,e+1),jE(r.r,t,e+1)):t[r.s]=e},P3=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new HA(++t),n=0,i=r[0],s=1,A=function(c){e[n++]=c},l=1;l<=t;++l)if(r[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)A(32754);s>2&&(A(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(A(i),--s;s>6;s-=6)A(8304);s>2&&(A(s-3<<5|8208),s=0)}for(;s--;)A(i);s=1,i=r[l]}return{c:e.subarray(0,n),n:t}},Uw=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},zT=function(r,t,e){var n=e.length,i=l4(t+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=e[s];return(i+4+n)*8},j3=function(r,t,e,n,i,s,A,l,c,h,f){lu(t,f++,e),++i[256];for(var p=zx(i,15),w=p.t,v=p.l,x=zx(s,15),B=x.t,F=x.l,S=P3(w),L=S.c,T=S.n,k=P3(B),R=k.c,M=k.n,j=new HA(19),V=0;V<L.length;++V)++j[L[V]&31];for(var V=0;V<R.length;++V)++j[R[V]&31];for(var et=zx(j,7),ut=et.t,H=et.l,G=19;G>4&&!ut[ME[G-1]];--G);var tt=h+5<<3,it=Uw(i,of)+Uw(s,Sv)+A,mt=Uw(i,w)+Uw(s,B)+A+14+3*G+Uw(j,ut)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&tt<=it&&tt<=mt)return zT(t,f,r.subarray(c,c+h));var q,rt,lt,yt;if(lu(t,f,1+(mt<it)),f+=2,mt<it){q=Ec(w,v,0),rt=w,lt=Ec(B,F,0),yt=B;var Et=Ec(ut,H,0);lu(t,f,T-257),lu(t,f+5,M-1),lu(t,f+10,G-4),f+=14;for(var V=0;V<G;++V)lu(t,f+3*V,ut[ME[V]]);f+=3*G;for(var st=[L,R],I=0;I<2;++I)for(var X=st[I],V=0;V<X.length;++V){var nt=X[V]&31;lu(t,f,Et[nt]),f+=ut[nt],nt>15&&(lu(t,f,X[V]>>5&127),f+=X[V]>>12)}}else q=R8,rt=of,lt=H8,yt=Sv;for(var V=0;V<l;++V){var at=n[V];if(at>255){var nt=at>>18&31;Fw(t,f,q[nt+257]),f+=rt[nt+257],nt>7&&(lu(t,f,at>>23&31),f+=X5[nt]);var ht=at&31;Fw(t,f,lt[ht]),f+=yt[ht],ht>3&&(Fw(t,f,at>>5&8191),f+=Y5[ht])}else Fw(t,f,q[at]),f+=rt[at]}return Fw(t,f,q[256]),f+rt[256]},z8=new o4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),GT=new Js(0),G8=function(r,t,e,n,i,s){var A=s.z||r.length,l=new Js(n+A+5*(1+Math.ceil(A/7e3))+i),c=l.subarray(n,l.length-i),h=s.l,f=(s.r||0)&7;if(t){f&&(c[0]=s.r>>3);for(var p=z8[t-1],w=p>>13,v=p&8191,x=(1<<e)-1,B=s.p||new HA(32768),F=s.h||new HA(x+1),S=Math.ceil(e/3),L=2*S,T=function(Gt){return(r[Gt]^r[Gt+1]<<S^r[Gt+2]<<L)&x},k=new o4(25e3),R=new HA(288),M=new HA(32),j=0,V=0,et=s.i||0,ut=0,H=s.w||0,G=0;et+2<A;++et){var tt=T(et),it=et&32767,mt=F[tt];if(B[it]=mt,F[tt]=it,H<=et){var q=A-et;if((j>7e3||ut>24576)&&(q>423||!h)){f=j3(r,c,0,k,R,M,V,ut,G,et-G,f),ut=j=V=0,G=et;for(var rt=0;rt<286;++rt)R[rt]=0;for(var rt=0;rt<30;++rt)M[rt]=0}var lt=2,yt=0,Et=v,st=it-mt&32767;if(q>2&&tt==T(et-st))for(var I=Math.min(w,q)-1,X=Math.min(32767,et),nt=Math.min(258,q);st<=X&&--Et&&it!=mt;){if(r[et+lt]==r[et+lt-st]){for(var at=0;at<nt&&r[et+at]==r[et+at-st];++at);if(at>lt){if(lt=at,yt=st,at>I)break;for(var ht=Math.min(st,at-2),gt=0,rt=0;rt<ht;++rt){var ft=et-st+rt&32767,Ct=B[ft],qt=ft-Ct&32767;qt>gt&&(gt=qt,mt=ft)}}}it=mt,mt=B[it],st+=it-mt&32767}if(yt){k[ut++]=268435456|HE[lt]<<18|H3[yt];var jt=HE[lt]&31,Zt=H3[yt]&31;V+=X5[jt]+Y5[Zt],++R[257+jt],++M[Zt],H=et+lt,++j}else k[ut++]=r[et],++R[r[et]]}}for(et=Math.max(et,H);et<A;++et)k[ut++]=r[et],++R[r[et]];f=j3(r,c,h,k,R,M,V,ut,G,et-G,f),h||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=F,s.p=B,s.i=et,s.w=H)}else{for(var et=s.w||0;et<A+h;et+=65535){var $t=et+65535;$t>=A&&(c[f/8|0]=h,$t=A),f=zT(c,f+1,r.subarray(et,$t))}s.i=A}return KT(l,0,n+l4(f)+i)},VT=function(){var r=1,t=0;return{p:function(e){for(var n=r,i=t,s=e.length|0,A=0;A!=s;){for(var l=Math.min(A+2655,s);A<l;++A)i+=n+=e[A];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,t=i},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},V8=function(r,t,e,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),A=new Js(s.length+r.length);A.set(s),A.set(r,s.length),r=A,i.w=s.length}return G8(r,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,n,i)},qT=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},q8=function(r,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var i=VT();i.p(t.dictionary),qT(r,2,i.d())}},X8=function(r,t){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&$o(6,"invalid zlib data"),(r[1]>>5&1)==1&&$o(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function KE(r,t){t||(t={});var e=VT();e.p(r);var n=V8(r,t,t.dictionary?6:2,4);return q8(n,t),qT(n,n.length-4,e.d()),n}function Y8(r,t){return K8(r.subarray(X8(r),-4),{i:2},t,t)}var W8=typeof TextDecoder<"u"&&new TextDecoder,$8=0;try{W8.decode(GT,{stream:!0}),$8=1}catch{}var Re=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Gx(){Re.console&&typeof Re.console.log=="function"&&Re.console.log.apply(Re.console,arguments)}var li={log:Gx,warn:function(r){Re.console&&(typeof Re.console.warn=="function"?Re.console.warn.apply(Re.console,arguments):Gx.call(null,arguments))},error:function(r){Re.console&&(typeof Re.console.error=="function"?Re.console.error.apply(Re.console,arguments):Gx(r))}};function Vx(r,t,e){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){$f(n.response,t,e)},n.onerror=function(){li.error("could not download file")},n.send()}function K3(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function E2(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var mv,zE,$f=Re.saveAs||((typeof window>"u"?"undefined":Vn(window))!=="object"||window!==Re?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var n=Re.URL||Re.webkitURL,i=document.createElement("a");t=t||r.name||"download",i.download=t,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?K3(i.href)?Vx(r,t,e):E2(i,i.target="_blank"):E2(i)):(i.href=n.createObjectURL(r),setTimeout((function(){n.revokeObjectURL(i.href)}),4e4),setTimeout((function(){E2(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(K3(r))Vx(r,t,e);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout((function(){E2(n)}))}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Vn(s)!=="object"&&(li.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(r,e),t)}:function(r,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Vx(r,t,e);var i=r.type==="application/octet-stream",s=/constructor/i.test(Re.HTMLElement)||Re.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||i&&s)&&(typeof FileReader>"u"?"undefined":Vn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=A?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(r)}else{var c=Re.URL||Re.webkitURL,h=c.createObjectURL(r);n?n.location=h:location.href=h,n=null,setTimeout((function(){c.revokeObjectURL(h)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function XT(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<e.length;n++){var i=e[n].re,s=e[n].process,A=i.exec(r);A&&(t=s(A),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+l+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qx(r,t){var e=r[0],n=r[1],i=r[2],s=r[3];e=Ms(e,n,i,s,t[0],7,-680876936),s=Ms(s,e,n,i,t[1],12,-389564586),i=Ms(i,s,e,n,t[2],17,606105819),n=Ms(n,i,s,e,t[3],22,-1044525330),e=Ms(e,n,i,s,t[4],7,-176418897),s=Ms(s,e,n,i,t[5],12,1200080426),i=Ms(i,s,e,n,t[6],17,-1473231341),n=Ms(n,i,s,e,t[7],22,-45705983),e=Ms(e,n,i,s,t[8],7,1770035416),s=Ms(s,e,n,i,t[9],12,-1958414417),i=Ms(i,s,e,n,t[10],17,-42063),n=Ms(n,i,s,e,t[11],22,-1990404162),e=Ms(e,n,i,s,t[12],7,1804603682),s=Ms(s,e,n,i,t[13],12,-40341101),i=Ms(i,s,e,n,t[14],17,-1502002290),e=Hs(e,n=Ms(n,i,s,e,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Hs(s,e,n,i,t[6],9,-1069501632),i=Hs(i,s,e,n,t[11],14,643717713),n=Hs(n,i,s,e,t[0],20,-373897302),e=Hs(e,n,i,s,t[5],5,-701558691),s=Hs(s,e,n,i,t[10],9,38016083),i=Hs(i,s,e,n,t[15],14,-660478335),n=Hs(n,i,s,e,t[4],20,-405537848),e=Hs(e,n,i,s,t[9],5,568446438),s=Hs(s,e,n,i,t[14],9,-1019803690),i=Hs(i,s,e,n,t[3],14,-187363961),n=Hs(n,i,s,e,t[8],20,1163531501),e=Hs(e,n,i,s,t[13],5,-1444681467),s=Hs(s,e,n,i,t[2],9,-51403784),i=Hs(i,s,e,n,t[7],14,1735328473),e=Ps(e,n=Hs(n,i,s,e,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Ps(s,e,n,i,t[8],11,-2022574463),i=Ps(i,s,e,n,t[11],16,1839030562),n=Ps(n,i,s,e,t[14],23,-35309556),e=Ps(e,n,i,s,t[1],4,-1530992060),s=Ps(s,e,n,i,t[4],11,1272893353),i=Ps(i,s,e,n,t[7],16,-155497632),n=Ps(n,i,s,e,t[10],23,-1094730640),e=Ps(e,n,i,s,t[13],4,681279174),s=Ps(s,e,n,i,t[0],11,-358537222),i=Ps(i,s,e,n,t[3],16,-722521979),n=Ps(n,i,s,e,t[6],23,76029189),e=Ps(e,n,i,s,t[9],4,-640364487),s=Ps(s,e,n,i,t[12],11,-421815835),i=Ps(i,s,e,n,t[15],16,530742520),e=js(e,n=Ps(n,i,s,e,t[2],23,-995338651),i,s,t[0],6,-198630844),s=js(s,e,n,i,t[7],10,1126891415),i=js(i,s,e,n,t[14],15,-1416354905),n=js(n,i,s,e,t[5],21,-57434055),e=js(e,n,i,s,t[12],6,1700485571),s=js(s,e,n,i,t[3],10,-1894986606),i=js(i,s,e,n,t[10],15,-1051523),n=js(n,i,s,e,t[1],21,-2054922799),e=js(e,n,i,s,t[8],6,1873313359),s=js(s,e,n,i,t[15],10,-30611744),i=js(i,s,e,n,t[6],15,-1560198380),n=js(n,i,s,e,t[13],21,1309151649),e=js(e,n,i,s,t[4],6,-145523070),s=js(s,e,n,i,t[11],10,-1120210379),i=js(i,s,e,n,t[2],15,718787259),n=js(n,i,s,e,t[9],21,-343485551),r[0]=ef(e,r[0]),r[1]=ef(n,r[1]),r[2]=ef(i,r[2]),r[3]=ef(s,r[3])}function W5(r,t,e,n,i,s){return t=ef(ef(t,r),ef(n,s)),ef(t<<i|t>>>32-i,e)}function Ms(r,t,e,n,i,s,A){return W5(t&e|~t&n,r,t,i,s,A)}function Hs(r,t,e,n,i,s,A){return W5(t&n|e&~n,r,t,i,s,A)}function Ps(r,t,e,n,i,s,A){return W5(t^e^n,r,t,i,s,A)}function js(r,t,e,n,i,s,A){return W5(e^(t|~n),r,t,i,s,A)}function YT(r){var t,e=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)qx(n,J8(r.substring(t-64,t)));r=r.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(qx(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,qx(n,i),n}function J8(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}mv=Re.atob.bind(Re),zE=Re.btoa.bind(Re);var z3="0123456789abcdef".split("");function Z8(r){for(var t="",e=0;e<4;e++)t+=z3[r>>8*e+4&15]+z3[r>>8*e&15];return t}function tH(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function GE(r){return YT(r).map(tH).join("")}var eH=(function(r){for(var t=0;t<r.length;t++)r[t]=Z8(r[t]);return r.join("")})(YT("hello"))!="5d41402abc4b2a76b9719d911017c592";function ef(r,t){if(eH){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function VE(r,t){var e,n,i,s;if(r!==e){for(var A=(i=r,s=1+(256/r.length>>0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var h=0;for(c=0;c<256;c++){var f=l[c];h=(h+f+A.charCodeAt(c))%256,l[c]=l[h],l[h]=f}e=r,n=l}else l=n;var p=t.length,w=0,v=0,x="";for(c=0;c<p;c++)v=(v+(f=l[w=(w+1)%256]))%256,l[w]=l[v],l[v]=f,A=l[(l[w]+l[v])%256],x+=String.fromCharCode(t.charCodeAt(c)^A);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var G3={print:4,modify:8,copy:16,"annot-forms":32};function H0(r,t,e,n){this.v=1,this.r=2;var i=192;r.forEach((function(l){if(G3.perm!==void 0)throw new Error("Invalid permission: "+l);i+=G3[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),A=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,A),this.P=-(1+(255^i)),this.encryptionKey=GE(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=VE(this.encryptionKey,this.padding)}function P0(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,n=0;n<e;n++){var i=r.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=r[n]}return t}function V3(r){if(Vn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,typeof e!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!i],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[e]){var A=t[e][s];try{A[0].apply(r,n)}catch(l){Re.console&&li.error("jsPDF PubSub Error",l.message,l)}A[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function e5(r){if(!(this instanceof e5))return new e5(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function WT(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function ig(r,t,e,n,i){if(!(this instanceof ig))return new ig(r,t,e,n,i);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,WT.call(this,n,i)}function J0(r,t,e,n,i){if(!(this instanceof J0))return new J0(r,t,e,n,i);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,WT.call(this,n,i)}function De(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],A=[],l=1,c=16,h="S",f=null;Vn(r=r||{})==="object"&&(e=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(f=r.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),h=r.defaultPathOperation||"S"),A=r.filters||(s===!0?["FlateEncode"]:A),n=n||"mm",e=(""+(e||"P")).toLowerCase();var p=r.putOnlyUsedFonts||!1,w={},v={internal:{},__private__:{}};v.__private__.PubSub=V3;var x="1.3",B=v.__private__.getPdfVersion=function(){return x};v.__private__.setPdfVersion=function(E){x=E};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return F};var S=v.__private__.getPageFormat=function(E){return F[E]};i=i||"a4";var L={COMPAT:"compat",ADVANCED:"advanced"},T=L.COMPAT;function k(){this.saveGraphicsState(),ot(new Fe(Ae,0,0,-Ae,0,Ul()*Ae).toString()+" cm"),this.setFontSize(this.getFontSize()/Ae),h="n",T=L.ADVANCED}function R(){this.restoreGraphicsState(),h="S",T=L.COMPAT}var M=v.__private__.combineFontStyleAndFontWeight=function(E,z){if(E=="bold"&&z=="normal"||E=="bold"&&z==400||E=="normal"&&z=="italic"||E=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(E=z==400||z==="normal"?E==="italic"?"italic":"normal":z!=700&&z!=="bold"||E!=="normal"?(z==700?"bold":z)+""+E:"bold"),E};v.advancedAPI=function(E){var z=T===L.COMPAT;return z&&k.call(this),typeof E!="function"||(E(this),z&&R.call(this)),this},v.compatAPI=function(E){var z=T===L.ADVANCED;return z&&R.call(this),typeof E!="function"||(E(this),z&&k.call(this)),this},v.isAdvancedAPI=function(){return T===L.ADVANCED};var j,V=function(E){if(T!==L.ADVANCED)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},et=v.roundToPrecision=v.__private__.roundToPrecision=function(E,z){var ct=t||z;if(isNaN(E)||isNaN(ct))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(ct).replace(/0+$/,"")};j=v.hpf=v.__private__.hpf=typeof c=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return et(E,c)}:c==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return et(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return et(E,16)};var ut=v.f2=v.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return et(E,2)},H=v.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return et(E,3)},G=v.scale=v.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return T===L.COMPAT?E*Ae:T===L.ADVANCED?E:void 0},tt=function(E){return T===L.COMPAT?Ul()-E:T===L.ADVANCED?E:void 0},it=function(E){return G(tt(E))};v.__private__.setPrecision=v.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(t=parseInt(E,10))};var mt,q="00000000000000000000000000000000",rt=v.__private__.getFileId=function(){return q},lt=v.__private__.setFileId=function(E){return q=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():q.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),f!==null&&(fi=new H0(f.userPermissions,f.userPassword,f.ownerPassword,q)),q};v.setFileId=function(E){return lt(E),this},v.getFileId=function(){return rt()};var yt=v.__private__.convertDateToPDFDate=function(E){var z=E.getTimezoneOffset(),ct=z<0?"+":"-",pt=Math.floor(Math.abs(z/60)),_t=Math.abs(z%60),Ot=[ct,nt(pt),"'",nt(_t),"'"].join("");return["D:",E.getFullYear(),nt(E.getMonth()+1),nt(E.getDate()),nt(E.getHours()),nt(E.getMinutes()),nt(E.getSeconds()),Ot].join("")},Et=v.__private__.convertPDFDateToDate=function(E){var z=parseInt(E.substr(2,4),10),ct=parseInt(E.substr(6,2),10)-1,pt=parseInt(E.substr(8,2),10),_t=parseInt(E.substr(10,2),10),Ot=parseInt(E.substr(12,2),10),Yt=parseInt(E.substr(14,2),10);return new Date(z,ct,pt,_t,Ot,Yt,0)},st=v.__private__.setCreationDate=function(E){var z;if(E===void 0&&(E=new Date),E instanceof Date)z=yt(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=E}return mt=z},I=v.__private__.getCreationDate=function(E){var z=mt;return E==="jsDate"&&(z=Et(mt)),z};v.setCreationDate=function(E){return st(E),this},v.getCreationDate=function(E){return I(E)};var X,nt=v.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},at=v.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},ht=0,gt=[],ft=[],Ct=0,qt=[],jt=[],Zt=!1,$t=ft,Gt=function(){ht=0,Ct=0,ft=[],gt=[],qt=[],Kr=_i(),Hn=_i()};v.__private__.setCustomOutputDestination=function(E){Zt=!0,$t=E};var Ut=function(E){Zt||($t=E)};v.__private__.resetCustomOutputDestination=function(){Zt=!1,$t=ft};var ot=v.__private__.out=function(E){return E=E.toString(),Ct+=E.length+1,$t.push(E),$t},le=v.__private__.write=function(E){return ot(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},ee=v.__private__.getArrayBuffer=function(E){for(var z=E.length,ct=new ArrayBuffer(z),pt=new Uint8Array(ct);z--;)pt[z]=E.charCodeAt(z);return ct},Vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Vt};var Jt=r.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(E){return Jt=T===L.ADVANCED?E/Ae:E,this};var ie,te=v.__private__.getFontSize=v.getFontSize=function(){return T===L.COMPAT?Jt:Jt*Ae},me=r.R2L||!1;v.__private__.setR2L=v.setR2L=function(E){return me=E,this},v.__private__.getR2L=v.getR2L=function(){return me};var Ce,Ve=v.__private__.setZoomMode=function(E){var z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))ie=E;else if(isNaN(E)){if(z.indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');ie=E}else ie=parseInt(E,10)};v.__private__.getZoomMode=function(){return ie};var We,dn=v.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Ce=E};v.__private__.getPageMode=function(){return Ce};var Sn=v.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');We=E};v.__private__.getLayoutMode=function(){return We},v.__private__.setDisplayMode=v.setDisplayMode=function(E,z,ct){return Ve(E),Sn(z),dn(ct),this};var ke={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(E){if(Object.keys(ke).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ke[E]},v.__private__.getDocumentProperties=function(){return ke},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(E){for(var z in ke)ke.hasOwnProperty(z)&&E[z]&&(ke[z]=E[z]);return this},v.__private__.setDocumentProperty=function(E,z){if(Object.keys(ke).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ke[E]=z};var tn,Ae,jr,rn,bi,fn={},sn={},jA=[],Un={},Tc={},ni={},Us={},ma=null,On=0,Oe=[],gn=new V3(v),Qc=r.hotfixes||[],ur={},wa={},Ls=[],Fe=function E(z,ct,pt,_t,Ot,Yt){if(!(this instanceof E))return new E(z,ct,pt,_t,Ot,Yt);isNaN(z)&&(z=1),isNaN(ct)&&(ct=0),isNaN(pt)&&(pt=0),isNaN(_t)&&(_t=1),isNaN(Ot)&&(Ot=0),isNaN(Yt)&&(Yt=0),this._matrix=[z,ct,pt,_t,Ot,Yt]};Object.defineProperty(Fe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Fe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Fe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Fe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Fe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Fe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Fe.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Fe.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Fe.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Fe.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Fe.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Fe.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Fe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Fe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Fe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Fe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Fe.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(E)},Fe.prototype.multiply=function(E){var z=E.sx*this.sx+E.shy*this.shx,ct=E.sx*this.shy+E.shy*this.sy,pt=E.shx*this.sx+E.sy*this.shx,_t=E.shx*this.shy+E.sy*this.sy,Ot=E.tx*this.sx+E.ty*this.shx+this.tx,Yt=E.tx*this.shy+E.ty*this.sy+this.ty;return new Fe(z,ct,pt,_t,Ot,Yt)},Fe.prototype.decompose=function(){var E=this.sx,z=this.shy,ct=this.shx,pt=this.sy,_t=this.tx,Ot=this.ty,Yt=Math.sqrt(E*E+z*z),oe=(E/=Yt)*ct+(z/=Yt)*pt;ct-=E*oe,pt-=z*oe;var Ee=Math.sqrt(ct*ct+pt*pt);return oe/=Ee,E*(pt/=Ee)<z*(ct/=Ee)&&(E=-E,z=-z,oe=-oe,Yt=-Yt),{scale:new Fe(Yt,0,0,Ee,0,0),translate:new Fe(1,0,0,1,_t,Ot),rotate:new Fe(E,z,-z,E,0,0),skew:new Fe(1,0,oe,1,0,0)}},Fe.prototype.toString=function(E){return this.join(" ")},Fe.prototype.inversed=function(){var E=this.sx,z=this.shy,ct=this.shx,pt=this.sy,_t=this.tx,Ot=this.ty,Yt=1/(E*pt-z*ct),oe=pt*Yt,Ee=-z*Yt,Me=-ct*Yt,Ie=E*Yt;return new Fe(oe,Ee,Me,Ie,-oe*_t-Me*Ot,-Ee*_t-Ie*Ot)},Fe.prototype.applyToPoint=function(E){var z=E.x*this.sx+E.y*this.shx+this.tx,ct=E.x*this.shy+E.y*this.sy+this.ty;return new Pc(z,ct)},Fe.prototype.applyToRectangle=function(E){var z=this.applyToPoint(E),ct=this.applyToPoint(new Pc(E.x+E.w,E.y+E.h));return new Uf(z.x,z.y,ct.x-z.x,ct.y-z.y)},Fe.prototype.clone=function(){var E=this.sx,z=this.shy,ct=this.shx,pt=this.sy,_t=this.tx,Ot=this.ty;return new Fe(E,z,ct,pt,_t,Ot)},v.Matrix=Fe;var va=v.matrixMult=function(E,z){return z.multiply(E)},tA=new Fe(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=tA;var cs=function(E,z){if(!Tc[E]){var ct=(z instanceof ig?"Sh":"P")+(Object.keys(Un).length+1).toString(10);z.id=ct,Tc[E]=ct,Un[ct]=z,gn.publish("addPattern",z)}};v.ShadingPattern=ig,v.TilingPattern=J0,v.addShadingPattern=function(E,z){return V("addShadingPattern()"),cs(E,z),this},v.beginTilingPattern=function(E){V("beginTilingPattern()"),jp(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},v.endTilingPattern=function(E,z){V("endTilingPattern()"),z.stream=jt[X].join(`
`),cs(E,z),gn.publish("endTilingPattern",z),Ls.pop().restore()};var Ri=v.__private__.newObject=function(){var E=_i();return Ns(E,!0),E},_i=v.__private__.newObjectDeferred=function(){return ht++,gt[ht]=function(){return Ct},ht},Ns=function(E,z){return z=typeof z=="boolean"&&z,gt[E]=Ct,z&&ot(E+" 0 obj"),E},Ic=v.__private__.newAdditionalObject=function(){var E={objId:_i(),content:""};return qt.push(E),E},Kr=_i(),Hn=_i(),hi=v.__private__.decodeColorString=function(E){var z=E.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length===5&&(z[4]==="k"||z[4]==="K")&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ct=parseFloat(z[0]);z=[ct,ct,ct,"r"]}for(var pt="#",_t=0;_t<3;_t++)pt+=("0"+Math.floor(255*parseFloat(z[_t])).toString(16)).slice(-2);return pt},zr=v.__private__.encodeColorString=function(E){var z;typeof E=="string"&&(E={ch1:E});var ct=E.ch1,pt=E.ch2,_t=E.ch3,Ot=E.ch4,Yt=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ct=="string"&&ct.charAt(0)!=="#"){var oe=new XT(ct);if(oe.ok)ct=oe.toHex();else if(!/^\d*\.?\d*$/.test(ct))throw new Error('Invalid color "'+ct+'" passed to jsPDF.encodeColorString.')}if(typeof ct=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ct)&&(ct="#"+ct[1]+ct[1]+ct[2]+ct[2]+ct[3]+ct[3]),typeof ct=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ct)){var Ee=parseInt(ct.substr(1),16);ct=Ee>>16&255,pt=Ee>>8&255,_t=255&Ee}if(pt===void 0||Ot===void 0&&ct===pt&&pt===_t)if(typeof ct=="string")z=ct+" "+Yt[0];else switch(E.precision){case 2:z=ut(ct/255)+" "+Yt[0];break;case 3:default:z=H(ct/255)+" "+Yt[0]}else if(Ot===void 0||Vn(Ot)==="object"){if(Ot&&!isNaN(Ot.a)&&Ot.a===0)return z=["1.","1.","1.",Yt[1]].join(" ");if(typeof ct=="string")z=[ct,pt,_t,Yt[1]].join(" ");else switch(E.precision){case 2:z=[ut(ct/255),ut(pt/255),ut(_t/255),Yt[1]].join(" ");break;default:case 3:z=[H(ct/255),H(pt/255),H(_t/255),Yt[1]].join(" ")}}else if(typeof ct=="string")z=[ct,pt,_t,Ot,Yt[2]].join(" ");else switch(E.precision){case 2:z=[ut(ct),ut(pt),ut(_t),ut(Ot),Yt[2]].join(" ");break;case 3:default:z=[H(ct),H(pt),H(_t),H(Ot),Yt[2]].join(" ")}return z},ya=v.__private__.getFilters=function(){return A},ba=v.__private__.putStream=function(E){var z=(E=E||{}).data||"",ct=E.filters||ya(),pt=E.alreadyAppliedFilters||[],_t=E.addLength1||!1,Ot=z.length,Yt=E.objectId,oe=function(_r){return _r};if(f!==null&&Yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(oe=fi.encryptor(Yt,0));var Ee={};ct===!0&&(ct=["FlateEncode"]);var Me=E.additionalKeyValues||[],Ie=(Ee=De.API.processDataByFilters!==void 0?De.API.processDataByFilters(z,ct):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(pt)?pt.join(" "):pt.toString());if(Ee.data.length!==0&&(Me.push({key:"Length",value:Ee.data.length}),_t===!0&&Me.push({key:"Length1",value:Ot})),Ie.length!=0)if(Ie.split("/").length-1==1)Me.push({key:"Filter",value:Ie});else{Me.push({key:"Filter",value:"["+Ie+"]"});for(var pn=0;pn<Me.length;pn+=1)if(Me[pn].key==="DecodeParms"){for(var gi=[],Bi=0;Bi<Ee.reverseChain.split("/").length-1;Bi+=1)gi.push("null");gi.push(Me[pn].value),Me[pn].value="["+gi.join(" ")+"]"}}ot("<<");for(var Mi=0;Mi<Me.length;Mi++)ot("/"+Me[Mi].key+" "+Me[Mi].value);ot(">>"),Ee.data.length!==0&&(ot("stream"),ot(oe(Ee.data)),ot("endstream"))},KA=v.__private__.putPage=function(E){var z=E.number,ct=E.data,pt=E.objId,_t=E.contentsObjId;Ns(pt,!0),ot("<</Type /Page"),ot("/Parent "+E.rootDictionaryObjId+" 0 R"),ot("/Resources "+E.resourceDictionaryObjId+" 0 R"),ot("/MediaBox ["+parseFloat(j(E.mediaBox.bottomLeftX))+" "+parseFloat(j(E.mediaBox.bottomLeftY))+" "+j(E.mediaBox.topRightX)+" "+j(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&ot("/CropBox ["+j(E.cropBox.bottomLeftX)+" "+j(E.cropBox.bottomLeftY)+" "+j(E.cropBox.topRightX)+" "+j(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&ot("/BleedBox ["+j(E.bleedBox.bottomLeftX)+" "+j(E.bleedBox.bottomLeftY)+" "+j(E.bleedBox.topRightX)+" "+j(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&ot("/TrimBox ["+j(E.trimBox.bottomLeftX)+" "+j(E.trimBox.bottomLeftY)+" "+j(E.trimBox.topRightX)+" "+j(E.trimBox.topRightY)+"]"),E.artBox!==null&&ot("/ArtBox ["+j(E.artBox.bottomLeftX)+" "+j(E.artBox.bottomLeftY)+" "+j(E.artBox.topRightX)+" "+j(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&ot("/UserUnit "+E.userUnit),gn.publish("putPage",{objId:pt,pageContext:Oe[z],pageNumber:z,page:ct}),ot("/Contents "+_t+" 0 R"),ot(">>"),ot("endobj");var Ot=ct.join(`
`);return T===L.ADVANCED&&(Ot+=`
Q`),Ns(_t,!0),ba({data:Ot,filters:ya(),objectId:_t}),ot("endobj"),pt},ml=v.__private__.putPages=function(){var E,z,ct=[];for(E=1;E<=On;E++)Oe[E].objId=_i(),Oe[E].contentsObjId=_i();for(E=1;E<=On;E++)ct.push(KA({number:E,data:jt[E],objId:Oe[E].objId,contentsObjId:Oe[E].contentsObjId,mediaBox:Oe[E].mediaBox,cropBox:Oe[E].cropBox,bleedBox:Oe[E].bleedBox,trimBox:Oe[E].trimBox,artBox:Oe[E].artBox,userUnit:Oe[E].userUnit,rootDictionaryObjId:Kr,resourceDictionaryObjId:Hn}));Ns(Kr,!0),ot("<</Type /Pages");var pt="/Kids [";for(z=0;z<On;z++)pt+=ct[z]+" 0 R ";ot(pt+"]"),ot("/Count "+On),ot(">>"),ot("endobj"),gn.publish("postPutPages")},zA=function(E){gn.publish("putFont",{font:E,out:ot,newObject:Ri,putStream:ba}),E.isAlreadyPutted!==!0&&(E.objectNumber=Ri(),ot("<<"),ot("/Type /Font"),ot("/BaseFont /"+P0(E.postScriptName)),ot("/Subtype /Type1"),typeof E.encoding=="string"&&ot("/Encoding /"+E.encoding),ot("/FirstChar 32"),ot("/LastChar 255"),ot(">>"),ot("endobj"))},wl=function(){for(var E in fn)fn.hasOwnProperty(E)&&(p===!1||p===!0&&w.hasOwnProperty(E))&&zA(fn[E])},eA=function(E){E.objectNumber=Ri();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[j(E.x),j(E.y),j(E.x+E.width),j(E.y+E.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var ct=E.pages[1].join(`
`);ba({data:ct,additionalKeyValues:z,objectId:E.objectNumber}),ot("endobj")},nA=function(){for(var E in ur)ur.hasOwnProperty(E)&&eA(ur[E])},vl=function(E,z){var ct,pt=[],_t=1/(z-1);for(ct=0;ct<1;ct+=_t)pt.push(ct);if(pt.push(1),E[0].offset!=0){var Ot={offset:0,color:E[0].color};E.unshift(Ot)}if(E[E.length-1].offset!=1){var Yt={offset:1,color:E[E.length-1].color};E.push(Yt)}for(var oe="",Ee=0,Me=0;Me<pt.length;Me++){for(ct=pt[Me];ct>E[Ee+1].offset;)Ee++;var Ie=E[Ee].offset,pn=(ct-Ie)/(E[Ee+1].offset-Ie),gi=E[Ee].color,Bi=E[Ee+1].color;oe+=at(Math.round((1-pn)*gi[0]+pn*Bi[0]).toString(16))+at(Math.round((1-pn)*gi[1]+pn*Bi[1]).toString(16))+at(Math.round((1-pn)*gi[2]+pn*Bi[2]).toString(16))}return oe.trim()},yl=function(E,z){z||(z=21);var ct=Ri(),pt=vl(E.colors,z),_t=[];_t.push({key:"FunctionType",value:"0"}),_t.push({key:"Domain",value:"[0.0 1.0]"}),_t.push({key:"Size",value:"["+z+"]"}),_t.push({key:"BitsPerSample",value:"8"}),_t.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ba({data:pt,additionalKeyValues:_t,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ct}),ot("endobj"),E.objectNumber=Ri(),ot("<< /ShadingType "+E.type),ot("/ColorSpace /DeviceRGB");var Ot="/Coords ["+j(parseFloat(E.coords[0]))+" "+j(parseFloat(E.coords[1]))+" ";E.type===2?Ot+=j(parseFloat(E.coords[2]))+" "+j(parseFloat(E.coords[3])):Ot+=j(parseFloat(E.coords[2]))+" "+j(parseFloat(E.coords[3]))+" "+j(parseFloat(E.coords[4]))+" "+j(parseFloat(E.coords[5])),ot(Ot+="]"),E.matrix&&ot("/Matrix ["+E.matrix.toString()+"]"),ot("/Function "+ct+" 0 R"),ot("/Extend [true true]"),ot(">>"),ot("endobj")},qi=function(E,z){var ct=_i(),pt=Ri();z.push({resourcesOid:ct,objectOid:pt}),E.objectNumber=pt;var _t=[];_t.push({key:"Type",value:"/Pattern"}),_t.push({key:"PatternType",value:"1"}),_t.push({key:"PaintType",value:"1"}),_t.push({key:"TilingType",value:"1"}),_t.push({key:"BBox",value:"["+E.boundingBox.map(j).join(" ")+"]"}),_t.push({key:"XStep",value:j(E.xStep)}),_t.push({key:"YStep",value:j(E.yStep)}),_t.push({key:"Resources",value:ct+" 0 R"}),E.matrix&&_t.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),ba({data:E.stream,additionalKeyValues:_t,objectId:E.objectNumber}),ot("endobj")},Dc=function(E){var z;for(z in Un)Un.hasOwnProperty(z)&&(Un[z]instanceof ig?yl(Un[z]):Un[z]instanceof J0&&qi(Un[z],E))},pf=function(E){for(var z in E.objectNumber=Ri(),ot("<<"),E)switch(z){case"opacity":ot("/ca "+ut(E[z]));break;case"stroke-opacity":ot("/CA "+ut(E[z]))}ot(">>"),ot("endobj")},So=function(){var E;for(E in ni)ni.hasOwnProperty(E)&&pf(ni[E])},GA=function(){for(var E in ot("/XObject <<"),ur)ur.hasOwnProperty(E)&&ur[E].objectNumber>=0&&ot("/"+E+" "+ur[E].objectNumber+" 0 R");gn.publish("putXobjectDict"),ot(">>")},K1=function(){fi.oid=Ri(),ot("<<"),ot("/Filter /Standard"),ot("/V "+fi.v),ot("/R "+fi.r),ot("/U <"+fi.toHexString(fi.U)+">"),ot("/O <"+fi.toHexString(fi.O)+">"),ot("/P "+fi.P),ot(">>"),ot("endobj")},mf=function(){for(var E in ot("/Font <<"),fn)fn.hasOwnProperty(E)&&(p===!1||p===!0&&w.hasOwnProperty(E))&&ot("/"+E+" "+fn[E].objectNumber+" 0 R");ot(">>")},Ip=function(){if(Object.keys(Un).length>0){for(var E in ot("/Shading <<"),Un)Un.hasOwnProperty(E)&&Un[E]instanceof ig&&Un[E].objectNumber>=0&&ot("/"+E+" "+Un[E].objectNumber+" 0 R");gn.publish("putShadingPatternDict"),ot(">>")}},ah=function(E){if(Object.keys(Un).length>0){for(var z in ot("/Pattern <<"),Un)Un.hasOwnProperty(z)&&Un[z]instanceof v.TilingPattern&&Un[z].objectNumber>=0&&Un[z].objectNumber<E&&ot("/"+z+" "+Un[z].objectNumber+" 0 R");gn.publish("putTilingPatternDict"),ot(">>")}},Ah=function(){if(Object.keys(ni).length>0){var E;for(E in ot("/ExtGState <<"),ni)ni.hasOwnProperty(E)&&ni[E].objectNumber>=0&&ot("/"+E+" "+ni[E].objectNumber+" 0 R");gn.publish("putGStateDict"),ot(">>")}},di=function(E){Ns(E.resourcesOid,!0),ot("<<"),ot("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),mf(),Ip(),ah(E.objectOid),Ah(),GA(),ot(">>"),ot("endobj")},Ba=function(){var E=[];wl(),So(),nA(),Dc(E),gn.publish("putResources"),E.forEach(di),di({resourcesOid:Hn,objectOid:Number.MAX_SAFE_INTEGER}),gn.publish("postPutResources")},us=function(){gn.publish("putAdditionalObjects");for(var E=0;E<qt.length;E++){var z=qt[E];Ns(z.objId,!0),ot(z.content),ot("endobj")}gn.publish("postPutAdditionalObjects")},wf=function(E){sn[E.fontName]=sn[E.fontName]||{},sn[E.fontName][E.fontStyle]=E.id},vf=function(E,z,ct,pt,_t){var Ot={id:"F"+(Object.keys(fn).length+1).toString(10),postScriptName:E,fontName:z,fontStyle:ct,encoding:pt,isStandardFont:_t||!1,metadata:{}};return gn.publish("addFont",{font:Ot,instance:this}),fn[Ot.id]=Ot,wf(Ot),Ot.id},yf=function(E){for(var z=0,ct=Vt.length;z<ct;z++){var pt=vf.call(this,E[z][0],E[z][1],E[z][2],Vt[z][3],!0);p===!1&&(w[pt]=!0);var _t=E[z][0].split("-");wf({id:pt,fontName:_t[0],fontStyle:_t[1]||""})}gn.publish("addFonts",{fonts:fn,dictionary:sn})},Ca=function(E){return E.foo=function(){try{return E.apply(this,arguments)}catch(pt){var z=pt.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var ct="Error in function "+z.split(`
`)[0].split("<")[0]+": "+pt.message;if(!Re.console)throw new Error(ct);Re.console.error(ct,pt),Re.alert&&alert(ct)}},E.foo.bar=E,E.foo},_o=function(E,z){var ct,pt,_t,Ot,Yt,oe,Ee,Me,Ie;if(_t=(z=z||{}).sourceEncoding||"Unicode",Yt=z.outputEncoding,(z.autoencode||Yt)&&fn[tn].metadata&&fn[tn].metadata[_t]&&fn[tn].metadata[_t].encoding&&(Ot=fn[tn].metadata[_t].encoding,!Yt&&fn[tn].encoding&&(Yt=fn[tn].encoding),!Yt&&Ot.codePages&&(Yt=Ot.codePages[0]),typeof Yt=="string"&&(Yt=Ot[Yt]),Yt)){for(Ee=!1,oe=[],ct=0,pt=E.length;ct<pt;ct++)(Me=Yt[E.charCodeAt(ct)])?oe.push(String.fromCharCode(Me)):oe.push(E[ct]),oe[ct].charCodeAt(0)>>8&&(Ee=!0);E=oe.join("")}for(ct=E.length;Ee===void 0&&ct!==0;)E.charCodeAt(ct-1)>>8&&(Ee=!0),ct--;if(!Ee)return E;for(oe=z.noBOM?[]:[254,255],ct=0,pt=E.length;ct<pt;ct++){if((Ie=(Me=E.charCodeAt(ct))>>8)>>8)throw new Error("Character at position "+ct+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");oe.push(Ie),oe.push(Me-(Ie<<8))}return String.fromCharCode.apply(void 0,oe)},Ts=v.__private__.pdfEscape=v.pdfEscape=function(E,z){return _o(E,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gr=v.__private__.beginPage=function(E){jt[++On]=[],Oe[On]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},lh(On),Ut(jt[X])},oh=function(E,z){var ct,pt,_t;switch(e=z||e,typeof E=="string"&&(ct=S(E.toLowerCase()),Array.isArray(ct)&&(pt=ct[0],_t=ct[1])),Array.isArray(E)&&(pt=E[0]*Ae,_t=E[1]*Ae),isNaN(pt)&&(pt=i[0],_t=i[1]),(pt>14400||_t>14400)&&(li.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pt=Math.min(14400,pt),_t=Math.min(14400,_t)),i=[pt,_t],e.substr(0,1)){case"l":_t>pt&&(i=[_t,pt]);break;case"p":pt>_t&&(i=[_t,pt])}Gr(i),Mc(hr),ot(sA),_f!==0&&ot(_f+" J"),Ff!==0&&ot(Ff+" j"),gn.publish("addPage",{pageNumber:On})},Dp=function(E){E>0&&E<=On&&(jt.splice(E,1),Oe.splice(E,1),On--,X>On&&(X=On),this.setPage(X))},lh=function(E){E>0&&E<=On&&(X=E)},bl=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return jt.length-1},bf=function(E,z,ct){var pt,_t=void 0;return ct=ct||{},E=E!==void 0?E:fn[tn].fontName,z=z!==void 0?z:fn[tn].fontStyle,pt=E.toLowerCase(),sn[pt]!==void 0&&sn[pt][z]!==void 0?_t=sn[pt][z]:sn[E]!==void 0&&sn[E][z]!==void 0?_t=sn[E][z]:ct.disableWarning===!1&&li.warn("Unable to look up font label for font '"+E+"', '"+z+"'. Refer to getFontList() for available fonts."),_t||ct.noFallback||(_t=sn.times[z])==null&&(_t=sn.times.normal),_t},kp=v.__private__.putInfo=function(){var E=Ri(),z=function(pt){return pt};for(var ct in f!==null&&(z=fi.encryptor(E,0)),ot("<<"),ot("/Producer ("+Ts(z("jsPDF "+De.version))+")"),ke)ke.hasOwnProperty(ct)&&ke[ct]&&ot("/"+ct.substr(0,1).toUpperCase()+ct.substr(1)+" ("+Ts(z(ke[ct]))+")");ot("/CreationDate ("+Ts(z(mt))+")"),ot(">>"),ot("endobj")},VA=v.__private__.putCatalog=function(E){var z=(E=E||{}).rootDictionaryObjId||Kr;switch(Ri(),ot("<<"),ot("/Type /Catalog"),ot("/Pages "+z+" 0 R"),ie||(ie="fullwidth"),ie){case"fullwidth":ot("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ot("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ot("/OpenAction [3 0 R /Fit]");break;case"original":ot("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ct=""+ie;ct.substr(ct.length-1)==="%"&&(ie=parseInt(ie)/100),typeof ie=="number"&&ot("/OpenAction [3 0 R /XYZ null null "+ut(ie)+"]")}switch(We||(We="continuous"),We){case"continuous":ot("/PageLayout /OneColumn");break;case"single":ot("/PageLayout /SinglePage");break;case"two":case"twoleft":ot("/PageLayout /TwoColumnLeft");break;case"tworight":ot("/PageLayout /TwoColumnRight")}Ce&&ot("/PageMode /"+Ce),gn.publish("putCatalog"),ot(">>"),ot("endobj")},z1=v.__private__.putTrailer=function(){ot("trailer"),ot("<<"),ot("/Size "+(ht+1)),ot("/Root "+ht+" 0 R"),ot("/Info "+(ht-1)+" 0 R"),f!==null&&ot("/Encrypt "+fi.oid+" 0 R"),ot("/ID [ <"+q+"> <"+q+"> ]"),ot(">>")},Op=v.__private__.putHeader=function(){ot("%PDF-"+x),ot("%")},Rp=v.__private__.putXRef=function(){var E="0000000000";ot("xref"),ot("0 "+(ht+1)),ot("0000000000 65535 f ");for(var z=1;z<=ht;z++)typeof gt[z]=="function"?ot((E+gt[z]()).slice(-10)+" 00000 n "):gt[z]!==void 0?ot((E+gt[z]).slice(-10)+" 00000 n "):ot("0000000000 00000 n ")},iA=v.__private__.buildDocument=function(){Gt(),Ut(ft),gn.publish("buildDocument"),Op(),ml(),us(),Ba(),f!==null&&K1(),kp(),VA();var E=Ct;return Rp(),z1(),ot("startxref"),ot(""+E),ot("%%EOF"),Ut(jt[X]),ft.join(`
`)},ch=v.__private__.getBlob=function(E){return new Blob([ee(E)],{type:"application/pdf"})},uh=v.output=v.__private__.output=Ca((function(E,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",E){case void 0:return iA();case"save":v.save(z.filename);break;case"arraybuffer":return ee(iA());case"blob":return ch(iA());case"bloburi":case"bloburl":if(Re.URL!==void 0&&typeof Re.URL.createObjectURL=="function")return Re.URL&&Re.URL.createObjectURL(ch(iA()))||void 0;li.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ct="",pt=iA();try{ct=zE(pt)}catch{ct=zE(unescape(encodeURIComponent(pt)))}return"data:application/pdf;filename="+z.filename+";base64,"+ct;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Re)==="[object Window]"){var _t="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(_t=z.pdfObjectUrl,Ot="");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_t+'"'+Ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",oe=Re.open();return oe!==null&&oe.document.write(Yt),oe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Re)==="[object Window]"){var Ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Me=Re.open();if(Me!==null){Me.document.write(Ee);var Ie=this;Me.document.documentElement.querySelector("#pdfViewer").onload=function(){Me.document.title=z.filename,Me.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ie.output("bloburl"))}}return Me}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Re)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',gi=Re.open();if(gi!==null&&(gi.document.write(pn),gi.document.title=z.filename),gi||typeof safari>"u")return gi;break;case"datauri":case"dataurl":return Re.document.location.href=this.output("datauristring",z);default:return null}})),kc=function(E){return Array.isArray(Qc)===!0&&Qc.indexOf(E)>-1};switch(n){case"pt":Ae=1;break;case"mm":Ae=72/25.4;break;case"cm":Ae=72/2.54;break;case"in":Ae=72;break;case"px":Ae=kc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ae=12;break;case"ex":Ae=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ae=n}var fi=null;st(),lt();var Bf=function(E){return f!==null?fi.encryptor(E,0):function(z){return z}},hh=v.__private__.getPageInfo=v.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Oe[E].objId,pageNumber:E,pageContext:Oe[E]}},Ue=v.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in Oe)if(Oe[z].objId===E)break;return hh(z)},Bl=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Oe[X].objId,pageNumber:X,pageContext:Oe[X]}};v.addPage=function(){return oh.apply(this,arguments),this},v.setPage=function(){return lh.apply(this,arguments),Ut.call(this,jt[X]),this},v.insertPage=function(E){return this.addPage(),this.movePage(X,E),this},v.movePage=function(E,z){var ct,pt;if(E>z){ct=jt[E],pt=Oe[E];for(var _t=E;_t>z;_t--)jt[_t]=jt[_t-1],Oe[_t]=Oe[_t-1];jt[z]=ct,Oe[z]=pt,this.setPage(z)}else if(E<z){ct=jt[E],pt=Oe[E];for(var Ot=E;Ot<z;Ot++)jt[Ot]=jt[Ot+1],Oe[Ot]=Oe[Ot+1];jt[z]=ct,Oe[z]=pt,this.setPage(z)}return this},v.deletePage=function(){return Dp.apply(this,arguments),this},v.__private__.text=v.text=function(E,z,ct,pt,_t){var Ot,Yt,oe,Ee,Me,Ie,pn,gi,Bi,Mi=(pt=pt||{}).scope||this;if(typeof E=="number"&&typeof z=="number"&&(typeof ct=="string"||Array.isArray(ct))){var _r=ct;ct=z,z=E,E=_r}if(arguments[3]instanceof Fe?(V("The transform parameter of text() with a Matrix value"),Bi=_t):(oe=arguments[4],Ee=arguments[5],Vn(pn=arguments[3])==="object"&&pn!==null||(typeof oe=="string"&&(Ee=oe,oe=null),typeof pn=="string"&&(Ee=pn,pn=null),typeof pn=="number"&&(oe=pn,pn=null),pt={flags:pn,angle:oe,align:Ee})),isNaN(z)||isNaN(ct)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return Mi;var nr="",Vr=!1,ta=typeof pt.lineHeightFactor=="number"?pt.lineHeightFactor:Sl,XA=Mi.internal.scaleFactor;function Kp(an){return an=an.split("	").join(Array(pt.TabLen||9).join(" ")),Ts(an,pn)}function wh(an){for(var Qn,xn=an.concat(),pi=[],cA=xn.length;cA--;)typeof(Qn=xn.shift())=="string"?pi.push(Qn):Array.isArray(an)&&(Qn.length===1||Qn[1]===void 0&&Qn[2]===void 0)?pi.push(Qn[0]):pi.push([Qn[0],Qn[1],Qn[2]]);return pi}function vh(an,Qn){var xn;if(typeof an=="string")xn=Qn(an)[0];else if(Array.isArray(an)){for(var pi,cA,kl=an.concat(),Io=[],Sh=kl.length;Sh--;)typeof(pi=kl.shift())=="string"?Io.push(Qn(pi)[0]):Array.isArray(pi)&&typeof pi[0]=="string"&&(cA=Qn(pi[0],pi[1],pi[2]),Io.push([cA[0],cA[1],cA[2]]));xn=Io}return xn}var YA=!1,Uo=!0;if(typeof E=="string")YA=!0;else if(Array.isArray(E)){var Tf=E.concat();Yt=[];for(var Lo,dr=Tf.length;dr--;)(typeof(Lo=Tf.shift())!="string"||Array.isArray(Lo)&&typeof Lo[0]!="string")&&(Uo=!1);YA=Uo}if(YA===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Kc=Jt/Mi.internal.scaleFactor,Ll=Kc*(ta-1);switch(pt.baseline){case"bottom":ct-=Ll;break;case"top":ct+=Kc-Ll;break;case"hanging":ct+=Kc-2*Ll;break;case"middle":ct+=Kc/2-Ll}if((Ie=pt.maxWidth||0)>0&&(typeof E=="string"?E=Mi.splitTextToSize(E,Ie):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce((function(an,Qn){return an.concat(Mi.splitTextToSize(Qn,Ie))}),[]))),Ot={text:E,x:z,y:ct,options:pt,mutex:{pdfEscape:Ts,activeFontKey:tn,fonts:fn,activeFontSize:Jt}},gn.publish("preProcessText",Ot),E=Ot.text,oe=(pt=Ot.options).angle,!(Bi instanceof Fe)&&oe&&typeof oe=="number"){oe*=Math.PI/180,pt.rotationDirection===0&&(oe=-oe),T===L.ADVANCED&&(oe=-oe);var Nl=Math.cos(oe),yh=Math.sin(oe);Bi=new Fe(Nl,yh,-yh,Nl,0,0)}else oe&&oe instanceof Fe&&(Bi=oe);T!==L.ADVANCED||Bi||(Bi=tA),(Me=pt.charSpace||ph)!==void 0&&(nr+=j(G(Me))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(gi=pt.horizontalScale)!==void 0&&(nr+=j(100*gi)+` Tz
`),pt.lang;var hs=-1,zp=pt.renderingMode!==void 0?pt.renderingMode:pt.stroke,Qf=Mi.internal.getCurrentPageInfo().pageContext;switch(zp){case 0:case!1:case"fill":hs=0;break;case 1:case!0:case"stroke":hs=1;break;case 2:case"fillThenStroke":hs=2;break;case 3:case"invisible":hs=3;break;case 4:case"fillAndAddForClipping":hs=4;break;case 5:case"strokeAndAddPathForClipping":hs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hs=6;break;case 7:case"addToPathForClipping":hs=7}var Gp=Qf.usedRenderingMode!==void 0?Qf.usedRenderingMode:-1;hs!==-1?nr+=hs+` Tr
`:Gp!==-1&&(nr+=`0 Tr
`),hs!==-1&&(Qf.usedRenderingMode=hs),Ee=pt.align||"left";var _a,bh=Jt*ta,Vp=Mi.internal.pageSize.getWidth(),qr=fn[tn];Me=pt.charSpace||ph,Ie=pt.maxWidth||0,pn=Object.assign({autoencode:!0,noBOM:!0},pt.flags);var Fa=[],Tl=function(an){return Mi.getStringUnitWidth(an,{font:qr,charSpace:Me,fontSize:Jt,doKerning:!1})*Jt/XA};if(Object.prototype.toString.call(E)==="[object Array]"){var ds;Yt=wh(E),Ee!=="left"&&(_a=Yt.map(Tl));var Xr,No=0;if(Ee==="right"){z-=_a[0],E=[],dr=Yt.length;for(var aA=0;aA<dr;aA++)aA===0?(Xr=Sa(z),ds=Zs(ct)):(Xr=G(No-_a[aA]),ds=-bh),E.push([Yt[aA],Xr,ds]),No=_a[aA]}else if(Ee==="center"){z-=_a[0]/2,E=[],dr=Yt.length;for(var To=0;To<dr;To++)To===0?(Xr=Sa(z),ds=Zs(ct)):(Xr=G((No-_a[To])/2),ds=-bh),E.push([Yt[To],Xr,ds]),No=_a[To]}else if(Ee==="left"){E=[],dr=Yt.length;for(var AA=0;AA<dr;AA++)E.push(Yt[AA])}else if(Ee==="justify"&&qr.encoding==="Identity-H"){E=[],dr=Yt.length,Ie=Ie!==0?Ie:Vp;for(var oA=0,ii=0;ii<dr;ii++)if(ds=ii===0?Zs(ct):-bh,Xr=ii===0?Sa(z):oA,ii<dr-1){var zc=G((Ie-_a[ii])/(Yt[ii].split(" ").length-1)),Yr=Yt[ii].split(" ");E.push([Yr[0]+" ",Xr,ds]),oA=0;for(var fr=1;fr<Yr.length;fr++){var lA=(Tl(Yr[fr-1]+" "+Yr[fr])-Tl(Yr[fr]))*XA+zc;fr==Yr.length-1?E.push([Yr[fr],lA,0]):E.push([Yr[fr]+" ",lA,0]),oA-=lA}}else E.push([Yt[ii],Xr,ds]);E.push(["",oA,0])}else{if(Ee!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],dr=Yt.length,Ie=Ie!==0?Ie:Vp,ii=0;ii<dr;ii++)ds=ii===0?Zs(ct):-bh,Xr=ii===0?Sa(z):0,ii<dr-1?Fa.push(j(G((Ie-_a[ii])/(Yt[ii].split(" ").length-1)))):Fa.push(0),E.push([Yt[ii],Xr,ds])}}var Bh=typeof pt.R2L=="boolean"?pt.R2L:me;Bh===!0&&(E=vh(E,(function(an,Qn,xn){return[an.split("").reverse().join(""),Qn,xn]}))),Ot={text:E,x:z,y:ct,options:pt,mutex:{pdfEscape:Ts,activeFontKey:tn,fonts:fn,activeFontSize:Jt}},gn.publish("postProcessText",Ot),E=Ot.text,Vr=Ot.mutex.isHex||!1;var Ch=fn[tn].encoding;Ch!=="WinAnsiEncoding"&&Ch!=="StandardEncoding"||(E=vh(E,(function(an,Qn,xn){return[Kp(an),Qn,xn]}))),Yt=wh(E),E=[];for(var ea,Ql,Qo,Il=0,xh=1,Gc=Array.isArray(Yt[0])?xh:Il,Dl="",Eh=function(an,Qn,xn){var pi="";return xn instanceof Fe?(xn=typeof pt.angle=="number"?va(xn,new Fe(1,0,0,1,an,Qn)):va(new Fe(1,0,0,1,an,Qn),xn),T===L.ADVANCED&&(xn=va(new Fe(1,0,0,-1,0,0),xn)),pi=xn.join(" ")+` Tm
`):pi=j(an)+" "+j(Qn)+` Td
`,pi},na=0;na<Yt.length;na++){switch(Dl="",Gc){case xh:Qo=(Vr?"<":"(")+Yt[na][0]+(Vr?">":")"),ea=parseFloat(Yt[na][1]),Ql=parseFloat(Yt[na][2]);break;case Il:Qo=(Vr?"<":"(")+Yt[na]+(Vr?">":")"),ea=Sa(z),Ql=Zs(ct)}Fa!==void 0&&Fa[na]!==void 0&&(Dl=Fa[na]+` Tw
`),na===0?E.push(Dl+Eh(ea,Ql,Bi)+Qo):Gc===Il?E.push(Dl+Qo):Gc===xh&&E.push(Dl+Eh(ea,Ql,Bi)+Qo)}E=Gc===Il?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Is=`BT
/`;return Is+=tn+" "+Jt+` Tf
`,Is+=j(Jt*ta)+` TL
`,Is+=Hc+`
`,Is+=nr,Is+=E,ot(Is+="ET"),w[tn]=!0,Mi};var Mp=v.__private__.clip=v.clip=function(E){return ot(E==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Mp("evenodd")},v.__private__.discardPath=v.discardPath=function(){return ot("n"),this};var xa=v.__private__.isValidStyle=function(E){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(z=!0),z};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(E){return xa(E)&&(h=E),this};var Cf=v.__private__.getStyle=v.getStyle=function(E){var z=h;switch(E){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=E}return z},Cl=v.close=function(){return ot("h"),this};v.stroke=function(){return ot("S"),this},v.fill=function(E){return Qs("f",E),this},v.fillEvenOdd=function(E){return Qs("f*",E),this},v.fillStroke=function(E){return Qs("B",E),this},v.fillStrokeEvenOdd=function(E){return Qs("B*",E),this};var Qs=function(E,z){Vn(z)==="object"?qA(z,E):ot(E)},Oc=function(E){E===null||T===L.ADVANCED&&E===void 0||(E=Cf(E),ot(E))};function Rc(E,z,ct,pt,_t){var Ot=new J0(z||this.boundingBox,ct||this.xStep,pt||this.yStep,this.gState,_t||this.matrix);Ot.stream=this.stream;var Yt=E+"$$"+this.cloneIndex+++"$$";return cs(Yt,Ot),Ot}var qA=function(E,z){var ct=Tc[E.key],pt=Un[ct];if(pt instanceof ig)ot("q"),ot(xf(z)),pt.gState&&v.setGState(pt.gState),ot(E.matrix.toString()+" cm"),ot("/"+ct+" sh"),ot("Q");else if(pt instanceof J0){var _t=new Fe(1,0,0,-1,0,Ul());E.matrix&&(_t=_t.multiply(E.matrix||tA),ct=Rc.call(pt,E.key,E.boundingBox,E.xStep,E.yStep,_t).id),ot("q"),ot("/Pattern cs"),ot("/"+ct+" scn"),pt.gState&&v.setGState(pt.gState),ot(z),ot("Q")}},xf=function(E){switch(E){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},xl=v.moveTo=function(E,z){return ot(j(G(E))+" "+j(it(z))+" m"),this},El=v.lineTo=function(E,z){return ot(j(G(E))+" "+j(it(z))+" l"),this},rA=v.curveTo=function(E,z,ct,pt,_t,Ot){return ot([j(G(E)),j(it(z)),j(G(ct)),j(it(pt)),j(G(_t)),j(it(Ot)),"c"].join(" ")),this};v.__private__.line=v.line=function(E,z,ct,pt,_t){if(isNaN(E)||isNaN(z)||isNaN(ct)||isNaN(pt)||!xa(_t))throw new Error("Invalid arguments passed to jsPDF.line");return T===L.COMPAT?this.lines([[ct-E,pt-z]],E,z,[1,1],_t||"S"):this.lines([[ct-E,pt-z]],E,z,[1,1]).stroke()},v.__private__.lines=v.lines=function(E,z,ct,pt,_t,Ot){var Yt,oe,Ee,Me,Ie,pn,gi,Bi,Mi,_r,nr,Vr;if(typeof E=="number"&&(Vr=ct,ct=z,z=E,E=Vr),pt=pt||[1,1],Ot=Ot||!1,isNaN(z)||isNaN(ct)||!Array.isArray(E)||!Array.isArray(pt)||!xa(_t)||typeof Ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xl(z,ct),Yt=pt[0],oe=pt[1],Me=E.length,_r=z,nr=ct,Ee=0;Ee<Me;Ee++)(Ie=E[Ee]).length===2?(_r=Ie[0]*Yt+_r,nr=Ie[1]*oe+nr,El(_r,nr)):(pn=Ie[0]*Yt+_r,gi=Ie[1]*oe+nr,Bi=Ie[2]*Yt+_r,Mi=Ie[3]*oe+nr,_r=Ie[4]*Yt+_r,nr=Ie[5]*oe+nr,rA(pn,gi,Bi,Mi,_r,nr));return Ot&&Cl(),Oc(_t),this},v.path=function(E){for(var z=0;z<E.length;z++){var ct=E[z],pt=ct.c;switch(ct.op){case"m":xl(pt[0],pt[1]);break;case"l":El(pt[0],pt[1]);break;case"c":rA.apply(this,pt);break;case"h":Cl()}}return this},v.__private__.rect=v.rect=function(E,z,ct,pt,_t){if(isNaN(E)||isNaN(z)||isNaN(ct)||isNaN(pt)||!xa(_t))throw new Error("Invalid arguments passed to jsPDF.rect");return T===L.COMPAT&&(pt=-pt),ot([j(G(E)),j(it(z)),j(G(ct)),j(G(pt)),"re"].join(" ")),Oc(_t),this},v.__private__.triangle=v.triangle=function(E,z,ct,pt,_t,Ot,Yt){if(isNaN(E)||isNaN(z)||isNaN(ct)||isNaN(pt)||isNaN(_t)||isNaN(Ot)||!xa(Yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ct-E,pt-z],[_t-ct,Ot-pt],[E-_t,z-Ot]],E,z,[1,1],Yt,!0),this},v.__private__.roundedRect=v.roundedRect=function(E,z,ct,pt,_t,Ot,Yt){if(isNaN(E)||isNaN(z)||isNaN(ct)||isNaN(pt)||isNaN(_t)||isNaN(Ot)||!xa(Yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var oe=4/3*(Math.SQRT2-1);return _t=Math.min(_t,.5*ct),Ot=Math.min(Ot,.5*pt),this.lines([[ct-2*_t,0],[_t*oe,0,_t,Ot-Ot*oe,_t,Ot],[0,pt-2*Ot],[0,Ot*oe,-_t*oe,Ot,-_t,Ot],[2*_t-ct,0],[-_t*oe,0,-_t,-Ot*oe,-_t,-Ot],[0,2*Ot-pt],[0,-Ot*oe,_t*oe,-Ot,_t,-Ot]],E+_t,z,[1,1],Yt,!0),this},v.__private__.ellipse=v.ellipse=function(E,z,ct,pt,_t){if(isNaN(E)||isNaN(z)||isNaN(ct)||isNaN(pt)||!xa(_t))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ot=4/3*(Math.SQRT2-1)*ct,Yt=4/3*(Math.SQRT2-1)*pt;return xl(E+ct,z),rA(E+ct,z-Yt,E+Ot,z-pt,E,z-pt),rA(E-Ot,z-pt,E-ct,z-Yt,E-ct,z),rA(E-ct,z+Yt,E-Ot,z+pt,E,z+pt),rA(E+Ot,z+pt,E+ct,z+Yt,E+ct,z),Oc(_t),this},v.__private__.circle=v.circle=function(E,z,ct,pt){if(isNaN(E)||isNaN(z)||isNaN(ct)||!xa(pt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,z,ct,ct,pt)},v.setFont=function(E,z,ct){return ct&&(z=M(z,ct)),tn=bf(E,z,{disableWarning:!1}),this};var dh=v.__private__.getFont=v.getFont=function(){return fn[bf.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var E,z,ct={};for(E in sn)if(sn.hasOwnProperty(E))for(z in ct[E]=[],sn[E])sn[E].hasOwnProperty(z)&&ct[E].push(z);return ct},v.addFont=function(E,z,ct,pt,_t){var Ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ot.indexOf(arguments[3])!==-1?_t=arguments[3]:arguments[3]&&Ot.indexOf(arguments[3])==-1&&(ct=M(ct,pt)),_t=_t||"Identity-H",vf.call(this,E,z,ct,_t)};var Sl,hr=r.lineWidth||.200025,Ea=v.__private__.getLineWidth=v.getLineWidth=function(){return hr},Mc=v.__private__.setLineWidth=v.setLineWidth=function(E){return hr=E,ot(j(G(E))+" w"),this};v.__private__.setLineDash=De.API.setLineDash=De.API.setLineDashPattern=function(E,z){if(E=E||[],z=z||0,isNaN(z)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map((function(ct){return j(G(ct))})).join(" "),z=j(G(z)),ot("["+E+"] "+z+" d"),this};var _l=v.__private__.getLineHeight=v.getLineHeight=function(){return Jt*Sl};v.__private__.getLineHeight=v.getLineHeight=function(){return Jt*Sl};var Hp=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Sl=E),this},fh=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Sl};Hp(r.lineHeight);var Sa=v.__private__.getHorizontalCoordinate=function(E){return G(E)},Zs=v.__private__.getVerticalCoordinate=function(E){return T===L.ADVANCED?E:Oe[X].mediaBox.topRightY-Oe[X].mediaBox.bottomLeftY-G(E)},gh=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(E){return j(Sa(E))},Fo=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(E){return j(Zs(E))},sA=r.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return hi(sA)},v.__private__.setStrokeColor=v.setDrawColor=function(E,z,ct,pt){return sA=zr({ch1:E,ch2:z,ch3:ct,ch4:pt,pdfColorType:"draw",precision:2}),ot(sA),this};var Ef=r.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return hi(Ef)},v.__private__.setFillColor=v.setFillColor=function(E,z,ct,pt){return Ef=zr({ch1:E,ch2:z,ch3:ct,ch4:pt,pdfColorType:"fill",precision:2}),ot(Ef),this};var Hc=r.textColor||"0 g",Sf=v.__private__.getTextColor=v.getTextColor=function(){return hi(Hc)};v.__private__.setTextColor=v.setTextColor=function(E,z,ct,pt){return Hc=zr({ch1:E,ch2:z,ch3:ct,ch4:pt,pdfColorType:"text",precision:3}),this};var ph=r.charSpace,G1=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(ph||0)};v.__private__.setCharSpace=v.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ph=E,this};var _f=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(E){var z=v.CapJoinStyles[E];if(z===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _f=z,ot(z+" J"),this};var Ff=0;v.__private__.setLineJoin=v.setLineJoin=function(E){var z=v.CapJoinStyles[E];if(z===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ff=z,ot(z+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ot(j(G(E))+" M"),this},v.GState=e5,v.setGState=function(E){(E=typeof E=="string"?ni[Us[E]]:Pp(null,E)).equals(ma)||(ot("/"+E.id+" gs"),ma=E)};var Pp=function(E,z){if(!E||!Us[E]){var ct=!1;for(var pt in ni)if(ni.hasOwnProperty(pt)&&ni[pt].equals(z)){ct=!0;break}if(ct)z=ni[pt];else{var _t="GS"+(Object.keys(ni).length+1).toString(10);ni[_t]=z,z.id=_t}return E&&(Us[E]=z.id),gn.publish("addGState",z),z}};v.addGState=function(E,z){return Pp(E,z),this},v.saveGraphicsState=function(){return ot("q"),jA.push({key:tn,size:Jt,color:Hc}),this},v.restoreGraphicsState=function(){ot("Q");var E=jA.pop();return tn=E.key,Jt=E.size,Hc=E.color,ma=null,this},v.setCurrentTransformationMatrix=function(E){return ot(E.toString()+" cm"),this},v.comment=function(E){return ot("#"+E),this};var Pc=function(E,z){var ct=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ct},set:function(Ot){isNaN(Ot)||(ct=parseFloat(Ot))}});var pt=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pt},set:function(Ot){isNaN(Ot)||(pt=parseFloat(Ot))}});var _t="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _t},set:function(Ot){_t=Ot.toString()}}),this},Uf=function(E,z,ct,pt){Pc.call(this,E,z),this.type="rect";var _t=ct||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _t},set:function(Yt){isNaN(Yt)||(_t=parseFloat(Yt))}});var Ot=pt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ot},set:function(Yt){isNaN(Yt)||(Ot=parseFloat(Yt))}}),this},Lf=function(){this.page=On,this.currentPage=X,this.pages=jt.slice(0),this.pagesContext=Oe.slice(0),this.x=jr,this.y=rn,this.matrix=bi,this.width=jc(X),this.height=Ul(X),this.outputDestination=$t,this.id="",this.objectNumber=-1};Lf.prototype.restore=function(){On=this.page,X=this.currentPage,Oe=this.pagesContext,jt=this.pages,jr=this.x,rn=this.y,bi=this.matrix,Nf(X,this.width),mh(X,this.height),$t=this.outputDestination};var jp=function(E,z,ct,pt,_t){Ls.push(new Lf),On=X=0,jt=[],jr=E,rn=z,bi=_t,Gr([ct,pt])},V1=function(E){if(wa[E])Ls.pop().restore();else{var z=new Lf,ct="Xo"+(Object.keys(ur).length+1).toString(10);z.id=ct,wa[E]=ct,ur[ct]=z,gn.publish("addFormObject",z),Ls.pop().restore()}};for(var Fl in v.beginFormObject=function(E,z,ct,pt,_t){return jp(E,z,ct,pt,_t),this},v.endFormObject=function(E){return V1(E),this},v.doFormObject=function(E,z){var ct=ur[wa[E]];return ot("q"),ot(z.toString()+" cm"),ot("/"+ct.id+" Do"),ot("Q"),this},v.getFormObject=function(E){var z=ur[wa[E]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},v.save=function(E,z){return E=E||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?($f(ch(iA()),E),typeof $f.unload=="function"&&Re.setTimeout&&setTimeout($f.unload,911),this):new Promise((function(ct,pt){try{var _t=$f(ch(iA()),E);typeof $f.unload=="function"&&Re.setTimeout&&setTimeout($f.unload,911),ct(_t)}catch(Ot){pt(Ot.message)}}))},De.API)De.API.hasOwnProperty(Fl)&&(Fl==="events"&&De.API.events.length?(function(E,z){var ct,pt,_t;for(_t=z.length-1;_t!==-1;_t--)ct=z[_t][0],pt=z[_t][1],E.subscribe.apply(E,[ct].concat(typeof pt=="function"?[pt]:pt))})(gn,De.API.events):v[Fl]=De.API[Fl]);var jc=v.getPageWidth=function(E){return(Oe[E=E||X].mediaBox.topRightX-Oe[E].mediaBox.bottomLeftX)/Ae},Nf=v.setPageWidth=function(E,z){Oe[E].mediaBox.topRightX=z*Ae+Oe[E].mediaBox.bottomLeftX},Ul=v.getPageHeight=function(E){return(Oe[E=E||X].mediaBox.topRightY-Oe[E].mediaBox.bottomLeftY)/Ae},mh=v.setPageHeight=function(E,z){Oe[E].mediaBox.topRightY=z*Ae+Oe[E].mediaBox.bottomLeftY};return v.internal={pdfEscape:Ts,getStyle:Cf,getFont:dh,getFontSize:te,getCharSpace:G1,getTextColor:Sf,getLineHeight:_l,getLineHeightFactor:fh,getLineWidth:Ea,write:le,getHorizontalCoordinate:Sa,getVerticalCoordinate:Zs,getCoordinateString:gh,getVerticalCoordinateString:Fo,collections:{},newObject:Ri,newAdditionalObject:Ic,newObjectDeferred:_i,newObjectDeferredBegin:Ns,getFilters:ya,putStream:ba,events:gn,scaleFactor:Ae,pageSize:{getWidth:function(){return jc(X)},setWidth:function(E){Nf(X,E)},getHeight:function(){return Ul(X)},setHeight:function(E){mh(X,E)}},encryptionOptions:f,encryption:fi,getEncryptor:Bf,output:uh,getNumberOfPages:bl,pages:jt,out:ot,f2:ut,f3:H,getPageInfo:hh,getPageInfoByObjId:Ue,getCurrentPageInfo:Bl,getPDFVersion:B,Point:Pc,Rectangle:Uf,Matrix:Fe,hasHotfix:kc},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return jc(X)},set:function(E){Nf(X,E)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Ul(X)},set:function(E){mh(X,E)},enumerable:!0,configurable:!0}),yf.call(v,Vt),tn="F1",oh(i,e),gn.publish("initialized"),v}H0.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},H0.prototype.toHexString=function(r){return r.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},H0.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},H0.prototype.processOwnerPassword=function(r,t){return VE(GE(t).substr(0,5),r)},H0.prototype.encryptor=function(r,t){var e=GE(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return VE(e,n)}},e5.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||Vn(r)!==Vn(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;n++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},De.API={events:[]},De.version="2.5.2";var Zi=De.API,c4=1,Np=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},U0=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ke=function(r){return r.toFixed(2)},Jh=function(r){return r.toFixed(5)};Zi.__acroform__={};var Za=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},q3=function(r){return r*c4},Zl=function(r){var t=new JT,e=we.internal.getHeight(r)||0,n=we.internal.getWidth(r)||0;return t.BBox=[0,0,Number(Ke(n)),Number(Ke(e))],t},nH=Zi.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<t},iH=Zi.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<t)},rH=Zi.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<t)==0?0:1},or=Zi.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rH(r,t-1)},lr=Zi.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nH(r,t-1)},cr=Zi.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iH(r,t-1)},sH=Zi.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=r[0],s=r[1],A=r[2],l=r[3],c={};return c.lowerLeft_X=e(i)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=e(i+A)||0,c.upperRight_Y=n(s)||0,[Number(Ke(c.lowerLeft_X)),Number(Ke(c.lowerLeft_Y)),Number(Ke(c.upperRight_X)),Number(Ke(c.upperRight_Y))]},aH=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,n=qE(r,e),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+i+" "+Ke(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Zl(r);return s.scope=r.scope,s.stream=t.join(`
`),s}},qE=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=r.multiline?i.map((function(H){return H.split(`
`)})):i.map((function(H){return[H]}));var s=e,A=we.internal.getHeight(r)||0;A=A<0?-A:A;var l=we.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(H,G,tt){if(H+1<i.length){var it=G+" "+i[H+1][0];return S2(it,r,tt).width<=l-4}return!1};s++;t:for(;s>0;){t="",s--;var h,f,p=S2("3",r,s).height,w=r.multiline?A-s:(A-p)/2,v=w+=2,x=0,B=0,F=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+S2(t,r,s=12).width+", FieldWidth:"+l+`
`;break}for(var S="",L=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var k=!1;if(i[T].length!==1&&F!==i[T].length-1){if((p+2)*(L+2)+2>A)continue t;S+=i[T][F],k=!0,B=T,T--}else{S=(S+=i[T][F]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var R=parseInt(T),M=c(R,S,s),j=T>=i.length-1;if(M&&!j){S+=" ",F=0;continue}if(M||j){if(j)B=R;else if(r.multiline&&(p+2)*(L+2)+2>A)continue t}else{if(!r.multiline||(p+2)*(L+2)+2>A)continue t;B=R}}for(var V="",et=x;et<=B;et++){var ut=i[et];if(r.multiline){if(et===B){V+=ut[F]+" ",F=(F+1)%ut.length;continue}if(et===x){V+=ut[ut.length-1]+" ";continue}}V+=ut[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,f=S2(V,r,s).width,r.textAlign){case"right":h=l-f-2;break;case"center":h=(l-f)/2;break;case"left":default:h=2}t+=Ke(h)+" "+Ke(v)+` Td
`,t+="("+Np(V)+`) Tj
`,t+=-Ke(h)+` 0 Td
`,v=-(s+2),f=0,x=k?B:B+1,L++,S=""}break}return n.text=t,n.fontSize=s,n},S2=function(r,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},AH={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oH=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find((function(n){return n.type===e.type&&n.object===e.object}))===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},lH=function(r,t){for(var e in r)if(r.hasOwnProperty(e)){var n=e,i=r[e];t.internal.newObjectDeferredBegin(i.objId,!0),Vn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete r[n]}},cH=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(fl.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(AH)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");c4=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new ZT,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",(function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)})),r.internal.events.subscribe("buildDocument",(function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&oH(s,e)}})(r)})),r.internal.events.subscribe("putCatalog",(function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)})),r.internal.events.subscribe("postPutPages",(function(e){(function(n,i){var s=!n;for(var A in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var l=n[A],c=[],h=l.Rect;if(l.Rect&&(l.Rect=sH(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=we.createDefaultAppearanceStream(l),Vn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=aH(l);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var p="";for(var w in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(w)){var v=l.appearanceStreamContent[w];if(p+="/"+w+" ",p+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var A in v)if(v.hasOwnProperty(A)){var x=v[A];typeof x=="function"&&(x=x.call(i,l)),p+="/"+A+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=v)=="function"&&(x=x.call(i,l)),p+="/"+A+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&lH(i.internal.acroformPlugin.xForms,i)})(e,r)})),r.internal.acroformPlugin.isInitialized=!0}},$T=Zi.__acroform__.arrayToPdfArray=function(r,t,e){var n=function(A){return A};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),Vn(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),i+="("+Np(n(r[s].toString()))+")"):i+=r[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Xx=function(r,t,e){var n=function(i){return i};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(r=r||"").toString(),r="("+Np(n(r))+")"},xc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xc.prototype.toString=function(){return this.objId+" 0 R"},xc.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},xc.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter((function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"}));for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:$T(i,this.objId,this.scope)}):i instanceof xc?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var JT=function(){xc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};Za(JT,xc);var ZT=function(){xc.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Np(e(r))+")"}},set:function(e){r=e}})};Za(ZT,xc);var fl=function r(){xc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!or(t,3)},set:function(S){S?this.F=lr(t,3):this.F=cr(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');e=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof n5)return;s="FieldObject"+r.FieldNum++}var S=function(L){return L};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Np(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(S){A=S}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/c4:h},set:function(S){h=S}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(S){f=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof n5||this instanceof Bp))return Xx(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ls?w:Xx(w,this.objId,this.scope)},set:function(S){S=S.toString(),w=this instanceof ls?S:S.substr(0,1)==="("?U0(S.substr(1,S.length-2)):U0(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ls?U0(w.substr(1,w.length-1)):w},set:function(S){S=S.toString(),w=this instanceof ls?"/"+S:S}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ls?v:Xx(v,this.objId,this.scope)},set:function(S){S=S.toString(),v=this instanceof ls?S:S.substr(0,1)==="("?U0(S.substr(1,S.length-2)):U0(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ls?U0(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof ls?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,B=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return B},set:function(S){S=!!S,B=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(S){x=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,1)},set:function(S){S?this.Ff=lr(this.Ff,1):this.Ff=cr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,2)},set:function(S){S?this.Ff=lr(this.Ff,2):this.Ff=cr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,3)},set:function(S){S?this.Ff=lr(this.Ff,3):this.Ff=cr(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');F=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(F){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:F=2;break;case"center":case 1:F=1;break;case"left":case 0:default:F=0}}})};Za(fl,xc);var am=function(){fl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $T(t,this.objId,this.scope)},set:function(e){var n,i;i=[],typeof(n=e)=="string"&&(i=(function(s,A,l){l||(l=1);for(var c,h=[];c=A.exec(s);)h.push(c[l]);return h})(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,18)},set:function(e){e?this.Ff=lr(this.Ff,18):this.Ff=cr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=lr(this.Ff,19):this.Ff=cr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,20)},set:function(e){e?(this.Ff=lr(this.Ff,20),t.sort()):this.Ff=cr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,22)},set:function(e){e?this.Ff=lr(this.Ff,22):this.Ff=cr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,23)},set:function(e){e?this.Ff=lr(this.Ff,23):this.Ff=cr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,27)},set:function(e){e?this.Ff=lr(this.Ff,27):this.Ff=cr(this.Ff,27)}}),this.hasAppearanceStream=!1};Za(am,fl);var Am=function(){am.call(this),this.fontName="helvetica",this.combo=!1};Za(Am,am);var om=function(){Am.call(this),this.combo=!0};Za(om,Am);var lB=function(){om.call(this),this.edit=!0};Za(lB,om);var ls=function(){fl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,15)},set:function(e){e?this.Ff=lr(this.Ff,15):this.Ff=cr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,16)},set:function(e){e?this.Ff=lr(this.Ff,16):this.Ff=cr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,17)},set:function(e){e?this.Ff=lr(this.Ff,17):this.Ff=cr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,26)},set:function(e){e?this.Ff=lr(this.Ff,26):this.Ff=cr(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Np(e(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){Vn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};Za(ls,fl);var cB=function(){ls.call(this),this.pushButton=!0};Za(cB,ls);var lm=function(){ls.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};Za(lm,ls);var n5=function(){var r,t;fl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,A=[];for(s in A.push("<<"),n)A.push("/"+s+" ("+Np(i(n[s]))+")");return A.push(">>"),A.join(`
`)},set:function(i){Vn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=we.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Za(n5,fl),lm.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},lm.prototype.createOption=function(r){var t=new n5;return t.Parent=this,t.optionName=r,this.Kids.push(t),uH.call(this.scope,t),t};var uB=function(){ls.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=we.CheckBox.createAppearanceStream()};Za(uB,ls);var Bp=function(){fl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,13)},set:function(t){t?this.Ff=lr(this.Ff,13):this.Ff=cr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,21)},set:function(t){t?this.Ff=lr(this.Ff,21):this.Ff=cr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,23)},set:function(t){t?this.Ff=lr(this.Ff,23):this.Ff=cr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,24)},set:function(t){t?this.Ff=lr(this.Ff,24):this.Ff=cr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,25)},set:function(t){t?this.Ff=lr(this.Ff,25):this.Ff=cr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,26)},set:function(t){t?this.Ff=lr(this.Ff,26):this.Ff=cr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Za(Bp,fl);var hB=function(){Bp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!or(this.Ff,14)},set:function(r){r?this.Ff=lr(this.Ff,14):this.Ff=cr(this.Ff,14)}}),this.password=!0};Za(hB,Bp);var we={CheckBox:{createAppearanceStream:function(){return{N:{On:we.CheckBox.YesNormal},D:{On:we.CheckBox.YesPushDown,Off:we.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=Zl(r);t.scope=r.scope;var e=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=qE(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+Ke(we.internal.getWidth(r))+" "+Ke(we.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+Ke(s.fontSize)+" Tf "+i),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=Zl(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=we.internal.getHeight(r),A=we.internal.getWidth(r),l=qE(r,r.caption);return i.push("1 g"),i.push("0 0 "+Ke(A)+" "+Ke(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ke(A-1)+" "+Ke(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+Ke(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(r){var t=Zl(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ke(we.internal.getWidth(r))+" "+Ke(we.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:we.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=we.RadioButton.Circle.YesNormal,t.D[r]=we.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=Zl(r);t.scope=r.scope;var e=[],n=we.internal.getWidth(r)<=we.internal.getHeight(r)?we.internal.getWidth(r)/4:we.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=we.internal.Bezier_C,s=Number((n*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Jh(we.internal.getWidth(r)/2)+" "+Jh(we.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=Zl(r);t.scope=r.scope;var e=[],n=we.internal.getWidth(r)<=we.internal.getHeight(r)?we.internal.getWidth(r)/4:we.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*we.internal.Bezier_C).toFixed(5)),A=Number((n*we.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Jh(we.internal.getWidth(r)/2)+" "+Jh(we.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Jh(we.internal.getWidth(r)/2)+" "+Jh(we.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),e.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),e.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),e.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=Zl(r);t.scope=r.scope;var e=[],n=we.internal.getWidth(r)<=we.internal.getHeight(r)?we.internal.getWidth(r)/4:we.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*we.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Jh(we.internal.getWidth(r)/2)+" "+Jh(we.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:we.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=we.RadioButton.Cross.YesNormal,t.D[r]=we.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=Zl(r);t.scope=r.scope;var e=[],n=we.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+Ke(we.internal.getWidth(r)-2)+" "+Ke(we.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(Ke(n.x1.x)+" "+Ke(n.x1.y)+" m"),e.push(Ke(n.x2.x)+" "+Ke(n.x2.y)+" l"),e.push(Ke(n.x4.x)+" "+Ke(n.x4.y)+" m"),e.push(Ke(n.x3.x)+" "+Ke(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=Zl(r);t.scope=r.scope;var e=we.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ke(we.internal.getWidth(r))+" "+Ke(we.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ke(we.internal.getWidth(r)-2)+" "+Ke(we.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Ke(e.x1.x)+" "+Ke(e.x1.y)+" m"),n.push(Ke(e.x2.x)+" "+Ke(e.x2.y)+" l"),n.push(Ke(e.x4.x)+" "+Ke(e.x4.y)+" m"),n.push(Ke(e.x3.x)+" "+Ke(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=Zl(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ke(we.internal.getWidth(r))+" "+Ke(we.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};we.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=we.internal.getWidth(r),e=we.internal.getHeight(r),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},we.internal.getWidth=function(r){var t=0;return Vn(r)==="object"&&(t=q3(r.Rect[2])),t},we.internal.getHeight=function(r){var t=0;return Vn(r)==="object"&&(t=q3(r.Rect[3])),t};var uH=Zi.addField=function(r){if(cH(this,r),!(r instanceof fl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Zi.AcroFormChoiceField=am,Zi.AcroFormListBox=Am,Zi.AcroFormComboBox=om,Zi.AcroFormEditBox=lB,Zi.AcroFormButton=ls,Zi.AcroFormPushButton=cB,Zi.AcroFormRadioButton=lm,Zi.AcroFormCheckBox=uB,Zi.AcroFormTextField=Bp,Zi.AcroFormPasswordField=hB,Zi.AcroFormAppearance=we,Zi.AcroForm={ChoiceField:am,ListBox:Am,ComboBox:om,EditBox:lB,Button:ls,PushButton:cB,RadioButton:lm,CheckBox:uB,TextField:Bp,PasswordField:hB,Appearance:we},De.AcroForm={ChoiceField:am,ListBox:Am,ComboBox:om,EditBox:lB,Button:ls,PushButton:cB,RadioButton:lm,CheckBox:uB,TextField:Bp,PasswordField:hB,Appearance:we};De.AcroForm;function tQ(r){return r.reduce((function(t,e,n){return t[e]=n,t}),{})}(function(r){r.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(H,G){var tt,it,mt,q,rt,lt=t;if((G=G||t)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(M(H))for(rt in e)for(mt=e[rt],tt=0;tt<mt.length;tt+=1){for(q=!0,it=0;it<mt[tt].length;it+=1)if(mt[tt][it]!==void 0&&mt[tt][it]!==H[it]){q=!1;break}if(q===!0){lt=rt;break}}else for(rt in e)for(mt=e[rt],tt=0;tt<mt.length;tt+=1){for(q=!0,it=0;it<mt[tt].length;it+=1)if(mt[tt][it]!==void 0&&mt[tt][it]!==H.charCodeAt(it)){q=!1;break}if(q===!0){lt=rt;break}}return lt===t&&G!==t&&(lt=G),lt},i=function H(G){for(var tt=this.internal.write,it=this.internal.putStream,mt=(0,this.internal.getFilters)();mt.indexOf("FlateEncode")!==-1;)mt.splice(mt.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:G.width}),q.push({key:"Height",value:G.height}),G.colorSpace===F.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===F.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var rt="",lt=0,yt=G.transparency.length;lt<yt;lt++)rt+=G.transparency[lt]+" "+G.transparency[lt]+" ";q.push({key:"Mask",value:"["+rt+"]"})}G.sMask!==void 0&&q.push({key:"SMask",value:G.objectId+1+" 0 R"});var Et=G.filter!==void 0?["/"+G.filter]:void 0;if(it({data:G.data,additionalKeyValues:q,alreadyAppliedFilters:Et,objectId:G.objectId}),tt("endobj"),"sMask"in G&&G.sMask!==void 0){var st="/Predictor "+G.predictor+" /Colors 1 /BitsPerComponent "+G.bitsPerComponent+" /Columns "+G.width,I={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:st,data:G.sMask};"filter"in G&&(I.filter=G.filter),H.call(this,I)}if(G.colorSpace===F.INDEXED){var X=this.internal.newObject();it({data:V(new Uint8Array(G.palette)),objectId:X}),tt("endobj")}},s=function(){var H=this.internal.collections.addImage_images;for(var G in H)i.call(this,H[G])},A=function(){var H,G=this.internal.collections.addImage_images,tt=this.internal.write;for(var it in G)tt("/I"+(H=G[it]).index,H.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",A))},c=function(){var H=this.internal.collections.addImage_images;return l.call(this),H},h=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(H){return typeof r["process"+H.toUpperCase()]=="function"},p=function(H){return Vn(H)==="object"&&H.nodeType===1},w=function(H,G){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var tt=""+H.getAttribute("src");if(tt.indexOf("data:image/")===0)return mv(unescape(tt).split("base64,").pop());var it=r.loadFile(tt,!0);if(it!==void 0)return it}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var mt;switch(G){case"PNG":mt="image/png";break;case"WEBP":mt="image/webp";break;case"JPEG":case"JPG":default:mt="image/jpeg"}return mv(H.toDataURL(mt,1).split("base64,").pop())}},v=function(H){var G=this.internal.collections.addImage_images;if(G){for(var tt in G)if(H===G[tt].alias)return G[tt]}},x=function(H,G,tt){return H||G||(H=-96,G=-96),H<0&&(H=-1*tt.width*72/H/this.internal.scaleFactor),G<0&&(G=-1*tt.height*72/G/this.internal.scaleFactor),H===0&&(H=G*tt.width/tt.height),G===0&&(G=H*tt.height/tt.width),[H,G]},B=function(H,G,tt,it,mt,q){var rt=x.call(this,tt,it,mt),lt=this.internal.getCoordinateString,yt=this.internal.getVerticalCoordinateString,Et=c.call(this);if(tt=rt[0],it=rt[1],Et[mt.index]=mt,q){q*=Math.PI/180;var st=Math.cos(q),I=Math.sin(q),X=function(at){return at.toFixed(4)},nt=[X(st),X(I),X(-1*I),X(st),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,lt(H),yt(G+it),"cm"].join(" ")),this.internal.write(nt.join(" ")),this.internal.write([lt(tt),"0","0",lt(it),"0","0","cm"].join(" "))):this.internal.write([lt(tt),"0","0",lt(it),lt(H),yt(G+it),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+mt.index+" Do"),this.internal.write("Q")},F=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=r.__addimage__.sHashCode=function(H){var G,tt,it=0;if(typeof H=="string")for(tt=H.length,G=0;G<tt;G++)it=(it<<5)-it+H.charCodeAt(G),it|=0;else if(M(H))for(tt=H.byteLength/2,G=0;G<tt;G++)it=(it<<5)-it+H[G],it|=0;return it},T=r.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var G=!0;return H.length===0&&(G=!1),H.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(G=!1),G},k=r.__addimage__.extractImageFromDataUrl=function(H){var G=(H=H||"").split("base64,"),tt=null;if(G.length===2){var it=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(G[0]);Array.isArray(it)&&(tt={mimeType:it[1],charset:it[2],data:G[1]})}return tt},R=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(H){return R()&&H instanceof ArrayBuffer};var M=r.__addimage__.isArrayBufferView=function(H){return R()&&typeof Uint32Array<"u"&&(H instanceof Int8Array||H instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)},j=r.__addimage__.binaryStringToUint8Array=function(H){for(var G=H.length,tt=new Uint8Array(G),it=0;it<G;it++)tt[it]=H.charCodeAt(it);return tt},V=r.__addimage__.arrayBufferToBinaryString=function(H){for(var G="",tt=M(H)?H:new Uint8Array(H),it=0;it<tt.length;it+=8192)G+=String.fromCharCode.apply(null,tt.subarray(it,it+8192));return G};r.addImage=function(){var H,G,tt,it,mt,q,rt,lt,yt;if(typeof arguments[1]=="number"?(G=t,tt=arguments[1],it=arguments[2],mt=arguments[3],q=arguments[4],rt=arguments[5],lt=arguments[6],yt=arguments[7]):(G=arguments[1],tt=arguments[2],it=arguments[3],mt=arguments[4],q=arguments[5],rt=arguments[6],lt=arguments[7],yt=arguments[8]),Vn(H=arguments[0])==="object"&&!p(H)&&"imageData"in H){var Et=H;H=Et.imageData,G=Et.format||G||t,tt=Et.x||tt||0,it=Et.y||it||0,mt=Et.w||Et.width||mt,q=Et.h||Et.height||q,rt=Et.alias||rt,lt=Et.compression||lt,yt=Et.rotation||Et.angle||yt}var st=this.internal.getFilters();if(lt===void 0&&st.indexOf("FlateEncode")!==-1&&(lt="SLOW"),isNaN(tt)||isNaN(it))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=et.call(this,H,G,rt,lt);return B.call(this,tt,it,mt,q,I,yt),this};var et=function(H,G,tt,it){var mt,q,rt;if(typeof H=="string"&&n(H)===t){H=unescape(H);var lt=ut(H,!1);(lt!==""||(lt=r.loadFile(H,!0))!==void 0)&&(H=lt)}if(p(H)&&(H=w(H,G)),G=n(H,G),!f(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((rt=tt)==null||rt.length===0)&&(tt=(function(yt){return typeof yt=="string"||M(yt)?L(yt):M(yt.data)?L(yt.data):null})(H)),(mt=v.call(this,tt))||(R()&&(H instanceof Uint8Array||G==="RGBA"||(q=H,H=j(H))),mt=this["process"+G.toUpperCase()](H,h.call(this),tt,(function(yt){return yt&&typeof yt=="string"&&(yt=yt.toUpperCase()),yt in r.image_compression?yt:S.NONE})(it),q)),!mt)throw new Error("An unknown error occurred whilst processing the image.");return mt},ut=r.__addimage__.convertBase64ToBinaryString=function(H,G){var tt;G=typeof G!="boolean"||G;var it,mt="";if(typeof H=="string"){it=(tt=k(H))!==null?tt.data:H;try{mt=mv(it)}catch(q){if(G)throw T(it)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return mt};r.getImageProperties=function(H){var G,tt,it="";if(p(H)&&(H=w(H)),typeof H=="string"&&n(H)===t&&((it=ut(H,!1))===""&&(it=r.loadFile(H)||""),H=it),tt=n(H),!f(tt))throw new Error("addImage does not support files of type '"+tt+"', please ensure that a plugin for '"+tt+"' support is added.");if(!R()||H instanceof Uint8Array||(H=j(H)),!(G=this["process"+tt.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=tt,G}})(De.API),(function(r){var t=function(e){if(e!==void 0&&e!="")return!0};De.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var n,i,s,A=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(e.objId),h=e.pageContext.annotations,f=!1,p=0;p<h.length&&!f;p++)switch((n=h[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var w=0;w<h.length;w++){n=h[w];var v=this.internal.pdfEscape,x=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var B=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(B.objId),L=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+A(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+v(S(n.contents))+")",s+=" /Popup "+F.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+v(S(L))+") >>",B.content=s;var T=B.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+A(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(s+=" /Open true"),s+=" >>",F.content=s,this.internal.write(B.objId,"0 R",F.objId,"0 R");break;case"freetext":i="/Rect ["+A(n.bounds.x)+" "+l(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var R=this.annotations._nameMap[n.options.name];n.options.pageNumber=R.page,n.options.top=R.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var M=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},r.link=function(e,n,i,s,A){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(e),y:h(n),w:c(e+i),h:h(n+s)},options:A,type:"link"})},r.textWithLink=function(e,n,i,s){var A,l,c=this.getTextWidth(e),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var f=this.splitTextToSize(e,l).length;A=Math.ceil(h*f)}else l=c,A=h;return this.text(e,n,i,s),i+=.2*h,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-h,l,A,s),c},r.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}})(De.API),(function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(B){return t[B.charCodeAt(0)]!==void 0},A=r.__arabicParser__.isArabicLetter=function(B){return typeof B=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(B)},l=r.__arabicParser__.isArabicEndLetter=function(B){return A(B)&&s(B)&&t[B.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(B){return A(B)&&i.indexOf(B.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(B){return A(B)&&s(B)&&t[B.charCodeAt(0)].length>=1};var h=r.__arabicParser__.arabicLetterHasFinalForm=function(B){return A(B)&&s(B)&&t[B.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(B){return A(B)&&s(B)&&t[B.charCodeAt(0)].length>=3};var f=r.__arabicParser__.arabicLetterHasMedialForm=function(B){return A(B)&&s(B)&&t[B.charCodeAt(0)].length==4},p=r.__arabicParser__.resolveLigatures=function(B){var F=0,S=e,L="",T=0;for(F=0;F<B.length;F+=1)S[B.charCodeAt(F)]!==void 0?(T++,typeof(S=S[B.charCodeAt(F)])=="number"&&(L+=String.fromCharCode(S),S=e,T=0),F===B.length-1&&(S=e,L+=B.charAt(F-(T-1)),F-=T-1,T=0)):(S=e,L+=B.charAt(F-T),F-=T,T=0);return L};r.__arabicParser__.isArabicDiacritic=function(B){return B!==void 0&&n[B.charCodeAt(0)]!==void 0};var w=r.__arabicParser__.getCorrectForm=function(B,F,S){return A(B)?s(B)===!1?-1:!h(B)||!A(F)&&!A(S)||!A(S)&&l(F)||l(B)&&!A(F)||l(B)&&c(F)||l(B)&&l(F)?0:f(B)&&A(F)&&!l(F)&&A(S)&&h(S)?3:l(B)||!A(S)?1:2:-1},v=function(B){var F=0,S=0,L=0,T="",k="",R="",M=(B=B||"").split("\\s+"),j=[];for(F=0;F<M.length;F+=1){for(j.push(""),S=0;S<M[F].length;S+=1)T=M[F][S],k=M[F][S-1],R=M[F][S+1],A(T)?(L=w(T,k,R),j[F]+=L!==-1?String.fromCharCode(t[T.charCodeAt(0)][L]):T):j[F]+=T;j[F]=p(j[F])}return j.join(" ")},x=r.__arabicParser__.processArabic=r.processArabic=function(){var B,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(F)){var L=0;for(S=[],L=0;L<F.length;L+=1)Array.isArray(F[L])?S.push([v(F[L][0]),F[L][1],F[L][2]]):S.push([v(F[L])]);B=S}else B=v(F);return typeof arguments[0]=="string"?B:(arguments[0].text=B,arguments[0])};r.events.push(["preProcessText",x])})(De.API),De.API.autoPrint=function(r){var t;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(l){e=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(l){A=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var i;if((e=e||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(De.API),(function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(B){c=B}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(B){h=B}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(B){f=B}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(B){p=B}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(B){w=B}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(B){v=B}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(B){x=B}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,h){n.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),w=h.scaleFactor||this.internal.scaleFactor,v=0,x=0,B=0,F=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var S=h.maxWidth;S>0?typeof c=="string"?c=this.splitTextToSize(c,S):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(T,k){return T.concat(F.splitTextToSize(k,S))}),[])):c=Array.isArray(c)?c:[c];for(var L=0;L<c.length;L++)v<(B=this.getStringUnitWidth(c[L],{font:p})*f)&&(v=B);return v!==0&&(x=c.length),{w:v/=w,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/w,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,v&&w&&(this.printHeaderRow(c.lineNumber,!0),c.y+=w[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,e===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};r.table=function(c,h,f,p,w){if(n.call(this),!f)throw new Error("No data for PDF table.");var v,x,B,F,S=[],L=[],T=[],k={},R={},M=[],j=[],V=(w=w||{}).autoSize||!1,et=w.printHeaders!==!1,ut=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,H=w.margins||Object.assign({width:this.getPageWidth()},t),G=typeof w.padding=="number"?w.padding:3,tt=w.headerBackgroundColor||"#c8c8c8",it=w.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=et,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=ut,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=tt,this.internal.__cell__.headerTextColor=it,this.setFontSize(ut),p==null)L=S=Object.keys(f[0]),T=S.map((function(){return"left"}));else if(Array.isArray(p)&&Vn(p[0])==="object")for(S=p.map((function(Et){return Et.name})),L=p.map((function(Et){return Et.prompt||Et.name||""})),T=p.map((function(Et){return Et.align||"left"})),v=0;v<p.length;v+=1)R[p[v].name]=p[v].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(L=S=p,T=S.map((function(){return"left"})));if(V||Array.isArray(p)&&typeof p[0]=="string")for(v=0;v<S.length;v+=1){for(k[F=S[v]]=f.map((function(Et){return Et[F]})),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(L[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=k[F],this.setFont(void 0,"normal"),B=0;B<x.length;B+=1)M.push(this.getTextDimensions(x[B],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[F]=Math.max.apply(null,M)+G+G,M=[]}if(et){var mt={};for(v=0;v<S.length;v+=1)mt[S[v]]={},mt[S[v]].text=L[v],mt[S[v]].align=T[v];var q=l.call(this,mt,R);j=S.map((function(Et){return new s(c,h,R[Et],q,mt[Et].text,void 0,mt[Et].align)})),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var rt=p.reduce((function(Et,st){return Et[st.name]=st.align,Et}),{});for(v=0;v<f.length;v+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:v,data:f[v]},this);var lt=l.call(this,f[v],R);for(B=0;B<S.length;B+=1){var yt=f[v][S[B]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:v,col:B,data:yt},this),A.call(this,new s(c,h,R[S[B]],lt,yt,v+2,rt[S[B]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var l=function(c,h){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(c).map((function(v){var x=c[v];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,h[v]-f-f)}),this).map((function(v){return this.getLineHeightFactor()*v.length*p/w+f+f}),this).reduce((function(v,x){return Math.max(v,x)}),0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){f=this.internal.__cell__.tableHeaderRow[v].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,w.push(f)),f.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,f),this.setTextColor(x)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}})(De.API);var eQ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nQ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],XE=tQ(nQ),iQ=[100,200,300,400,500,600,700,800,900],hH=tQ(iQ);function YE(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=(function(s){return eQ[s=s||"normal"]?s:"normal"})(r.style),n=(function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}})(r.weight),i=(function(s){return typeof XE[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:t,style:e,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:t,style:[i,e,n].join(" ")}}}function X3(r,t,e,n){var i;for(i=e;i>=0&&i<t.length;i+=n)if(r[t[i]])return r[t[i]];for(i=e;i>=0&&i<t.length;i-=n)if(r[t[i]])return r[t[i]]}var dH={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Y3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function W3(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function fH(r,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",i=Object.assign({},dH,e.genericFontFamilies||{}),s=null,A=null,l=0;l<t.length;++l)if(i[(s=YE(t[l])).family]&&(s.family=i[s.family]),r.hasOwnProperty(s.family)){A=r[s.family];break}if(!(A=A||r[n]))throw new Error("Could not find a font-family for the rule '"+W3(s)+"' and default family '"+n+"'.");if(A=(function(c,h){if(h[c])return h[c];var f=XE[c],p=f<=XE.normal?-1:1,w=X3(h,nQ,f,p);if(!w)throw new Error("Could not find a matching font-stretch value for "+c);return w})(s.stretch,A),A=(function(c,h){if(h[c])return h[c];for(var f=eQ[c],p=0;p<f.length;++p)if(h[f[p]])return h[f[p]];throw new Error("Could not find a matching font-style for "+c)})(s.style,A),!(A=(function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var f=hH[c],p=X3(h,iQ,f,c<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+c);return p})(s.weight,A)))throw new Error("Failed to resolve a font for the rule '"+W3(s)+"'.");return A}function $3(r){return r.trimLeft()}function gH(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function pH(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var _2,J3,Z3,Yx=["times"];(function(r){var t,e,n,i,s,A,l,c,h,f=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new A,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new A,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,A=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new f}]);var p=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=I;Object.defineProperty(this,"pdf",{get:function(){return X}});var nt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return nt},set:function(Ut){nt=!!Ut}});var at=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return at},set:function(Ut){at=!!Ut}});var ht=0;Object.defineProperty(this,"posX",{get:function(){return ht},set:function(Ut){isNaN(Ut)||(ht=Ut)}});var gt=0;Object.defineProperty(this,"posY",{get:function(){return gt},set:function(Ut){isNaN(Ut)||(gt=Ut)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ut){var ot;typeof Ut=="number"?ot=[Ut,Ut,Ut,Ut]:((ot=new Array(4))[0]=Ut[0],ot[1]=Ut.length>=2?Ut[1]:ot[0],ot[2]=Ut.length>=3?Ut[2]:ot[0],ot[3]=Ut.length>=4?Ut[3]:ot[1]),h.margin=ot}});var ft=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ft},set:function(Ut){ft=Ut}});var Ct=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ct},set:function(Ut){Ct=Ut}});var qt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return qt},set:function(Ut){qt=Ut}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ut){Ut instanceof f&&(h=Ut)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ut){h.path=Ut}});var jt=[];Object.defineProperty(this,"ctxStack",{get:function(){return jt},set:function(Ut){jt=Ut}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ut){var ot;ot=w(Ut),this.ctx.fillStyle=ot.style,this.ctx.isFillTransparent=ot.a===0,this.ctx.fillOpacity=ot.a,this.pdf.setFillColor(ot.r,ot.g,ot.b,{a:ot.a}),this.pdf.setTextColor(ot.r,ot.g,ot.b,{a:ot.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ut){var ot=w(Ut);this.ctx.strokeStyle=ot.style,this.ctx.isStrokeTransparent=ot.a===0,this.ctx.strokeOpacity=ot.a,ot.a===0?this.pdf.setDrawColor(255,255,255):(ot.a,this.pdf.setDrawColor(ot.r,ot.g,ot.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ut){["butt","round","square"].indexOf(Ut)!==-1&&(this.ctx.lineCap=Ut,this.pdf.setLineCap(Ut))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ut){isNaN(Ut)||(this.ctx.lineWidth=Ut,this.pdf.setLineWidth(Ut))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ut){["bevel","round","miter"].indexOf(Ut)!==-1&&(this.ctx.lineJoin=Ut,this.pdf.setLineJoin(Ut))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ut){isNaN(Ut)||(this.ctx.miterLimit=Ut,this.pdf.setMiterLimit(Ut))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ut){this.ctx.textBaseline=Ut}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ut){["right","end","center","left","start"].indexOf(Ut)!==-1&&(this.ctx.textAlign=Ut)}});var Zt=null;function $t(Ut,ot){if(Zt===null){var le=(function(ee){var Vt=[];return Object.keys(ee).forEach((function(Jt){ee[Jt].forEach((function(ie){var te=null;switch(ie){case"bold":te={family:Jt,weight:"bold"};break;case"italic":te={family:Jt,style:"italic"};break;case"bolditalic":te={family:Jt,weight:"bold",style:"italic"};break;case"":case"normal":te={family:Jt}}te!==null&&(te.ref={name:Jt,style:ie},Vt.push(te))}))})),Vt})(Ut.getFontList());Zt=(function(ee){for(var Vt={},Jt=0;Jt<ee.length;++Jt){var ie=YE(ee[Jt]),te=ie.family,me=ie.stretch,Ce=ie.style,Ve=ie.weight;Vt[te]=Vt[te]||{},Vt[te][me]=Vt[te][me]||{},Vt[te][me][Ce]=Vt[te][me][Ce]||{},Vt[te][me][Ce][Ve]=ie}return Vt})(le.concat(ot))}return Zt}var Gt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Gt},set:function(Ut){Zt=null,Gt=Ut}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ut){var ot;if(this.ctx.font=Ut,(ot=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ut))!==null){var le=ot[1],ee=(ot[2],ot[3]),Vt=ot[4],Jt=(ot[5],ot[6]),ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Vt)[2];Vt=Math.floor(ie==="px"?parseFloat(Vt)*this.pdf.internal.scaleFactor:ie==="em"?parseFloat(Vt)*this.pdf.getFontSize():parseFloat(Vt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Vt);var te=(function(ke){var tn,Ae,jr=[],rn=ke.trim();if(rn==="")return Yx;if(rn in Y3)return[Y3[rn]];for(;rn!=="";){switch(Ae=null,tn=(rn=$3(rn)).charAt(0)){case'"':case"'":Ae=gH(rn.substring(1),tn);break;default:Ae=pH(rn)}if(Ae===null||(jr.push(Ae[0]),(rn=$3(Ae[1]))!==""&&rn.charAt(0)!==","))return Yx;rn=rn.replace(/^,/,"")}return jr})(Jt);if(this.fontFaces){var me=fH($t(this.pdf,this.fontFaces),te.map((function(ke){return{family:ke,stretch:"normal",weight:ee,style:le}})));this.pdf.setFont(me.ref.name,me.ref.style)}else{var Ce="";(ee==="bold"||parseInt(ee,10)>=700||le==="bold")&&(Ce="bold"),le==="italic"&&(Ce+="italic"),Ce.length===0&&(Ce="normal");for(var Ve="",We={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dn=0;dn<te.length;dn++){if(this.pdf.internal.getFont(te[dn],Ce,{noFallback:!0,disableWarning:!0})!==void 0){Ve=te[dn];break}if(Ce==="bolditalic"&&this.pdf.internal.getFont(te[dn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=te[dn],Ce="bold";else if(this.pdf.internal.getFont(te[dn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=te[dn],Ce="normal";break}}if(Ve===""){for(var Sn=0;Sn<te.length;Sn++)if(We[te[Sn]]){Ve=We[te[Sn]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,Ce)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ut){this.ctx.globalCompositeOperation=Ut}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ut){this.ctx.globalAlpha=Ut}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ut){this.ctx.lineDashOffset=Ut,st.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ut){this.ctx.lineDash=Ut,st.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ut){this.ctx.ignoreClearRect=!!Ut}})};p.prototype.setLineDash=function(I){this.lineDash=I},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){k.call(this,"fill",!1)},p.prototype.stroke=function(){k.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(I,X){if(isNaN(I)||isNaN(X))throw li.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var nt=this.ctx.transform.applyToPoint(new A(I,X));this.path.push({type:"mt",x:nt.x,y:nt.y}),this.ctx.lastPoint=new A(I,X)},p.prototype.closePath=function(){var I=new A(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Vn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){I=new A(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(I.x,I.y)},p.prototype.lineTo=function(I,X){if(isNaN(I)||isNaN(X))throw li.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var nt=this.ctx.transform.applyToPoint(new A(I,X));this.path.push({type:"lt",x:nt.x,y:nt.y}),this.ctx.lastPoint=new A(nt.x,nt.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},p.prototype.quadraticCurveTo=function(I,X,nt,at){if(isNaN(nt)||isNaN(at)||isNaN(I)||isNaN(X))throw li.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ht=this.ctx.transform.applyToPoint(new A(nt,at)),gt=this.ctx.transform.applyToPoint(new A(I,X));this.path.push({type:"qct",x1:gt.x,y1:gt.y,x:ht.x,y:ht.y}),this.ctx.lastPoint=new A(ht.x,ht.y)},p.prototype.bezierCurveTo=function(I,X,nt,at,ht,gt){if(isNaN(ht)||isNaN(gt)||isNaN(I)||isNaN(X)||isNaN(nt)||isNaN(at))throw li.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ft=this.ctx.transform.applyToPoint(new A(ht,gt)),Ct=this.ctx.transform.applyToPoint(new A(I,X)),qt=this.ctx.transform.applyToPoint(new A(nt,at));this.path.push({type:"bct",x1:Ct.x,y1:Ct.y,x2:qt.x,y2:qt.y,x:ft.x,y:ft.y}),this.ctx.lastPoint=new A(ft.x,ft.y)},p.prototype.arc=function(I,X,nt,at,ht,gt){if(isNaN(I)||isNaN(X)||isNaN(nt)||isNaN(at)||isNaN(ht))throw li.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(gt=!!gt,!this.ctx.transform.isIdentity){var ft=this.ctx.transform.applyToPoint(new A(I,X));I=ft.x,X=ft.y;var Ct=this.ctx.transform.applyToPoint(new A(0,nt)),qt=this.ctx.transform.applyToPoint(new A(0,0));nt=Math.sqrt(Math.pow(Ct.x-qt.x,2)+Math.pow(Ct.y-qt.y,2))}Math.abs(ht-at)>=2*Math.PI&&(at=0,ht=2*Math.PI),this.path.push({type:"arc",x:I,y:X,radius:nt,startAngle:at,endAngle:ht,counterclockwise:gt})},p.prototype.arcTo=function(I,X,nt,at,ht){throw new Error("arcTo not implemented.")},p.prototype.rect=function(I,X,nt,at){if(isNaN(I)||isNaN(X)||isNaN(nt)||isNaN(at))throw li.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,X),this.lineTo(I+nt,X),this.lineTo(I+nt,X+at),this.lineTo(I,X+at),this.lineTo(I,X),this.lineTo(I+nt,X),this.lineTo(I,X)},p.prototype.fillRect=function(I,X,nt,at){if(isNaN(I)||isNaN(X)||isNaN(nt)||isNaN(at))throw li.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ht={};this.lineCap!=="butt"&&(ht.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ht.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,X,nt,at),this.fill(),ht.hasOwnProperty("lineCap")&&(this.lineCap=ht.lineCap),ht.hasOwnProperty("lineJoin")&&(this.lineJoin=ht.lineJoin)}},p.prototype.strokeRect=function(I,X,nt,at){if(isNaN(I)||isNaN(X)||isNaN(nt)||isNaN(at))throw li.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(I,X,nt,at),this.stroke())},p.prototype.clearRect=function(I,X,nt,at){if(isNaN(I)||isNaN(X)||isNaN(nt)||isNaN(at))throw li.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,X,nt,at))},p.prototype.save=function(I){I=typeof I!="boolean"||I;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,nt=0;nt<this.pdf.internal.getNumberOfPages();nt++)this.pdf.setPage(nt+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var at=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=at}},p.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,nt=0;nt<this.pdf.internal.getNumberOfPages();nt++)this.pdf.setPage(nt+1),this.pdf.internal.out("Q");this.pdf.setPage(X),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(I){var X,nt,at,ht;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))X=0,nt=0,at=0,ht=0;else{var gt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(gt!==null)X=parseInt(gt[1]),nt=parseInt(gt[2]),at=parseInt(gt[3]),ht=1;else if((gt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)X=parseInt(gt[1]),nt=parseInt(gt[2]),at=parseInt(gt[3]),ht=parseFloat(gt[4]);else{if(ht=1,typeof I=="string"&&I.charAt(0)!=="#"){var ft=new XT(I);I=ft.ok?ft.toHex():"#000000"}I.length===4?(X=I.substring(1,2),X+=X,nt=I.substring(2,3),nt+=nt,at=I.substring(3,4),at+=at):(X=I.substring(1,3),nt=I.substring(3,5),at=I.substring(5,7)),X=parseInt(X,16),nt=parseInt(nt,16),at=parseInt(at,16)}}return{r:X,g:nt,b:at,a:ht,style:I}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(I,X,nt,at){if(isNaN(X)||isNaN(nt)||typeof I!="string")throw li.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(at=isNaN(at)?void 0:at,!v.call(this)){var ht=lt(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;G.call(this,{text:I,x:X,y:nt,scale:gt,angle:ht,align:this.textAlign,maxWidth:at})}},p.prototype.strokeText=function(I,X,nt,at){if(isNaN(X)||isNaN(nt)||typeof I!="string")throw li.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){at=isNaN(at)?void 0:at;var ht=lt(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;G.call(this,{text:I,x:X,y:nt,scale:gt,renderingMode:"stroke",angle:ht,align:this.textAlign,maxWidth:at})}},p.prototype.measureText=function(I){if(typeof I!="string")throw li.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,nt=this.pdf.internal.scaleFactor,at=X.internal.getFontSize(),ht=X.getStringUnitWidth(I)*at/X.internal.scaleFactor,gt=function(ft){var Ct=(ft=ft||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ct}}),this};return new gt({width:ht*=Math.round(96*nt/72*1e4)/1e4})},p.prototype.scale=function(I,X){if(isNaN(I)||isNaN(X))throw li.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var nt=new c(I,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(nt)},p.prototype.rotate=function(I){if(isNaN(I))throw li.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.translate=function(I,X){if(isNaN(I)||isNaN(X))throw li.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var nt=new c(1,0,0,1,I,X);this.ctx.transform=this.ctx.transform.multiply(nt)},p.prototype.transform=function(I,X,nt,at,ht,gt){if(isNaN(I)||isNaN(X)||isNaN(nt)||isNaN(at)||isNaN(ht)||isNaN(gt))throw li.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ft=new c(I,X,nt,at,ht,gt);this.ctx.transform=this.ctx.transform.multiply(ft)},p.prototype.setTransform=function(I,X,nt,at,ht,gt){I=isNaN(I)?1:I,X=isNaN(X)?0:X,nt=isNaN(nt)?0:nt,at=isNaN(at)?1:at,ht=isNaN(ht)?0:ht,gt=isNaN(gt)?0:gt,this.ctx.transform=new c(I,X,nt,at,ht,gt)};var B=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(I,X,nt,at,ht,gt,ft,Ct,qt){var jt=this.pdf.getImageProperties(I),Zt=1,$t=1,Gt=1,Ut=1;at!==void 0&&Ct!==void 0&&(Gt=Ct/at,Ut=qt/ht,Zt=jt.width/at*Ct/at,$t=jt.height/ht*qt/ht),gt===void 0&&(gt=X,ft=nt,X=0,nt=0),at!==void 0&&Ct===void 0&&(Ct=at,qt=ht),at===void 0&&Ct===void 0&&(Ct=jt.width,qt=jt.height);for(var ot,le=this.ctx.transform.decompose(),ee=lt(le.rotate.shx),Vt=new c,Jt=(Vt=(Vt=(Vt=Vt.multiply(le.translate)).multiply(le.skew)).multiply(le.scale)).applyToRectangle(new l(gt-X*Gt,ft-nt*Ut,at*Zt,ht*$t)),ie=F.call(this,Jt),te=[],me=0;me<ie.length;me+=1)te.indexOf(ie[me])===-1&&te.push(ie[me]);if(T(te),this.autoPaging)for(var Ce=te[0],Ve=te[te.length-1],We=Ce;We<Ve+1;We++){this.pdf.setPage(We);var dn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Sn=We===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ae=We===1?0:ke+(We-2)*tn;if(this.ctx.clip_path.length!==0){var jr=this.path;ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ot,this.posX+this.margin[3],-Ae+Sn+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=jr}var rn=JSON.parse(JSON.stringify(Jt));rn=L([rn],this.posX+this.margin[3],-Ae+Sn+this.ctx.prevPageLastElemOffset)[0];var bi=(We>Ce||We<Ve)&&B.call(this);bi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dn,tn,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",rn.x,rn.y,rn.w,rn.h,null,null,ee),bi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,ee)};var F=function(I,X,nt){var at=[];X=X||this.pdf.internal.pageSize.width,nt=nt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ht=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":at.push(Math.floor((I.y+ht)/nt)+1);break;case"arc":at.push(Math.floor((I.y+ht-I.radius)/nt)+1),at.push(Math.floor((I.y+ht+I.radius)/nt)+1);break;case"qct":var gt=yt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);at.push(Math.floor((gt.y+ht)/nt)+1),at.push(Math.floor((gt.y+gt.h+ht)/nt)+1);break;case"bct":var ft=Et(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);at.push(Math.floor((ft.y+ht)/nt)+1),at.push(Math.floor((ft.y+ft.h+ht)/nt)+1);break;case"rect":at.push(Math.floor((I.y+ht)/nt)+1),at.push(Math.floor((I.y+I.h+ht)/nt)+1)}for(var Ct=0;Ct<at.length;Ct+=1)for(;this.pdf.internal.getNumberOfPages()<at[Ct];)S.call(this);return at},S=function(){var I=this.fillStyle,X=this.strokeStyle,nt=this.font,at=this.lineCap,ht=this.lineWidth,gt=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=X,this.font=nt,this.lineCap=at,this.lineWidth=ht,this.lineJoin=gt},L=function(I,X,nt){for(var at=0;at<I.length;at++)switch(I[at].type){case"bct":I[at].x2+=X,I[at].y2+=nt;case"qct":I[at].x1+=X,I[at].y1+=nt;case"mt":case"lt":case"arc":default:I[at].x+=X,I[at].y+=nt}return I},T=function(I){return I.sort((function(X,nt){return X-nt}))},k=function(I,X){for(var nt,at,ht=this.fillStyle,gt=this.strokeStyle,ft=this.lineCap,Ct=this.lineWidth,qt=Math.abs(Ct*this.ctx.transform.scaleX),jt=this.lineJoin,Zt=JSON.parse(JSON.stringify(this.path)),$t=JSON.parse(JSON.stringify(this.path)),Gt=[],Ut=0;Ut<$t.length;Ut++)if($t[Ut].x!==void 0)for(var ot=F.call(this,$t[Ut]),le=0;le<ot.length;le+=1)Gt.indexOf(ot[le])===-1&&Gt.push(ot[le]);for(var ee=0;ee<Gt.length;ee++)for(;this.pdf.internal.getNumberOfPages()<Gt[ee];)S.call(this);if(T(Gt),this.autoPaging)for(var Vt=Gt[0],Jt=Gt[Gt.length-1],ie=Vt;ie<Jt+1;ie++){this.pdf.setPage(ie),this.fillStyle=ht,this.strokeStyle=gt,this.lineCap=ft,this.lineWidth=qt,this.lineJoin=jt;var te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=ie===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=ie===1?0:Ce+(ie-2)*Ve;if(this.ctx.clip_path.length!==0){var dn=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(nt,this.posX+this.margin[3],-We+me+this.ctx.prevPageLastElemOffset),R.call(this,I,!0),this.path=dn}if(at=JSON.parse(JSON.stringify(Zt)),this.path=L(at,this.posX+this.margin[3],-We+me+this.ctx.prevPageLastElemOffset),X===!1||ie===0){var Sn=(ie>Vt||ie<Jt)&&B.call(this);Sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],te,Ve,null).clip().discardPath()),R.call(this,I,X),Sn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ct}else this.lineWidth=qt,R.call(this,I,X),this.lineWidth=Ct;this.path=Zt},R=function(I,X){if((I!=="stroke"||X||!x.call(this))&&(I==="stroke"||X||!v.call(this))){for(var nt,at,ht=[],gt=this.path,ft=0;ft<gt.length;ft++){var Ct=gt[ft];switch(Ct.type){case"begin":ht.push({begin:!0});break;case"close":ht.push({close:!0});break;case"mt":ht.push({start:Ct,deltas:[],abs:[]});break;case"lt":var qt=ht.length;if(gt[ft-1]&&!isNaN(gt[ft-1].x)&&(nt=[Ct.x-gt[ft-1].x,Ct.y-gt[ft-1].y],qt>0)){for(;qt>=0;qt--)if(ht[qt-1].close!==!0&&ht[qt-1].begin!==!0){ht[qt-1].deltas.push(nt),ht[qt-1].abs.push(Ct);break}}break;case"bct":nt=[Ct.x1-gt[ft-1].x,Ct.y1-gt[ft-1].y,Ct.x2-gt[ft-1].x,Ct.y2-gt[ft-1].y,Ct.x-gt[ft-1].x,Ct.y-gt[ft-1].y],ht[ht.length-1].deltas.push(nt);break;case"qct":var jt=gt[ft-1].x+2/3*(Ct.x1-gt[ft-1].x),Zt=gt[ft-1].y+2/3*(Ct.y1-gt[ft-1].y),$t=Ct.x+2/3*(Ct.x1-Ct.x),Gt=Ct.y+2/3*(Ct.y1-Ct.y),Ut=Ct.x,ot=Ct.y;nt=[jt-gt[ft-1].x,Zt-gt[ft-1].y,$t-gt[ft-1].x,Gt-gt[ft-1].y,Ut-gt[ft-1].x,ot-gt[ft-1].y],ht[ht.length-1].deltas.push(nt);break;case"arc":ht.push({deltas:[],abs:[],arc:!0}),Array.isArray(ht[ht.length-1].abs)&&ht[ht.length-1].abs.push(Ct)}}at=X?null:I==="stroke"?"stroke":"fill";for(var le=!1,ee=0;ee<ht.length;ee++)if(ht[ee].arc)for(var Vt=ht[ee].abs,Jt=0;Jt<Vt.length;Jt++){var ie=Vt[Jt];ie.type==="arc"?V.call(this,ie.x,ie.y,ie.radius,ie.startAngle,ie.endAngle,ie.counterclockwise,void 0,X,!le):tt.call(this,ie.x,ie.y),le=!0}else if(ht[ee].close===!0)this.pdf.internal.out("h"),le=!1;else if(ht[ee].begin!==!0){var te=ht[ee].start.x,me=ht[ee].start.y;it.call(this,ht[ee].deltas,te,me),le=!0}at&&et.call(this,at),X&&ut.call(this)}},M=function(I){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,nt=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-nt;case"top":return I+X-nt;case"hanging":return I+X-2*nt;case"middle":return I+X/2-nt;case"ideographic":return I;case"alphabetic":default:return I}},j=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(X,nt){this.colorStops.push([X,nt])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(I,X,nt,at,ht,gt,ft,Ct,qt){for(var jt=q.call(this,nt,at,ht,gt),Zt=0;Zt<jt.length;Zt++){var $t=jt[Zt];Zt===0&&(qt?H.call(this,$t.x1+I,$t.y1+X):tt.call(this,$t.x1+I,$t.y1+X)),mt.call(this,I,X,$t.x2,$t.y2,$t.x3,$t.y3,$t.x4,$t.y4)}Ct?ut.call(this):et.call(this,ft)},et=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ut=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(I,X){this.pdf.internal.out(e(I)+" "+n(X)+" m")},G=function(I){var X;switch(I.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var nt=this.pdf.getTextDimensions(I.text),at=M.call(this,I.y),ht=j.call(this,at)-nt.h,gt=this.ctx.transform.applyToPoint(new A(I.x,at)),ft=this.ctx.transform.decompose(),Ct=new c;Ct=(Ct=(Ct=Ct.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale);for(var qt,jt,Zt,$t=this.ctx.transform.applyToRectangle(new l(I.x,at,nt.w,nt.h)),Gt=Ct.applyToRectangle(new l(I.x,ht,nt.w,nt.h)),Ut=F.call(this,Gt),ot=[],le=0;le<Ut.length;le+=1)ot.indexOf(Ut[le])===-1&&ot.push(Ut[le]);if(T(ot),this.autoPaging)for(var ee=ot[0],Vt=ot[ot.length-1],Jt=ee;Jt<Vt+1;Jt++){this.pdf.setPage(Jt);var ie=Jt===1?this.posY+this.margin[0]:this.margin[0],te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],Ce=me-this.margin[0],Ve=this.pdf.internal.pageSize.width-this.margin[1],We=Ve-this.margin[3],dn=Jt===1?0:te+(Jt-2)*Ce;if(this.ctx.clip_path.length!==0){var Sn=this.path;qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(qt,this.posX+this.margin[3],-1*dn+ie),R.call(this,"fill",!0),this.path=Sn}var ke=L([JSON.parse(JSON.stringify(Gt))],this.posX+this.margin[3],-dn+ie+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(jt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(jt*I.scale),Zt=this.lineWidth,this.lineWidth=Zt*I.scale);var tn=this.autoPaging!=="text";if(tn||ke.y+ke.h<=me){if(tn||ke.y>=ie&&ke.x<=Ve){var Ae=tn?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Ve-ke.x)[0],jr=L([JSON.parse(JSON.stringify($t))],this.posX+this.margin[3],-dn+ie+this.ctx.prevPageLastElemOffset)[0],rn=tn&&(Jt>ee||Jt<Vt)&&B.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Ce,null).clip().discardPath()),this.pdf.text(Ae,jr.x,jr.y,{angle:I.angle,align:X,renderingMode:I.renderingMode}),rn&&this.pdf.restoreGraphicsState()}}else ke.y<me&&(this.ctx.prevPageLastElemOffset+=me-ke.y);I.scale>=.01&&(this.pdf.setFontSize(jt),this.lineWidth=Zt)}else I.scale>=.01&&(jt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(jt*I.scale),Zt=this.lineWidth,this.lineWidth=Zt*I.scale),this.pdf.text(I.text,gt.x+this.posX,gt.y+this.posY,{angle:I.angle,align:X,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(jt),this.lineWidth=Zt)},tt=function(I,X,nt,at){nt=nt||0,at=at||0,this.pdf.internal.out(e(I+nt)+" "+n(X+at)+" l")},it=function(I,X,nt){return this.pdf.lines(I,X,nt,null,null)},mt=function(I,X,nt,at,ht,gt,ft,Ct){this.pdf.internal.out([t(i(nt+I)),t(s(at+X)),t(i(ht+I)),t(s(gt+X)),t(i(ft+I)),t(s(Ct+X)),"c"].join(" "))},q=function(I,X,nt,at){for(var ht=2*Math.PI,gt=Math.PI/2;X>nt;)X-=ht;var ft=Math.abs(nt-X);ft<ht&&at&&(ft=ht-ft);for(var Ct=[],qt=at?-1:1,jt=X;ft>1e-5;){var Zt=jt+qt*Math.min(ft,gt);Ct.push(rt.call(this,I,jt,Zt)),ft-=Math.abs(Zt-jt),jt=Zt}return Ct},rt=function(I,X,nt){var at=(nt-X)/2,ht=I*Math.cos(at),gt=I*Math.sin(at),ft=ht,Ct=-gt,qt=ft*ft+Ct*Ct,jt=qt+ft*ht+Ct*gt,Zt=4/3*(Math.sqrt(2*qt*jt)-jt)/(ft*gt-Ct*ht),$t=ft-Zt*Ct,Gt=Ct+Zt*ft,Ut=$t,ot=-Gt,le=at+X,ee=Math.cos(le),Vt=Math.sin(le);return{x1:I*Math.cos(X),y1:I*Math.sin(X),x2:$t*ee-Gt*Vt,y2:$t*Vt+Gt*ee,x3:Ut*ee-ot*Vt,y3:Ut*Vt+ot*ee,x4:I*Math.cos(nt),y4:I*Math.sin(nt)}},lt=function(I){return 180*I/Math.PI},yt=function(I,X,nt,at,ht,gt){var ft=I+.5*(nt-I),Ct=X+.5*(at-X),qt=ht+.5*(nt-ht),jt=gt+.5*(at-gt),Zt=Math.min(I,ht,ft,qt),$t=Math.max(I,ht,ft,qt),Gt=Math.min(X,gt,Ct,jt),Ut=Math.max(X,gt,Ct,jt);return new l(Zt,Gt,$t-Zt,Ut-Gt)},Et=function(I,X,nt,at,ht,gt,ft,Ct){var qt,jt,Zt,$t,Gt,Ut,ot,le,ee,Vt,Jt,ie,te,me,Ce=nt-I,Ve=at-X,We=ht-nt,dn=gt-at,Sn=ft-ht,ke=Ct-gt;for(jt=0;jt<41;jt++)ee=(ot=(Zt=I+(qt=jt/40)*Ce)+qt*((Gt=nt+qt*We)-Zt))+qt*(Gt+qt*(ht+qt*Sn-Gt)-ot),Vt=(le=($t=X+qt*Ve)+qt*((Ut=at+qt*dn)-$t))+qt*(Ut+qt*(gt+qt*ke-Ut)-le),jt==0?(Jt=ee,ie=Vt,te=ee,me=Vt):(Jt=Math.min(Jt,ee),ie=Math.min(ie,Vt),te=Math.max(te,ee),me=Math.max(me,Vt));return new l(Math.round(Jt),Math.round(ie),Math.round(te-Jt),Math.round(me-ie))},st=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,X,nt=(I=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:X}));this.prevLineDash!==nt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=nt)}}})(De.API),(function(r){var t=function(s){var A,l,c,h,f,p,w,v,x,B;for(l=[],c=0,h=(s+=A="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(B=f%85))/85)-(x=f%85))/85)-(v=f%85))/85)-(w=f%85))/85)%85,l.push(p+33,w+33,v+33,x+33,B+33)):l.push(122);return(function(F,S){for(var L=S;L>0;L--)F.pop()})(l,A.length),String.fromCharCode.apply(String,l)+"~>"},e=function(s){var A,l,c,h,f,p=String,w="length",v=255,x="charCodeAt",B="slice",F="replace";for(s[B](-2),s=s[B](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),c=[],h=0,f=(s+=A="uuuuu"[B](s[w]%5||5))[w];f>h;h+=5)l=52200625*(s[x](h)-33)+614125*(s[x](h+1)-33)+7225*(s[x](h+2)-33)+85*(s[x](h+3)-33)+(s[x](h+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return(function(S,L){for(var T=L;T>0;T--)S.pop()})(c,A[w]),p.fromCharCode.apply(p,c)},n=function(s){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),A.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var A=new Uint8Array(s.length),l=s.length;l--;)A[l]=s.charCodeAt(l);return s=(A=KE(A)).reduce((function(c,h){return c+String.fromCharCode(h)}),"")};r.processDataByFilters=function(s,A){var l=0,c=s||"",h=[];for(typeof(A=A||[])=="string"&&(A=[A]),l=0;l<A.length;l+=1)switch(A[l]){case"ASCII85Decode":case"/ASCII85Decode":c=e(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)})).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}})(De.API),(function(r){r.loadFile=function(t,e,n){return(function(i,s,A){s=s!==!1,A=typeof A=="function"?A:function(){};var l=void 0;try{l=(function(c,h,f){var p=new XMLHttpRequest,w=0,v=function(x){var B=x.length,F=[],S=String.fromCharCode;for(w=0;w<B;w+=1)F.push(S(255&x.charCodeAt(w)));return F.join("")};if(p.open("GET",c,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?f(v(this.responseText)):f(void 0)}),p.send(null),h&&p.status===200)return v(p.responseText)})(i,s,A)}catch{}return l})(t,e,n)},r.loadImageFile=r.loadFile})(De.API),(function(r){function t(){return(Re.html2canvas?Promise.resolve(Re.html2canvas):nh(()=>Promise.resolve().then(()=>rz),void 0)).catch((function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))})).then((function(A){return A.default?A.default:A}))}function e(){return(Re.DOMPurify?Promise.resolve(Re.DOMPurify):nh(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(A){return Promise.reject(new Error("Could not load dompurify: "+A))})).then((function(A){return A.default?A.default:A}))}var n=function(A){var l=Vn(A);return l==="undefined"?"undefined":l==="string"||A instanceof String?"string":l==="number"||A instanceof Number?"number":l==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(A,l){var c=document.createElement(A);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},s=function A(l){var c=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),h=A.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,A,1,[A])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(A,l){return A.__proto__=l||s.prototype,A},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(A,l){return this.then((function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(A)){case"string":return this.then(e).then((function(c){return this.set({src:i("div",{innerHTML:A,dompurify:c})})}));case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}}))},s.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),w=h.firstChild;w;w=w.nextSibling)f!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||p.appendChild(c(w,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",(function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft}),!0)),p})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},s.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(t).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},s.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(t).then((function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var w=0;w<h.length;++w){var v=h[w],x=v.src.find((function(B){return B.format==="truetype"}));x&&c.addFont(x.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A}))},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},s.prototype.output=function(A,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(A,l):this.outputPdf(A,l)},s.prototype.outputPdf=function(A,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(A,l)}))},s.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}}))},s.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},s.prototype.set=function(A){if(n(A)!=="object")return this;var l=Object.keys(A||{}).map((function(c){if(c in s.template.prop)return function(){this.prop[c]=A[c]};switch(c){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[c]=A[c]}}}),this);return this.then((function(){return this.thenList(l)}))},s.prototype.get=function(A,l){return this.then((function(){var c=A in s.template.prop?this.prop[A]:this.opt[A];return l?l(c):c}))},s.prototype.setMargin=function(A){return this.then((function(){switch(n(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A})).then(this.setPageSize)},s.prototype.setPageSize=function(A){function l(c,h){return Math.floor(c*h/72*96)}return this.then((function(){(A=A||De.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:l(A.inner.width,A.k),height:l(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A}))},s.prototype.setProgress=function(A,l,c,h){return A!=null&&(this.progress.val=A),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(A,l,c,h){return this.setProgress(A?this.progress.val+A:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(A,l){var c=this;return this.thenCore(A,l,(function(h,f){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,(function(p){return c.updateProgress(null,h),p})).then(h,f).then((function(p){return c.updateProgress(1),p}))}))},s.prototype.thenCore=function(A,l,c){c=c||Promise.prototype.then,A&&(A=A.bind(this)),l&&(l=l.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=c.call(h,A,l);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(A,l){return Promise.prototype.then.call(this,A,l)},s.prototype.thenList=function(A){var l=this;return A.forEach((function(c){l=l.thenCore(c)})),l},s.prototype.catch=function(A){A&&(A=A.bind(this));var l=Promise.prototype.catch.call(this,A);return s.convert(l,this)},s.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},s.prototype.error=function(A){return this.then((function(){throw new Error(A)}))},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,De.getPageSize=function(A,l,c){if(Vn(A)==="object"){var h=A;A=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",A=(""+(A||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,x=0,B=0;if(w.hasOwnProperty(p))x=w[p][1]/f,B=w[p][0]/f;else try{x=c[1],B=c[0]}catch{throw new Error("Invalid format: "+c)}if(A==="p"||A==="portrait")A="p",B>x&&(v=B,B=x,x=v);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",x>B&&(v=B,B=x,x=v)}return{width:B,height:x,unit:l,k:f,orientation:A}},r.html=function(A,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(YE):null;var c=new s(l);return l.worker?c:c.from(A).doCallback()}})(De.API),De.API.addJS=function(r){return Z3=r,this.internal.events.subscribe("postPutResources",(function(){_2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),J3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Z3+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){_2!==void 0&&J3!==void 0&&this.internal.out("/Names <</JavaScript "+_2+" 0 R>>")})),this},(function(r){var t;r.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),s=0;s<i.length;s++){var A=i[s],l=n.exec(A);if(l!=null){var c=l[1];e.internal.newObjectDeferredBegin(c,!1)}e.internal.write(A)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(s=0;s<h;s++){var p=e.internal.newObject();f.push(p);var w=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var v=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<f.length;s++)e.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+v+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,i,s){var A={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(A),A},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var A=n.children[s];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var l=this.count=this.count_r({count:0},A);if(l>0&&this.line("/Count "+l),A.options&&A.options.pageNumber){var c=e.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(De.API),(function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,n,i,s,A,l){var c,h=this.decode.DCT_DECODE,f=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=A||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(c=(function(p){for(var w,v=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,B={width:0,height:0,numcomponents:1},F=4;F<x;F+=2){if(F+=v,t.indexOf(p.charCodeAt(F+1))!==-1){w=256*p.charCodeAt(F+5)+p.charCodeAt(F+6),B={width:256*p.charCodeAt(F+7)+p.charCodeAt(F+8),height:w,numcomponents:p.charCodeAt(F+9)};break}v=256*p.charCodeAt(F+2)+p.charCodeAt(F+3)}return B})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:e,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:h,index:n,alias:i}}return f}})(De.API);var L0,F2,tL,eL,nL,mH=(function(){var r,t,e;function n(s){var A,l,c,h,f,p,w,v,x,B,F,S,L,T;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(A=this.readUInt32(),x=(function(){var k,R;for(R=[],k=0;k<4;++k)R.push(String.fromCharCode(this.data[this.pos++]));return R}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(A);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),h=this.readUInt16()||100,p.delay=1e3*f/h,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,A-=4),s=(p!=null?p.data:void 0)||this.imgData,S=0;0<=A?S<A:S>A;0<=A?++S:--S)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(A),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((B=c-this.transparency.indexed.length)>0)for(L=0;0<=B?L<B:L>B;0<=B?++L:--L)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(A)[0];break;case 2:this.transparency.rgb=this.read(A)}break;case"tEXt":w=(F=this.read(A)).indexOf(0),v=String.fromCharCode.apply(String,F.slice(0,w)),this.text[v]=String.fromCharCode.apply(String,F.slice(w+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=A}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var A,l;for(l=[],A=0;0<=s?A<s:A>s;0<=s?++A:--A)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var A=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*A),c=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(p,w,v,x){var B,F,S,L,T,k,R,M,j,V,et,ut,H,G,tt,it,mt,q,rt,lt,yt,Et=Math.ceil((h.width-p)/v),st=Math.ceil((h.height-w)/x),I=h.width==Et&&h.height==st;for(G=A*Et,ut=I?l:new Uint8Array(G*st),k=s.length,H=0,F=0;H<st&&c<k;){switch(s[c++]){case 0:for(L=mt=0;mt<G;L=mt+=1)ut[F++]=s[c++];break;case 1:for(L=q=0;q<G;L=q+=1)B=s[c++],T=L<A?0:ut[F-A],ut[F++]=(B+T)%256;break;case 2:for(L=rt=0;rt<G;L=rt+=1)B=s[c++],S=(L-L%A)/A,tt=H&&ut[(H-1)*G+S*A+L%A],ut[F++]=(tt+B)%256;break;case 3:for(L=lt=0;lt<G;L=lt+=1)B=s[c++],S=(L-L%A)/A,T=L<A?0:ut[F-A],tt=H&&ut[(H-1)*G+S*A+L%A],ut[F++]=(B+Math.floor((T+tt)/2))%256;break;case 4:for(L=yt=0;yt<G;L=yt+=1)B=s[c++],S=(L-L%A)/A,T=L<A?0:ut[F-A],H===0?tt=it=0:(tt=ut[(H-1)*G+S*A+L%A],it=S&&ut[(H-1)*G+(S-1)*A+L%A]),R=T+tt-it,M=Math.abs(R-T),V=Math.abs(R-tt),et=Math.abs(R-it),j=M<=V&&M<=et?T:V<=et?tt:it,ut[F++]=(B+j)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!I){var X=((w+H*x)*h.width+p)*A,nt=H*G;for(L=0;L<Et;L+=1){for(var at=0;at<A;at+=1)l[X++]=ut[nt++];X+=(v-1)*A}}H++}}return s=Y8(s),h.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var s,A,l,c,h,f,p,w,v;for(l=this.palette,f=this.transparency.indexed||[],h=new Uint8Array((f.length||0)+l.length),c=0,s=0,A=p=0,w=l.length;p<w;A=p+=3)h[c++]=l[A],h[c++]=l[A+1],h[c++]=l[A+2],h[c++]=(v=f[s++])!=null?v:255;return h},n.prototype.copyToImageData=function(s,A){var l,c,h,f,p,w,v,x,B,F,S;if(c=this.colors,B=null,l=this.hasAlphaChannel,this.palette.length&&(B=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(h=s.data||s).length,p=B||A,f=w=0,c===1)for(;f<x;)v=B?4*A[f/4]:w,F=p[v++],h[f++]=F,h[f++]=F,h[f++]=F,h[f++]=l?p[v++]:255,w=v;else for(;f<x;)v=B?4*A[f/4]:w,h[f++]=p[v++],h[f++]=p[v++],h[f++]=p[v++],h[f++]=l?p[v++]:255,w=v},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Re)==="[object Window]"){try{t=Re.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),r=function(s){var A;if(i()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(A=new Image).src=t.toDataURL(),A;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var A,l,c,h,f,p,w,v;if(this.animation){for(v=[],l=f=0,p=(w=this.animation.frames).length;f<p;l=++f)A=w[l],c=s.createImageData(A.width,A.height),h=this.decodePixels(new Uint8Array(A.data)),this.copyToImageData(c,h),A.imageData=c,v.push(A.image=r(c));return v}},n.prototype.renderFrame=function(s,A){var l,c,h;return l=(c=this.animation.frames)[A],h=c[A-1],A===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var A,l,c,h,f,p,w=this;return l=0,p=this.animation,h=p.numFrames,c=p.frames,f=p.numPlays,(A=function(){var v,x;if(v=l++%h,x=c[v],w.renderFrame(s,v),h>1&&l/h<f)return w.animation._timeout=setTimeout(A,x.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var A,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,A=s.getContext("2d"),this.animation?(this.decodeFrames(A),this.animate(A)):(l=A.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),A.putImageData(l,0,0))},n})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function wH(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,n=r[t++]|r[t++]<<8,i=r[t++],s=i>>7,A=1<<(7&i)+1;r[t++],r[t++];var l=null,c=null;s&&(l=t,c=A,t+=3*A);var h=!0,f=[],p=0,w=null,v=0,x=null;for(this.width=e,this.height=n;h&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,x=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((H=r[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var B=r[t++];p=r[t++]|r[t++]<<8,w=r[t++],(1&B)==0&&(w=null),v=B>>2&7,t++;break;case 254:for(;;){if(!((H=r[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var F=r[t++]|r[t++]<<8,S=r[t++]|r[t++]<<8,L=r[t++]|r[t++]<<8,T=r[t++]|r[t++]<<8,k=r[t++],R=k>>6&1,M=1<<(7&k)+1,j=l,V=c,et=!1;k>>7&&(et=!0,j=t,V=M,t+=3*M);var ut=t;for(t++;;){var H;if(!((H=r[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}f.push({x:F,y:S,width:L,height:T,has_local_palette:et,palette_offset:j,palette_size:V,data_offset:ut,data_length:t-ut,transparent_index:w,interlaced:!!R,delay:p,disposal:v});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(G){if(G<0||G>=f.length)throw new Error("Frame index out of range.");return f[G]},this.decodeAndBlitFrameBGRA=function(G,tt){var it=this.frameInfo(G),mt=it.width*it.height,q=new Uint8Array(mt);iL(r,it.data_offset,q,mt);var rt=it.palette_offset,lt=it.transparent_index;lt===null&&(lt=256);var yt=it.width,Et=e-yt,st=yt,I=4*(it.y*e+it.x),X=4*((it.y+it.height)*e+it.x),nt=I,at=4*Et;it.interlaced===!0&&(at+=4*e*7);for(var ht=8,gt=0,ft=q.length;gt<ft;++gt){var Ct=q[gt];if(st===0&&(st=yt,(nt+=at)>=X&&(at=4*Et+4*e*(ht-1),nt=I+(yt+Et)*(ht<<1),ht>>=1)),Ct===lt)nt+=4;else{var qt=r[rt+3*Ct],jt=r[rt+3*Ct+1],Zt=r[rt+3*Ct+2];tt[nt++]=Zt,tt[nt++]=jt,tt[nt++]=qt,tt[nt++]=255}--st}},this.decodeAndBlitFrameRGBA=function(G,tt){var it=this.frameInfo(G),mt=it.width*it.height,q=new Uint8Array(mt);iL(r,it.data_offset,q,mt);var rt=it.palette_offset,lt=it.transparent_index;lt===null&&(lt=256);var yt=it.width,Et=e-yt,st=yt,I=4*(it.y*e+it.x),X=4*((it.y+it.height)*e+it.x),nt=I,at=4*Et;it.interlaced===!0&&(at+=4*e*7);for(var ht=8,gt=0,ft=q.length;gt<ft;++gt){var Ct=q[gt];if(st===0&&(st=yt,(nt+=at)>=X&&(at=4*Et+4*e*(ht-1),nt=I+(yt+Et)*(ht<<1),ht>>=1)),Ct===lt)nt+=4;else{var qt=r[rt+3*Ct],jt=r[rt+3*Ct+1],Zt=r[rt+3*Ct+2];tt[nt++]=qt,tt[nt++]=jt,tt[nt++]=Zt,tt[nt++]=255}--st}}}function iL(r,t,e,n){for(var i=r[t++],s=1<<i,A=s+1,l=A+1,c=i+1,h=(1<<c)-1,f=0,p=0,w=0,v=r[t++],x=new Int32Array(4096),B=null;;){for(;f<16&&v!==0;)p|=r[t++]<<f,f+=8,v===1?v=r[t++]:--v;if(f<c)break;var F=p&h;if(p>>=c,f-=c,F!==s){if(F===A)break;for(var S=F<l?F:B,L=0,T=S;T>s;)T=x[T]>>8,++L;var k=T;if(w+L+(S!==F?1:0)>n)return void li.log("Warning, gif stream longer than expected.");e[w++]=k;var R=w+=L;for(S!==F&&(e[w++]=k),T=S;L--;)T=x[T],e[--R]=255&T,T>>=8;B!==null&&l<4096&&(x[l++]=B<<8|k,l>=h+1&&c<12&&(++c,h=h<<1|1)),B=F}else l=A+1,h=(1<<(c=i+1))-1,B=null}return w!==n&&li.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Wx(r){var t,e,n,i,s,A=Math.floor,l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(64),p=new Array(65535),w=new Array(65535),v=new Array(64),x=new Array(64),B=[],F=0,S=7,L=new Array(64),T=new Array(64),k=new Array(64),R=new Array(256),M=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],et=[0,1,2,3,4,5,6,7,8,9,10,11],ut=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],tt=[0,1,2,3,4,5,6,7,8,9,10,11],it=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],mt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(I,X){for(var nt=0,at=0,ht=new Array,gt=1;gt<=16;gt++){for(var ft=1;ft<=I[gt];ft++)ht[X[at]]=[],ht[X[at]][0]=nt,ht[X[at]][1]=gt,at++,nt++;nt*=2}return ht}function rt(I){for(var X=I[0],nt=I[1]-1;nt>=0;)X&1<<nt&&(F|=1<<S),nt--,--S<0&&(F==255?(lt(255),lt(0)):lt(F),S=7,F=0)}function lt(I){B.push(I)}function yt(I){lt(I>>8&255),lt(255&I)}function Et(I,X,nt,at,ht){for(var gt,ft=ht[0],Ct=ht[240],qt=(function(Vt,Jt){var ie,te,me,Ce,Ve,We,dn,Sn,ke,tn,Ae=0;for(ke=0;ke<8;++ke){ie=Vt[Ae],te=Vt[Ae+1],me=Vt[Ae+2],Ce=Vt[Ae+3],Ve=Vt[Ae+4],We=Vt[Ae+5],dn=Vt[Ae+6];var jr=ie+(Sn=Vt[Ae+7]),rn=ie-Sn,bi=te+dn,fn=te-dn,sn=me+We,jA=me-We,Un=Ce+Ve,Tc=Ce-Ve,ni=jr+Un,Us=jr-Un,ma=bi+sn,On=bi-sn;Vt[Ae]=ni+ma,Vt[Ae+4]=ni-ma;var Oe=.707106781*(On+Us);Vt[Ae+2]=Us+Oe,Vt[Ae+6]=Us-Oe;var gn=.382683433*((ni=Tc+jA)-(On=fn+rn)),Qc=.5411961*ni+gn,ur=1.306562965*On+gn,wa=.707106781*(ma=jA+fn),Ls=rn+wa,Fe=rn-wa;Vt[Ae+5]=Fe+Qc,Vt[Ae+3]=Fe-Qc,Vt[Ae+1]=Ls+ur,Vt[Ae+7]=Ls-ur,Ae+=8}for(Ae=0,ke=0;ke<8;++ke){ie=Vt[Ae],te=Vt[Ae+8],me=Vt[Ae+16],Ce=Vt[Ae+24],Ve=Vt[Ae+32],We=Vt[Ae+40],dn=Vt[Ae+48];var va=ie+(Sn=Vt[Ae+56]),tA=ie-Sn,cs=te+dn,Ri=te-dn,_i=me+We,Ns=me-We,Ic=Ce+Ve,Kr=Ce-Ve,Hn=va+Ic,hi=va-Ic,zr=cs+_i,ya=cs-_i;Vt[Ae]=Hn+zr,Vt[Ae+32]=Hn-zr;var ba=.707106781*(ya+hi);Vt[Ae+16]=hi+ba,Vt[Ae+48]=hi-ba;var KA=.382683433*((Hn=Kr+Ns)-(ya=Ri+tA)),ml=.5411961*Hn+KA,zA=1.306562965*ya+KA,wl=.707106781*(zr=Ns+Ri),eA=tA+wl,nA=tA-wl;Vt[Ae+40]=nA+ml,Vt[Ae+24]=nA-ml,Vt[Ae+8]=eA+zA,Vt[Ae+56]=eA-zA,Ae++}for(ke=0;ke<64;++ke)tn=Vt[ke]*Jt[ke],v[ke]=tn>0?tn+.5|0:tn-.5|0;return v})(I,X),jt=0;jt<64;++jt)x[j[jt]]=qt[jt];var Zt=x[0]-nt;nt=x[0],Zt==0?rt(at[0]):(rt(at[w[gt=32767+Zt]]),rt(p[gt]));for(var $t=63;$t>0&&x[$t]==0;)$t--;if($t==0)return rt(ft),nt;for(var Gt,Ut=1;Ut<=$t;){for(var ot=Ut;x[Ut]==0&&Ut<=$t;)++Ut;var le=Ut-ot;if(le>=16){Gt=le>>4;for(var ee=1;ee<=Gt;++ee)rt(Ct);le&=15}gt=32767+x[Ut],rt(ht[(le<<4)+w[gt]]),rt(p[gt]),Ut++}return $t!=63&&rt(ft),nt}function st(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(X){for(var nt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],at=0;at<64;at++){var ht=A((nt[at]*X+50)/100);ht=Math.min(Math.max(ht,1),255),l[j[at]]=ht}for(var gt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ft=0;ft<64;ft++){var Ct=A((gt[ft]*X+50)/100);Ct=Math.min(Math.max(Ct,1),255),c[j[ft]]=Ct}for(var qt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],jt=0,Zt=0;Zt<8;Zt++)for(var $t=0;$t<8;$t++)h[jt]=1/(l[j[jt]]*qt[Zt]*qt[$t]*8),f[jt]=1/(c[j[jt]]*qt[Zt]*qt[$t]*8),jt++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,X){X&&st(X),B=new Array,F=0,S=7,yt(65496),yt(65504),yt(16),lt(74),lt(70),lt(73),lt(70),lt(0),lt(1),lt(1),lt(0),yt(1),yt(1),lt(0),lt(0),(function(){yt(65499),yt(132),lt(0);for(var te=0;te<64;te++)lt(l[te]);lt(1);for(var me=0;me<64;me++)lt(c[me])})(),(function(te,me){yt(65472),yt(17),lt(8),yt(me),yt(te),lt(3),lt(1),lt(17),lt(0),lt(2),lt(17),lt(1),lt(3),lt(17),lt(1)})(I.width,I.height),(function(){yt(65476),yt(418),lt(0);for(var te=0;te<16;te++)lt(V[te+1]);for(var me=0;me<=11;me++)lt(et[me]);lt(16);for(var Ce=0;Ce<16;Ce++)lt(ut[Ce+1]);for(var Ve=0;Ve<=161;Ve++)lt(H[Ve]);lt(1);for(var We=0;We<16;We++)lt(G[We+1]);for(var dn=0;dn<=11;dn++)lt(tt[dn]);lt(17);for(var Sn=0;Sn<16;Sn++)lt(it[Sn+1]);for(var ke=0;ke<=161;ke++)lt(mt[ke])})(),yt(65498),yt(12),lt(3),lt(1),lt(0),lt(2),lt(17),lt(3),lt(17),lt(0),lt(63),lt(0);var nt=0,at=0,ht=0;F=0,S=7,this.encode.displayName="_encode_";for(var gt,ft,Ct,qt,jt,Zt,$t,Gt,Ut,ot=I.data,le=I.width,ee=I.height,Vt=4*le,Jt=0;Jt<ee;){for(gt=0;gt<Vt;){for(jt=Vt*Jt+gt,$t=-1,Gt=0,Ut=0;Ut<64;Ut++)Zt=jt+(Gt=Ut>>3)*Vt+($t=4*(7&Ut)),Jt+Gt>=ee&&(Zt-=Vt*(Jt+1+Gt-ee)),gt+$t>=Vt&&(Zt-=gt+$t-Vt+4),ft=ot[Zt++],Ct=ot[Zt++],qt=ot[Zt++],L[Ut]=(M[ft]+M[Ct+256>>0]+M[qt+512>>0]>>16)-128,T[Ut]=(M[ft+768>>0]+M[Ct+1024>>0]+M[qt+1280>>0]>>16)-128,k[Ut]=(M[ft+1280>>0]+M[Ct+1536>>0]+M[qt+1792>>0]>>16)-128;nt=Et(L,h,nt,t,n),at=Et(T,f,at,e,i),ht=Et(k,f,ht,e,i),gt+=32}Jt+=8}if(S>=0){var ie=[];ie[1]=S+1,ie[0]=(1<<S+1)-1,rt(ie)}return yt(65497),new Uint8Array(B)},r=r||50,(function(){for(var I=String.fromCharCode,X=0;X<256;X++)R[X]=I(X)})(),t=q(V,et),e=q(G,tt),n=q(ut,H),i=q(it,mt),(function(){for(var I=1,X=2,nt=1;nt<=15;nt++){for(var at=I;at<X;at++)w[32767+at]=nt,p[32767+at]=[],p[32767+at][1]=nt,p[32767+at][0]=at;for(var ht=-(X-1);ht<=-I;ht++)w[32767+ht]=nt,p[32767+ht]=[],p[32767+ht][1]=nt,p[32767+ht][0]=X-1+ht;I<<=1,X<<=1}})(),(function(){for(var I=0;I<256;I++)M[I]=19595*I,M[I+256>>0]=38470*I,M[I+512>>0]=7471*I+32768,M[I+768>>0]=-11059*I,M[I+1024>>0]=-21709*I,M[I+1280>>0]=32768*I+8421375,M[I+1536>>0]=-27439*I,M[I+1792>>0]=-5329*I})(),st(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Go(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function rL(r){function t(V){if(!V)throw Error("assert :P")}function e(V,et,ut){for(var H=0;4>H;H++)if(V[et+H]!=ut.charCodeAt(H))return!0;return!1}function n(V,et,ut,H,G){for(var tt=0;tt<G;tt++)V[et+tt]=ut[H+tt]}function i(V,et,ut,H){for(var G=0;G<H;G++)V[et+G]=ut}function s(V){return new Int32Array(V)}function A(V,et){for(var ut=[],H=0;H<V;H++)ut.push(new et);return ut}function l(V,et){var ut=[];return(function H(G,tt,it){for(var mt=it[tt],q=0;q<mt&&(G.push(it.length>tt+1?[]:new et),!(it.length<tt+1));q++)H(G[q],tt+1,it)})(ut,0,V),ut}var c=function(){var V=this;function et(m,b){for(var _=1<<b-1>>>0;m&_;)_>>>=1;return _?(m&_-1)+_:m}function ut(m,b,_,Q,K){t(!(Q%_));do m[b+(Q-=_)]=K;while(0<Q)}function H(m,b,_,Q,K){if(t(2328>=K),512>=K)var Y=s(512);else if((Y=s(K))==null)return 0;return(function(W,$,Z,At,wt,Lt){var Ft,xt,Kt=$,kt=1<<Z,vt=s(16),Bt=s(16);for(t(wt!=0),t(At!=null),t(W!=null),t(0<Z),xt=0;xt<wt;++xt){if(15<At[xt])return 0;++vt[At[xt]]}if(vt[0]==wt)return 0;for(Bt[1]=0,Ft=1;15>Ft;++Ft){if(vt[Ft]>1<<Ft)return 0;Bt[Ft+1]=Bt[Ft]+vt[Ft]}for(xt=0;xt<wt;++xt)Ft=At[xt],0<At[xt]&&(Lt[Bt[Ft]++]=xt);if(Bt[15]==1)return(At=new G).g=0,At.value=Lt[0],ut(W,Kt,1,kt,At),kt;var Ht,Xt=-1,Mt=kt-1,ae=0,ne=1,xe=1,re=1<<Z;for(xt=0,Ft=1,wt=2;Ft<=Z;++Ft,wt<<=1){if(ne+=xe<<=1,0>(xe-=vt[Ft]))return 0;for(;0<vt[Ft];--vt[Ft])(At=new G).g=Ft,At.value=Lt[xt++],ut(W,Kt+ae,wt,re,At),ae=et(ae,Ft)}for(Ft=Z+1,wt=2;15>=Ft;++Ft,wt<<=1){if(ne+=xe<<=1,0>(xe-=vt[Ft]))return 0;for(;0<vt[Ft];--vt[Ft]){if(At=new G,(ae&Mt)!=Xt){for(Kt+=re,Ht=1<<(Xt=Ft)-Z;15>Xt&&!(0>=(Ht-=vt[Xt]));)++Xt,Ht<<=1;kt+=re=1<<(Ht=Xt-Z),W[$+(Xt=ae&Mt)].g=Ht+Z,W[$+Xt].value=Kt-$-Xt}At.g=Ft-Z,At.value=Lt[xt++],ut(W,Kt+(ae>>Z),wt,re,At),ae=et(ae,Ft)}}return ne!=2*Bt[15]-1?0:kt})(m,b,_,Q,K,Y)}function G(){this.value=this.g=0}function tt(){this.value=this.g=0}function it(){this.G=A(5,G),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(dr,tt)}function mt(m,b,_,Q){t(m!=null),t(b!=null),t(2147483648>Q),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=_,m.Jd=b,m.Yc=_+Q,m.Zc=4<=Q?_+Q-4+1:_,gt(m)}function q(m,b){for(var _=0;0<b--;)_|=Ct(m,128)<<b;return _}function rt(m,b){var _=q(m,b);return ft(m)?-_:_}function lt(m,b,_,Q){var K,Y=0;for(t(m!=null),t(b!=null),t(4294967288>Q),m.Sb=Q,m.Ra=0,m.u=0,m.h=0,4<Q&&(Q=4),K=0;K<Q;++K)Y+=b[_+K]<<8*K;m.Ra=Y,m.bb=Q,m.oa=b,m.pa=_}function yt(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Nl-8>>>0,++m.bb,m.u-=8;nt(m)&&(m.h=1,m.u=0)}function Et(m,b){if(t(0<=b),!m.h&&b<=Ll){var _=X(m)&Kc[b];return m.u+=b,yt(m),_}return m.h=1,m.u=0}function st(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(m){return m.Ra>>>(m.u&Nl-1)>>>0}function nt(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Nl}function at(m,b){m.u=b,m.h=nt(m)}function ht(m){m.u>=yh&&(t(m.u>=yh),yt(m))}function gt(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ft(m){return q(m,1)}function Ct(m,b){var _=m.Ca;0>m.b&&gt(m);var Q=m.b,K=_*b>>>8,Y=(m.I>>>Q>K)+0;for(Y?(_-=K,m.I-=K+1<<Q>>>0):_=K+1,Q=_,K=0;256<=Q;)K+=8,Q>>=8;return Q=7^K+hs[Q],m.b-=Q,m.Ca=(_<<Q)-1,Y}function qt(m,b,_){m[b+0]=_>>24&255,m[b+1]=_>>16&255,m[b+2]=_>>8&255,m[b+3]=_>>0&255}function jt(m,b){return m[b+0]<<0|m[b+1]<<8}function Zt(m,b){return jt(m,b)|m[b+2]<<16}function $t(m,b){return jt(m,b)|jt(m,b+2)<<16}function Gt(m,b){var _=1<<b;return t(m!=null),t(0<b),m.X=s(_),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function Ut(m,b){t(m!=null),t(b!=null),t(m.Xa==b.Xa),n(b.X,0,m.X,0,1<<b.Xa)}function ot(){this.X=[],this.Xa=this.Mb=0}function le(m,b,_,Q){t(_!=null),t(Q!=null);var K=_[0],Y=Q[0];return K==0&&(K=(m*Y+b/2)/b),Y==0&&(Y=(b*K+m/2)/m),0>=K||0>=Y?0:(_[0]=K,Q[0]=Y,1)}function ee(m,b){return m+(1<<b)-1>>>b}function Vt(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Jt(m,b){V[b]=function(_,Q,K,Y,W,$,Z){var At;for(At=0;At<W;++At){var wt=V[m]($[Z+At-1],K,Y+At);$[Z+At]=Vt(_[Q+At],wt)}}}function ie(){this.ud=this.hd=this.jd=0}function te(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function me(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ce(m,b){return me(m+(m-b+.5>>1))}function Ve(m,b,_){return Math.abs(b-_)-Math.abs(m-_)}function We(m,b,_,Q,K,Y,W){for(Q=Y[W-1],_=0;_<K;++_)Y[W+_]=Q=Vt(m[b+_],Q)}function dn(m,b,_,Q,K){var Y;for(Y=0;Y<_;++Y){var W=m[b+Y],$=W>>8&255,Z=16711935&(Z=(Z=16711935&W)+(($<<16)+$));Q[K+Y]=(4278255360&W)+Z>>>0}}function Sn(m,b){b.jd=m>>0&255,b.hd=m>>8&255,b.ud=m>>16&255}function ke(m,b,_,Q,K,Y){var W;for(W=0;W<Q;++W){var $=b[_+W],Z=$>>>8,At=$,wt=255&(wt=(wt=$>>>16)+((m.jd<<24>>24)*(Z<<24>>24)>>>5));At=255&(At=(At=At+((m.hd<<24>>24)*(Z<<24>>24)>>>5))+((m.ud<<24>>24)*(wt<<24>>24)>>>5)),K[Y+W]=(4278255360&$)+(wt<<16)+At}}function tn(m,b,_,Q,K){V[b]=function(Y,W,$,Z,At,wt,Lt,Ft,xt){for(Z=Lt;Z<Ft;++Z)for(Lt=0;Lt<xt;++Lt)At[wt++]=K($[Q(Y[W++])])},V[m]=function(Y,W,$,Z,At,wt,Lt){var Ft=8>>Y.b,xt=Y.Ea,Kt=Y.K[0],kt=Y.w;if(8>Ft)for(Y=(1<<Y.b)-1,kt=(1<<Ft)-1;W<$;++W){var vt,Bt=0;for(vt=0;vt<xt;++vt)vt&Y||(Bt=Q(Z[At++])),wt[Lt++]=K(Kt[Bt&kt]),Bt>>=Ft}else V["VP8LMapColor"+_](Z,At,Kt,kt,wt,Lt,W,$,xt)}}function Ae(m,b,_,Q,K){for(_=b+_;b<_;){var Y=m[b++];Q[K++]=Y>>16&255,Q[K++]=Y>>8&255,Q[K++]=Y>>0&255}}function jr(m,b,_,Q,K){for(_=b+_;b<_;){var Y=m[b++];Q[K++]=Y>>16&255,Q[K++]=Y>>8&255,Q[K++]=Y>>0&255,Q[K++]=Y>>24&255}}function rn(m,b,_,Q,K){for(_=b+_;b<_;){var Y=(W=m[b++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;Q[K++]=Y,Q[K++]=W}}function bi(m,b,_,Q,K){for(_=b+_;b<_;){var Y=(W=m[b++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;Q[K++]=Y,Q[K++]=W}}function fn(m,b,_,Q,K){for(_=b+_;b<_;){var Y=m[b++];Q[K++]=Y>>0&255,Q[K++]=Y>>8&255,Q[K++]=Y>>16&255}}function sn(m,b,_,Q,K,Y){if(Y==0)for(_=b+_;b<_;)qt(Q,((Y=m[b++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),K+=32;else n(Q,K,m,b,_)}function jA(m,b){V[b][0]=V[m+"0"],V[b][1]=V[m+"1"],V[b][2]=V[m+"2"],V[b][3]=V[m+"3"],V[b][4]=V[m+"4"],V[b][5]=V[m+"5"],V[b][6]=V[m+"6"],V[b][7]=V[m+"7"],V[b][8]=V[m+"8"],V[b][9]=V[m+"9"],V[b][10]=V[m+"10"],V[b][11]=V[m+"11"],V[b][12]=V[m+"12"],V[b][13]=V[m+"13"],V[b][14]=V[m+"0"],V[b][15]=V[m+"0"]}function Un(m){return m==kf||m==Yp||m==Fh||m==Wp}function Tc(){this.eb=[],this.size=this.A=this.fb=0}function ni(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Us(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tc,this.f.kb=new ni,this.sd=null}function ma(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function On(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Oe(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function gn(m,b){var _=m.T,Q=b.ba.f.RGBA,K=Q.eb,Y=Q.fb+m.ka*Q.A,W=Lr[b.ba.S],$=m.y,Z=m.O,At=m.f,wt=m.N,Lt=m.ea,Ft=m.W,xt=b.cc,Kt=b.dc,kt=b.Mc,vt=b.Nc,Bt=m.ka,Ht=m.ka+m.T,Xt=m.U,Mt=Xt+1>>1;for(Bt==0?W($,Z,null,null,At,wt,Lt,Ft,At,wt,Lt,Ft,K,Y,null,null,Xt):(W(b.ec,b.fc,$,Z,xt,Kt,kt,vt,At,wt,Lt,Ft,K,Y-Q.A,K,Y,Xt),++_);Bt+2<Ht;Bt+=2)xt=At,Kt=wt,kt=Lt,vt=Ft,wt+=m.Rc,Ft+=m.Rc,Y+=2*Q.A,W($,(Z+=2*m.fa)-m.fa,$,Z,xt,Kt,kt,vt,At,wt,Lt,Ft,K,Y-Q.A,K,Y,Xt);return Z+=m.fa,m.j+Ht<m.o?(n(b.ec,b.fc,$,Z,Xt),n(b.cc,b.dc,At,wt,Mt),n(b.Mc,b.Nc,Lt,Ft,Mt),_--):1&Ht||W($,Z,null,null,At,wt,Lt,Ft,At,wt,Lt,Ft,K,Y+Q.A,null,null,Xt),_}function Qc(m,b,_){var Q=m.F,K=[m.J];if(Q!=null){var Y=m.U,W=b.ba.S,$=W==Df||W==Fh;b=b.ba.f.RGBA;var Z=[0],At=m.ka;Z[0]=m.T,m.Kb&&(At==0?--Z[0]:(--At,K[0]-=m.width),m.j+m.ka+m.T==m.o&&(Z[0]=m.o-m.j-At));var wt=b.eb;At=b.fb+At*b.A,m=Qn(Q,K[0],m.width,Y,Z,wt,At+($?0:3),b.A),t(_==Z),m&&Un(W)&&Is(wt,At,$,Y,Z,b.A)}return 0}function ur(m){var b=m.ma,_=b.ba.S,Q=11>_,K=_==$r||_==Ua||_==Df||_==_h||_==12||Un(_);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Uo(b.Oa,m,K?11:12))return 0;if(K&&Un(_)&&Yt(),m.da)alert("todo:use_scaling");else{if(Q){if(b.Ib=Oe,m.Kb){if(_=m.U+1>>1,b.memory=s(m.U+2*_),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+_,b.Ib=gn,Yt()}}else alert("todo:EmitYUV");K&&(b.Jb=Qc,Q&&_t())}if(Q&&!Kl){for(m=0;256>m;++m)Nr[m]=89858*(m-128)+Nh>>Da,dC[m]=-22014*(m-128)+Nh,Fb[m]=-45773*(m-128),e0[m]=113618*(m-128)+Nh>>Da;for(m=Xc;m<jl;++m)b=76283*(m-16)+Nh>>Da,fC[m-Xc]=ta(b,255),gC[m-Xc]=ta(b+8>>4,15);Kl=1}return 1}function wa(m){var b=m.ma,_=m.U,Q=m.T;return t(!(1&m.ka)),0>=_||0>=Q?0:(_=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,_),b.Dc+=_,1)}function Ls(m){m.ma.memory=null}function Fe(m,b,_,Q){return Et(m,8)!=47?0:(b[0]=Et(m,14)+1,_[0]=Et(m,14)+1,Q[0]=Et(m,1),Et(m,3)!=0?0:!m.h)}function va(m,b){if(4>m)return m+1;var _=m-2>>1;return(2+(1&m)<<_)+Et(b,_)+1}function tA(m,b){return 120<b?b-120:1<=(_=((_=Na[b-1])>>4)*m+(8-(15&_)))?_:1;var _}function cs(m,b,_){var Q=X(_),K=m[b+=255&Q].g-8;return 0<K&&(at(_,_.u+8),Q=X(_),b+=m[b].value,b+=Q&(1<<K)-1),at(_,_.u+m[b].g),m[b].value}function Ri(m,b,_){return _.g+=m.g,_.value+=m.value<<b>>>0,t(8>=_.g),m.g}function _i(m,b,_){var Q=m.xc;return t((b=Q==0?0:m.vc[m.md*(_>>Q)+(b>>Q)])<m.Wb),m.Ya[b]}function Ns(m,b,_,Q){var K=m.ab,Y=m.c*b,W=m.C;b=W+b;var $=_,Z=Q;for(Q=m.Ta,_=m.Ua;0<K--;){var At=m.gc[K],wt=W,Lt=b,Ft=$,xt=Z,Kt=(Z=Q,$=_,At.Ea);switch(t(wt<Lt),t(Lt<=At.nc),At.hc){case 2:Gp(Ft,xt,(Lt-wt)*Kt,Z,$);break;case 0:var kt=wt,vt=Lt,Bt=Z,Ht=$,Xt=(re=At).Ea;kt==0&&(zp(Ft,xt,null,null,1,Bt,Ht),We(Ft,xt+1,0,0,Xt-1,Bt,Ht+1),xt+=Xt,Ht+=Xt,++kt);for(var Mt=1<<re.b,ae=Mt-1,ne=ee(Xt,re.b),xe=re.K,re=re.w+(kt>>re.b)*ne;kt<vt;){var En=xe,cn=re,mn=1;for(Qf(Ft,xt,Bt,Ht-Xt,1,Bt,Ht);mn<Xt;){var Pe=(mn&~ae)+Mt;Pe>Xt&&(Pe=Xt),(0,Fa[En[cn++]>>8&15])(Ft,xt+ +mn,Bt,Ht+mn-Xt,Pe-mn,Bt,Ht+mn),mn=Pe}xt+=Xt,Ht+=Xt,++kt&ae||(re+=ne)}Lt!=At.nc&&n(Z,$-Kt,Z,$+(Lt-wt-1)*Kt,Kt);break;case 1:for(Kt=Ft,vt=xt,Xt=(Ft=At.Ea)-(Ht=Ft&~(Bt=(xt=1<<At.b)-1)),kt=ee(Ft,At.b),Mt=At.K,At=At.w+(wt>>At.b)*kt;wt<Lt;){for(ae=Mt,ne=At,xe=new ie,re=vt+Ht,En=vt+Ft;vt<re;)Sn(ae[ne++],xe),Tl(xe,Kt,vt,xt,Z,$),vt+=xt,$+=xt;vt<En&&(Sn(ae[ne++],xe),Tl(xe,Kt,vt,Xt,Z,$),vt+=Xt,$+=Xt),++wt&Bt||(At+=kt)}break;case 3:if(Ft==Z&&xt==$&&0<At.b){for(vt=Z,Ft=Kt=$+(Lt-wt)*Kt-(Ht=(Lt-wt)*ee(At.Ea,At.b)),xt=Z,Bt=$,kt=[],Ht=(Xt=Ht)-1;0<=Ht;--Ht)kt[Ht]=xt[Bt+Ht];for(Ht=Xt-1;0<=Ht;--Ht)vt[Ft+Ht]=kt[Ht];_a(At,wt,Lt,Z,Kt,Z,$)}else _a(At,wt,Lt,Ft,xt,Z,$)}$=Q,Z=_}Z!=_&&n(Q,_,$,Z,Y)}function Ic(m,b){var _=m.V,Q=m.Ba+m.c*m.C,K=b-m.C;if(t(b<=m.l.o),t(16>=K),0<K){var Y=m.l,W=m.Ta,$=m.Ua,Z=Y.width;if(Ns(m,K,_,Q),K=$=[$],t((_=m.C)<(Q=b)),t(Y.v<Y.va),Q>Y.o&&(Q=Y.o),_<Y.j){var At=Y.j-_;_=Y.j,K[0]+=At*Z}if(_>=Q?_=0:(K[0]+=4*Y.v,Y.ka=_-Y.j,Y.U=Y.va-Y.v,Y.T=Q-_,_=1),_){if($=$[0],11>(_=m.ca).S){var wt=_.f.RGBA,Lt=(Q=_.S,K=Y.U,Y=Y.T,At=wt.eb,wt.A),Ft=Y;for(wt=wt.fb+m.Ma*wt.A;0<Ft--;){var xt=W,Kt=$,kt=K,vt=At,Bt=wt;switch(Q){case qp:ds(xt,Kt,kt,vt,Bt);break;case $r:Xr(xt,Kt,kt,vt,Bt);break;case kf:Xr(xt,Kt,kt,vt,Bt),Is(vt,Bt,0,kt,1,0);break;case Xp:To(xt,Kt,kt,vt,Bt);break;case Ua:sn(xt,Kt,kt,vt,Bt,1);break;case Yp:sn(xt,Kt,kt,vt,Bt,1),Is(vt,Bt,0,kt,1,0);break;case Df:sn(xt,Kt,kt,vt,Bt,0);break;case Fh:sn(xt,Kt,kt,vt,Bt,0),Is(vt,Bt,1,kt,1,0);break;case _h:No(xt,Kt,kt,vt,Bt);break;case Wp:No(xt,Kt,kt,vt,Bt),an(vt,Bt,kt,1,0);break;case Ol:aA(xt,Kt,kt,vt,Bt);break;default:t(0)}$+=Z,wt+=Lt}m.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=_.height)}}m.C=b,t(m.C<=m.i)}function Kr(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var _=m.Ya[b].G,Q=m.Ya[b].H;if(0<_[1][Q[1]+0].g||0<_[2][Q[2]+0].g||0<_[3][Q[3]+0].g)return 0}return 1}function Hn(m,b,_,Q,K,Y){if(m.Z!=0){var W=m.qd,$=m.rd;for(t(ko[m.Z]!=null);b<_;++b)ko[m.Z](W,$,Q,K,Q,K,Y),W=Q,$=K,K+=Y;m.qd=W,m.rd=$}}function hi(m,b){var _=m.l.ma,Q=_.Z==0||_.Z==1?m.l.j:m.C;if(Q=m.C<Q?Q:m.C,t(b<=m.l.o),b>Q){var K=m.l.width,Y=_.ca,W=_.tb+K*Q,$=m.V,Z=m.Ba+m.c*Q,At=m.gc;t(m.ab==1),t(At[0].hc==3),Vp(At[0],Q,b,$,Z,Y,W),Hn(_,Q,b,Y,W,K)}m.C=m.Ma=b}function zr(m,b,_,Q,K,Y,W){var $=m.$/Q,Z=m.$%Q,At=m.m,wt=m.s,Lt=_+m.$,Ft=Lt;K=_+Q*K;var xt=_+Q*Y,Kt=280+wt.ua,kt=m.Pb?$:16777216,vt=0<wt.ua?wt.Wa:null,Bt=wt.wc,Ht=Lt<xt?_i(wt,Z,$):null;t(m.C<Y),t(xt<=K);var Xt=!1;t:for(;;){for(;Xt||Lt<xt;){var Mt=0;if($>=kt){var ae=Lt-_;t((kt=m).Pb),kt.wd=kt.m,kt.xd=ae,0<kt.s.ua&&Ut(kt.s.Wa,kt.s.vb),kt=$+Rl}if(Z&Bt||(Ht=_i(wt,Z,$)),t(Ht!=null),Ht.Qb&&(b[Lt]=Ht.qb,Xt=!0),!Xt)if(ht(At),Ht.jc){Mt=At,ae=b;var ne=Lt,xe=Ht.pd[X(Mt)&dr-1];t(Ht.jc),256>xe.g?(at(Mt,Mt.u+xe.g),ae[ne]=xe.value,Mt=0):(at(Mt,Mt.u+xe.g-256),t(256<=xe.value),Mt=xe.value),Mt==0&&(Xt=!0)}else Mt=cs(Ht.G[0],Ht.H[0],At);if(At.h)break;if(Xt||256>Mt){if(!Xt)if(Ht.nd)b[Lt]=(Ht.qb|Mt<<8)>>>0;else{if(ht(At),Xt=cs(Ht.G[1],Ht.H[1],At),ht(At),ae=cs(Ht.G[2],Ht.H[2],At),ne=cs(Ht.G[3],Ht.H[3],At),At.h)break;b[Lt]=(ne<<24|Xt<<16|Mt<<8|ae)>>>0}if(Xt=!1,++Lt,++Z>=Q&&(Z=0,++$,W!=null&&$<=Y&&!($%16)&&W(m,$),vt!=null))for(;Ft<Lt;)Mt=b[Ft++],vt.X[(506832829*Mt&4294967295)>>>vt.Mb]=Mt}else if(280>Mt){if(Mt=va(Mt-256,At),ae=cs(Ht.G[4],Ht.H[4],At),ht(At),ae=tA(Q,ae=va(ae,At)),At.h)break;if(Lt-_<ae||K-Lt<Mt)break t;for(ne=0;ne<Mt;++ne)b[Lt+ne]=b[Lt+ne-ae];for(Lt+=Mt,Z+=Mt;Z>=Q;)Z-=Q,++$,W!=null&&$<=Y&&!($%16)&&W(m,$);if(t(Lt<=K),Z&Bt&&(Ht=_i(wt,Z,$)),vt!=null)for(;Ft<Lt;)Mt=b[Ft++],vt.X[(506832829*Mt&4294967295)>>>vt.Mb]=Mt}else{if(!(Mt<Kt))break t;for(Xt=Mt-280,t(vt!=null);Ft<Lt;)Mt=b[Ft++],vt.X[(506832829*Mt&4294967295)>>>vt.Mb]=Mt;Mt=Lt,t(!(Xt>>>(ae=vt).Xa)),b[Mt]=ae.X[Xt],Xt=!0}Xt||t(At.h==nt(At))}if(m.Pb&&At.h&&Lt<K)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ut(m.s.vb,m.s.Wa);else{if(At.h)break t;W!=null&&W(m,$>Y?Y:$),m.a=0,m.$=Lt-_}return 1}return m.a=3,0}function ya(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,t(m!=null)}function ba(){var m=new V1;return m==null?null:(m.a=0,m.xb=X1,jA("Predictor","VP8LPredictors"),jA("Predictor","VP8LPredictors_C"),jA("PredictorAdd","VP8LPredictorsAdd"),jA("PredictorAdd","VP8LPredictorsAdd_C"),Gp=dn,Tl=ke,ds=Ae,Xr=jr,No=rn,aA=bi,To=fn,V.VP8LMapColor32b=bh,V.VP8LMapColor8b=qr,m)}function KA(m,b,_,Q,K){var Y=1,W=[m],$=[b],Z=Q.m,At=Q.s,wt=null,Lt=0;t:for(;;){if(_)for(;Y&&Et(Z,1);){var Ft=W,xt=$,Kt=Q,kt=1,vt=Kt.m,Bt=Kt.gc[Kt.ab],Ht=Et(vt,2);if(Kt.Oc&1<<Ht)Y=0;else{switch(Kt.Oc|=1<<Ht,Bt.hc=Ht,Bt.Ea=Ft[0],Bt.nc=xt[0],Bt.K=[null],++Kt.ab,t(4>=Kt.ab),Ht){case 0:case 1:Bt.b=Et(vt,3)+2,kt=KA(ee(Bt.Ea,Bt.b),ee(Bt.nc,Bt.b),0,Kt,Bt.K),Bt.K=Bt.K[0];break;case 3:var Xt,Mt=Et(vt,8)+1,ae=16<Mt?0:4<Mt?1:2<Mt?2:3;if(Ft[0]=ee(Bt.Ea,ae),Bt.b=ae,Xt=kt=KA(Mt,1,0,Kt,Bt.K)){var ne,xe=Mt,re=Bt,En=1<<(8>>re.b),cn=s(En);if(cn==null)Xt=0;else{var mn=re.K[0],Pe=re.w;for(cn[0]=re.K[0][0],ne=1;ne<1*xe;++ne)cn[ne]=Vt(mn[Pe+ne],cn[ne-1]);for(;ne<4*En;++ne)cn[ne]=0;re.K[0]=null,re.K[0]=cn,Xt=1}}kt=Xt;break;case 2:break;default:t(0)}Y=kt}}if(W=W[0],$=$[0],Y&&Et(Z,1)&&!(Y=1<=(Lt=Et(Z,4))&&11>=Lt)){Q.a=3;break t}var In;if(In=Y)e:{var Ln,Ne,Pn,gr=Q,Ui=W,Jr=$,bn=Lt,Tr=_,Ds=gr.m,ir=gr.s,Li=[null],pr=1,ra=0,ka=Ta[bn];n:for(;;){if(Tr&&Et(Ds,1)){var Xi=Et(Ds,3)+2,Pi=ee(Ui,Xi),mr=ee(Jr,Xi),sa=Pi*mr;if(!KA(Pi,mr,0,gr,Li))break n;for(Li=Li[0],ir.xc=Xi,Ln=0;Ln<sa;++Ln){var $A=Li[Ln]>>8&65535;Li[Ln]=$A,$A>=pr&&(pr=$A+1)}}if(Ds.h)break n;for(Ne=0;5>Ne;++Ne){var Ci=Vc[Ne];!Ne&&0<bn&&(Ci+=1<<bn),ra<Ci&&(ra=Ci)}var JA=A(pr*ka,G),ks=pr,Ni=A(ks,it);if(Ni==null)var Yc=null;else t(65536>=ks),Yc=Ni;var aa=s(ra);if(Yc==null||aa==null||JA==null){gr.a=1;break n}var He=JA;for(Ln=Pn=0;Ln<pr;++Ln){var en=Yc[Ln],si=en.G,Oo=en.H,Wc=0,ZA=1,Hf=0;for(Ne=0;5>Ne;++Ne){Ci=Vc[Ne],si[Ne]=He,Oo[Ne]=Pn,!Ne&&0<bn&&(Ci+=1<<bn);r:{var zl,Gl=Ci,i0=gr,qn=aa,W1=He,$1=Pn,r0=0,Ro=i0.m,pC=Et(Ro,1);if(i(qn,0,0,Gl),pC){var J1=Et(Ro,1)+1,Z1=Et(Ro,1),s0=Et(Ro,Z1==0?1:8);qn[s0]=1,J1==2&&(qn[s0=Et(Ro,8)]=1);var wr=1}else{var Ti=s(19),Pf=Et(Ro,4)+4;if(19<Pf){i0.a=3;var Vl=0;break r}for(zl=0;zl<Pf;++zl)Ti[Of[zl]]=Et(Ro,3);var Qh=void 0,$c=void 0,to=i0,a0=Ti,Ih=Gl,A0=qn,o0=0,Mo=to.m,tw=8,ew=A(128,G);i:for(;H(ew,0,7,a0,19);){if(Et(Mo,1)){var Ub=2+2*Et(Mo,3);if((Qh=2+Et(Mo,Ub))>Ih)break i}else Qh=Ih;for($c=0;$c<Ih&&Qh--;){ht(Mo);var nw=ew[0+(127&X(Mo))];at(Mo,Mo.u+nw.g);var ql=nw.value;if(16>ql)A0[$c++]=ql,ql!=0&&(tw=ql);else{var Lb=ql==16,Nb=ql-16,Tb=Uh[Nb],iw=Et(Mo,La[Nb])+Tb;if($c+iw>Ih)break i;for(var Qb=Lb?tw:0;0<iw--;)A0[$c++]=Qb}}o0=1;break i}o0||(to.a=3),wr=o0}(wr=wr&&!Ro.h)&&(r0=H(W1,$1,8,qn,Gl)),wr&&r0!=0?Vl=r0:(i0.a=3,Vl=0)}if(Vl==0)break n;if(ZA&&$p[Ne]==1&&(ZA=He[Pn].g==0),Wc+=He[Pn].g,Pn+=Vl,3>=Ne){var Jc,l0=aa[0];for(Jc=1;Jc<Ci;++Jc)aa[Jc]>l0&&(l0=aa[Jc]);Hf+=l0}}if(en.nd=ZA,en.Qb=0,ZA&&(en.qb=(si[3][Oo[3]+0].value<<24|si[1][Oo[1]+0].value<<16|si[2][Oo[2]+0].value)>>>0,Wc==0&&256>si[0][Oo[0]+0].value&&(en.Qb=1,en.qb+=si[0][Oo[0]+0].value<<8)),en.jc=!en.Qb&&6>Hf,en.jc){var jf,eo=en;for(jf=0;jf<dr;++jf){var Ho=jf,Po=eo.pd[Ho],c0=eo.G[0][eo.H[0]+Ho];256<=c0.value?(Po.g=c0.g+256,Po.value=c0.value):(Po.g=0,Po.value=0,Ho>>=Ri(c0,8,Po),Ho>>=Ri(eo.G[1][eo.H[1]+Ho],16,Po),Ho>>=Ri(eo.G[2][eo.H[2]+Ho],0,Po),Ri(eo.G[3][eo.H[3]+Ho],24,Po))}}}ir.vc=Li,ir.Wb=pr,ir.Ya=Yc,ir.yc=JA,In=1;break e}In=0}if(!(Y=In)){Q.a=3;break t}if(0<Lt){if(At.ua=1<<Lt,!Gt(At.Wa,Lt)){Q.a=1,Y=0;break t}}else At.ua=0;var u0=Q,Zc=W,Ib=$,Dh=u0.s,kh=Dh.xc;if(u0.c=Zc,u0.i=Ib,Dh.md=ee(Zc,kh),Dh.wc=kh==0?-1:(1<<kh)-1,_){Q.xb=Ml;break t}if((wt=s(W*$))==null){Q.a=1,Y=0;break t}Y=(Y=zr(Q,wt,0,W,$,$,null))&&!Z.h;break t}return Y?(K!=null?K[0]=wt:(t(wt==null),t(_)),Q.$=0,_||ya(At)):ya(At),Y}function ml(m,b){var _=m.c*m.i,Q=_+b+16*b;return t(m.c<=b),m.V=s(Q),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+_+b,1)}function zA(m,b){var _=m.C,Q=b-_,K=m.V,Y=m.Ba+m.c*_;for(t(b<=m.l.o);0<Q;){var W=16<Q?16:Q,$=m.l.ma,Z=m.l.width,At=Z*W,wt=$.ca,Lt=$.tb+Z*_,Ft=m.Ta,xt=m.Ua;Ns(m,W,K,Y),xn(Ft,xt,wt,Lt,At),Hn($,_,_+W,wt,Lt,Z),Q-=W,K+=W*m.c,_+=W}t(_==b),m.C=m.Ma=b}function wl(){this.ub=this.yd=this.td=this.Rb=0}function eA(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function nA(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function vl(){this.Yb=(function(){var m=[];return(function b(_,Q,K){for(var Y=K[Q],W=0;W<Y&&(_.push(K.length>Q+1?[]:0),!(K.length<Q+1));W++)b(_[W],Q+1,K)})(m,0,[3,11]),m})()}function yl(){this.jb=s(3),this.Wc=l([4,8],vl),this.Xc=l([4,17],vl)}function qi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Dc(){this.ld=this.La=this.dd=this.tc=0}function pf(){this.Na=this.la=0}function So(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function GA(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function K1(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dc),this.Y=0,this.ya=Array(new GA),this.aa=0,this.l=new ah}function mf(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ip(){this.cb=this.a=0,this.sc="",this.m=new st,this.Od=new wl,this.Kc=new eA,this.ed=new qi,this.Qa=new nA,this.Ic=this.$c=this.Aa=0,this.D=new K1,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,st),this.ia=0,this.pb=A(4,So),this.Pa=new yl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new mf),this.Hd=0,this.rb=Array(new pf),this.sb=0,this.wa=Array(new Dc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new GA),this.L=this.aa=0,this.gd=l([4,2],Dc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ah(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ah(){var m=new Ip;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,ia||(ia=wf)),m}function di(m,b,_){return m.a==0&&(m.a=b,m.sc=_,m.cb=0),0}function Ba(m,b,_){return 3<=_&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function us(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return di(m,2,"null VP8Io passed to VP8GetHeaders()");var _=b.data,Q=b.w,K=b.ha;if(4>K)return di(m,7,"Truncated header.");var Y=_[Q+0]|_[Q+1]<<8|_[Q+2]<<16,W=m.Od;if(W.Rb=!(1&Y),W.td=Y>>1&7,W.yd=Y>>4&1,W.ub=Y>>5,3<W.td)return di(m,3,"Incorrect keyframe parameters.");if(!W.yd)return di(m,4,"Frame not displayable.");Q+=3,K-=3;var $=m.Kc;if(W.Rb){if(7>K)return di(m,7,"cannot parse picture header");if(!Ba(_,Q,K))return di(m,3,"Bad code word");$.c=16383&(_[Q+4]<<8|_[Q+3]),$.Td=_[Q+4]>>6,$.i=16383&(_[Q+6]<<8|_[Q+5]),$.Ud=_[Q+6]>>6,Q+=7,K-=7,m.za=$.c+15>>4,m.Ub=$.i+15>>4,b.width=$.c,b.height=$.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((Y=m.Pa).jb,0,255,Y.jb.length),t((Y=m.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(W.ub>K)return di(m,7,"bad partition length");mt(Y=m.m,_,Q,W.ub),Q+=W.ub,K-=W.ub,W.Rb&&($.Ld=ft(Y),$.Kd=ft(Y)),$=m.Qa;var Z,At=m.Pa;if(t(Y!=null),t($!=null),$.Cb=ft(Y),$.Cb){if($.Bb=ft(Y),ft(Y)){for($.Fb=ft(Y),Z=0;4>Z;++Z)$.Zb[Z]=ft(Y)?rt(Y,7):0;for(Z=0;4>Z;++Z)$.Lb[Z]=ft(Y)?rt(Y,6):0}if($.Bb)for(Z=0;3>Z;++Z)At.jb[Z]=ft(Y)?q(Y,8):255}else $.Bb=0;if(Y.Ka)return di(m,3,"cannot parse segment header");if(($=m.ed).zd=ft(Y),$.Tb=q(Y,6),$.wb=q(Y,3),$.Pc=ft(Y),$.Pc&&ft(Y)){for(At=0;4>At;++At)ft(Y)&&($.vd[At]=rt(Y,6));for(At=0;4>At;++At)ft(Y)&&($.od[At]=rt(Y,6))}if(m.L=$.Tb==0?0:$.zd?1:2,Y.Ka)return di(m,3,"cannot parse filter header");var wt=K;if(K=Z=Q,Q=Z+wt,$=wt,m.Xb=(1<<q(m.m,2))-1,wt<3*(At=m.Xb))_=7;else{for(Z+=3*At,$-=3*At,wt=0;wt<At;++wt){var Lt=_[K+0]|_[K+1]<<8|_[K+2]<<16;Lt>$&&(Lt=$),mt(m.Jc[+wt],_,Z,Lt),Z+=Lt,$-=Lt,K+=3}mt(m.Jc[+At],_,Z,$),_=Z<Q?0:5}if(_!=0)return di(m,_,"cannot parse partitions");for(_=q(Z=m.m,7),K=ft(Z)?rt(Z,4):0,Q=ft(Z)?rt(Z,4):0,$=ft(Z)?rt(Z,4):0,At=ft(Z)?rt(Z,4):0,Z=ft(Z)?rt(Z,4):0,wt=m.Qa,Lt=0;4>Lt;++Lt){if(wt.Cb){var Ft=wt.Zb[Lt];wt.Fb||(Ft+=_)}else{if(0<Lt){m.pb[Lt]=m.pb[0];continue}Ft=_}var xt=m.pb[Lt];xt.Sc[0]=Qa[ta(Ft+K,127)],xt.Sc[1]=Ia[ta(Ft+0,127)],xt.Eb[0]=2*Qa[ta(Ft+Q,127)],xt.Eb[1]=101581*Ia[ta(Ft+$,127)]>>16,8>xt.Eb[1]&&(xt.Eb[1]=8),xt.Qc[0]=Qa[ta(Ft+At,117)],xt.Qc[1]=Ia[ta(Ft+Z,127)],xt.lc=Ft+Z}if(!W.Rb)return di(m,4,"Not a key frame.");for(ft(Y),W=m.Pa,_=0;4>_;++_){for(K=0;8>K;++K)for(Q=0;3>Q;++Q)for($=0;11>$;++$)At=Ct(Y,ri[_][K][Q][$])?q(Y,8):_b[_][K][Q][$],W.Wc[_][K].Yb[Q][$]=At;for(K=0;17>K;++K)W.Xc[_][K]=W.Wc[_][ln[K]]}return m.kc=ft(Y),m.kc&&(m.Bd=q(Y,8)),m.cb=1}function wf(m,b,_,Q,K,Y,W){var $=b[K].Yb[_];for(_=0;16>K;++K){if(!Ct(m,$[_+0]))return K;for(;!Ct(m,$[_+1]);)if($=b[++K].Yb[0],_=0,K==16)return 16;var Z=b[K+1].Yb;if(Ct(m,$[_+2])){var At=m,wt=0;if(Ct(At,(Ft=$)[(Lt=_)+3]))if(Ct(At,Ft[Lt+6])){for($=0,Lt=2*(wt=Ct(At,Ft[Lt+8]))+(Ft=Ct(At,Ft[Lt+9+wt])),wt=0,Ft=Sb[Lt];Ft[$];++$)wt+=wt+Ct(At,Ft[$]);wt+=3+(8<<Lt)}else Ct(At,Ft[Lt+7])?(wt=7+2*Ct(At,165),wt+=Ct(At,145)):wt=5+Ct(At,159);else wt=Ct(At,Ft[Lt+4])?3+Ct(At,Ft[Lt+5]):2;$=Z[2]}else wt=1,$=Z[1];Z=W+q1[K],0>(At=m).b&&gt(At);var Lt,Ft=At.b,xt=(Lt=At.Ca>>1)-(At.I>>Ft)>>31;--At.b,At.Ca+=xt,At.Ca|=1,At.I-=(Lt+1&xt)<<Ft,Y[Z]=((wt^xt)-xt)*Q[(0<K)+0]}return 16}function vf(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function yf(m,b){if(m==null)return 0;if(b==null)return di(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!us(m,b))return 0;if(t(m.cb),b.ac==null||b.ac(b)){b.ob&&(m.L=0);var _=Th[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=b.v-_>>4,m.zb=b.j-_>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=b.o+15+_>>4,m.Hb=b.va+15+_>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var Q=m.ed;for(_=0;4>_;++_){var K;if(m.Qa.Cb){var Y=m.Qa.Lb[_];m.Qa.Fb||(Y+=Q.Tb)}else Y=Q.Tb;for(K=0;1>=K;++K){var W=m.gd[_][K],$=Y;if(Q.Pc&&($+=Q.vd[0],K&&($+=Q.od[0])),0<($=0>$?0:63<$?63:$)){var Z=$;0<Q.wb&&(Z=4<Q.wb?Z>>2:Z>>1)>9-Q.wb&&(Z=9-Q.wb),1>Z&&(Z=1),W.dd=Z,W.tc=2*$+Z,W.ld=40<=$?2:15<=$?1:0}else W.tc=0;W.La=K}}}_=0}else di(m,6,"Frame setup failed"),_=m.a;if(_=_==0){if(_){m.$c=0,0<m.Aa||(m.Ic=Mf);t:{_=m.Ic,Q=4*(Z=m.za);var At=32*Z,wt=Z+1,Lt=0<m.L?Z*(0<m.Aa?2:1):0,Ft=(m.Aa==2?2:1)*Z;if((W=Q+832+(K=3*(16*_+Th[m.L])/2*At)+(Y=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=W)_=0;else{if(W>m.Vb){if(m.Vb=0,m.Ec=s(W),m.Fc=0,m.Ec==null){_=di(m,1,"no memory during frame initialization.");break t}m.Vb=W}W=m.Ec,$=m.Fc,m.Ac=W,m.Bc=$,$+=Q,m.Gd=A(At,mf),m.Hd=0,m.rb=A(wt+1,pf),m.sb=1,m.wa=Lt?A(Lt,Dc):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=Z),t(!0),m.oc=W,m.pc=$,$+=832,m.ya=A(Ft,GA),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=Z),m.R=16*Z,m.B=8*Z,Z=(At=Th[m.L])*m.R,At=At/2*m.B,m.sa=W,m.ta=$+Z,m.qa=m.sa,m.ra=m.ta+16*_*m.R+At,m.Ha=m.qa,m.Ia=m.ra+8*_*m.B+At,m.$c=0,$+=K,m.mb=Y?W:null,m.nb=Y?$:null,t($+Y<=m.Fc+m.Vb),vf(m),i(m.Ac,m.Bc,0,Q),_=1}}if(_){if(b.ka=0,b.y=m.sa,b.O=m.ta,b.f=m.qa,b.N=m.ra,b.ea=m.Ha,b.Vd=m.Ia,b.fa=m.R,b.Rc=m.B,b.F=null,b.J=0,!Sh){for(_=-255;255>=_;++_)pi[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)cA[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)kl[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Io[255+_]=0>_?0:255<_?255:_;Sh=1}AA=kp,oA=Dp,zc=lh,Yr=bl,fr=bf,ii=oh,lA=Ef,Bh=Hc,Ch=G1,ea=_f,Ql=Sf,Qo=ph,Il=Ff,xh=Pp,Gc=fh,Dl=Sa,Eh=Zs,na=gh,Fi[0]=xa,Fi[1]=z1,Fi[2]=Bl,Fi[3]=Mp,Fi[4]=Cf,Fi[5]=Qs,Fi[6]=Cl,Fi[7]=Oc,Fi[8]=qA,Fi[9]=Rc,fs[0]=kc,fs[1]=Rp,fs[2]=iA,fs[3]=ch,fs[4]=fi,fs[5]=Bf,fs[6]=hh,uA[0]=rA,uA[1]=Op,uA[2]=xf,uA[3]=xl,uA[4]=Sl,uA[5]=dh,uA[6]=hr,_=1}else _=0}_&&(_=(function(xt,Kt){for(xt.M=0;xt.M<xt.Va;++xt.M){var kt,vt=xt.Jc[xt.M&xt.Xb],Bt=xt.m,Ht=xt;for(kt=0;kt<Ht.za;++kt){var Xt=Bt,Mt=Ht,ae=Mt.Ac,ne=Mt.Bc+4*kt,xe=Mt.zc,re=Mt.ya[Mt.aa+kt];if(Mt.Qa.Bb?re.$b=Ct(Xt,Mt.Pa.jb[0])?2+Ct(Xt,Mt.Pa.jb[2]):Ct(Xt,Mt.Pa.jb[1]):re.$b=0,Mt.kc&&(re.Ad=Ct(Xt,Mt.Bd)),re.Za=!Ct(Xt,145)+0,re.Za){var En=re.Ob,cn=0;for(Mt=0;4>Mt;++Mt){var mn,Pe=xe[0+Mt];for(mn=0;4>mn;++mn){Pe=Ur[ae[ne+mn]][Pe];for(var In=Jp[Ct(Xt,Pe[0])];0<In;)In=Jp[2*In+Ct(Xt,Pe[In])];Pe=-In,ae[ne+mn]=Pe}n(En,cn,ae,ne,4),cn+=4,xe[0+Mt]=Pe}}else Pe=Ct(Xt,156)?Ct(Xt,128)?1:3:Ct(Xt,163)?2:0,re.Ob[0]=Pe,i(ae,ne,Pe,4),i(xe,0,Pe,4);re.Dd=Ct(Xt,142)?Ct(Xt,114)?Ct(Xt,183)?1:3:2:0}if(Ht.m.Ka)return di(xt,7,"Premature end-of-partition0 encountered.");for(;xt.ja<xt.za;++xt.ja){if(Ht=vt,Xt=(Bt=xt).rb[Bt.sb-1],ae=Bt.rb[Bt.sb+Bt.ja],kt=Bt.ya[Bt.aa+Bt.ja],ne=Bt.kc?kt.Ad:0)Xt.la=ae.la=0,kt.Za||(Xt.Na=ae.Na=0),kt.Hc=0,kt.Gc=0,kt.ia=0;else{var Ln,Ne;if(Xt=ae,ae=Ht,ne=Bt.Pa.Xc,xe=Bt.ya[Bt.aa+Bt.ja],re=Bt.pb[xe.$b],Mt=xe.ad,En=0,cn=Bt.rb[Bt.sb-1],Pe=mn=0,i(Mt,En,0,384),xe.Za)var Pn=0,gr=ne[3];else{In=s(16);var Ui=Xt.Na+cn.Na;if(Ui=ia(ae,ne[1],Ui,re.Eb,0,In,0),Xt.Na=cn.Na=(0<Ui)+0,1<Ui)AA(In,0,Mt,En);else{var Jr=In[0]+3>>3;for(In=0;256>In;In+=16)Mt[En+In]=Jr}Pn=1,gr=ne[0]}var bn=15&Xt.la,Tr=15&cn.la;for(In=0;4>In;++In){var Ds=1&Tr;for(Jr=Ne=0;4>Jr;++Jr)bn=bn>>1|(Ds=(Ui=ia(ae,gr,Ui=Ds+(1&bn),re.Sc,Pn,Mt,En))>Pn)<<7,Ne=Ne<<2|(3<Ui?3:1<Ui?2:Mt[En+0]!=0),En+=16;bn>>=4,Tr=Tr>>1|Ds<<7,mn=(mn<<8|Ne)>>>0}for(gr=bn,Pn=Tr>>4,Ln=0;4>Ln;Ln+=2){for(Ne=0,bn=Xt.la>>4+Ln,Tr=cn.la>>4+Ln,In=0;2>In;++In){for(Ds=1&Tr,Jr=0;2>Jr;++Jr)Ui=Ds+(1&bn),bn=bn>>1|(Ds=0<(Ui=ia(ae,ne[2],Ui,re.Qc,0,Mt,En)))<<3,Ne=Ne<<2|(3<Ui?3:1<Ui?2:Mt[En+0]!=0),En+=16;bn>>=2,Tr=Tr>>1|Ds<<5}Pe|=Ne<<4*Ln,gr|=bn<<4<<Ln,Pn|=(240&Tr)<<Ln}Xt.la=gr,cn.la=Pn,xe.Hc=mn,xe.Gc=Pe,xe.ia=43690&Pe?0:re.ia,ne=!(mn|Pe)}if(0<Bt.L&&(Bt.wa[Bt.Y+Bt.ja]=Bt.gd[kt.$b][kt.Za],Bt.wa[Bt.Y+Bt.ja].La|=!ne),Ht.Ka)return di(xt,7,"Premature end-of-file encountered.")}if(vf(xt),Bt=Kt,Ht=1,kt=(vt=xt).D,Xt=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(kt.M=vt.M,kt.uc=Xt,vh(vt,kt),Ht=1,kt=(Ne=vt.D).Nb,Xt=(Pe=Th[vt.L])*vt.R,ae=Pe/2*vt.B,In=16*kt*vt.R,Jr=8*kt*vt.B,ne=vt.sa,xe=vt.ta-Xt+In,re=vt.qa,Mt=vt.ra-ae+Jr,En=vt.Ha,cn=vt.Ia-ae+Jr,Tr=(bn=Ne.M)==0,mn=bn>=vt.Va-1,vt.Aa==2&&vh(vt,Ne),Ne.uc)for(Ds=(Ui=vt).D.M,t(Ui.D.uc),Ne=Ui.yb;Ne<Ui.Hb;++Ne){Pn=Ne,gr=Ds;var ir=(Li=(Ci=Ui).D).Nb;Ln=Ci.R;var Li=Li.wa[Li.Y+Pn],pr=Ci.sa,ra=Ci.ta+16*ir*Ln+16*Pn,ka=Li.dd,Xi=Li.tc;if(Xi!=0)if(t(3<=Xi),Ci.L==1)0<Pn&&Dl(pr,ra,Ln,Xi+4),Li.La&&na(pr,ra,Ln,Xi),0<gr&&Gc(pr,ra,Ln,Xi+4),Li.La&&Eh(pr,ra,Ln,Xi);else{var Pi=Ci.B,mr=Ci.qa,sa=Ci.ra+8*ir*Pi+8*Pn,$A=Ci.Ha,Ci=Ci.Ia+8*ir*Pi+8*Pn;ir=Li.ld,0<Pn&&(Bh(pr,ra,Ln,Xi+4,ka,ir),ea(mr,sa,$A,Ci,Pi,Xi+4,ka,ir)),Li.La&&(Qo(pr,ra,Ln,Xi,ka,ir),xh(mr,sa,$A,Ci,Pi,Xi,ka,ir)),0<gr&&(lA(pr,ra,Ln,Xi+4,ka,ir),Ch(mr,sa,$A,Ci,Pi,Xi+4,ka,ir)),Li.La&&(Ql(pr,ra,Ln,Xi,ka,ir),Il(mr,sa,$A,Ci,Pi,Xi,ka,ir))}}if(vt.ia&&alert("todo:DitherRow"),Bt.put!=null){if(Ne=16*bn,bn=16*(bn+1),Tr?(Bt.y=vt.sa,Bt.O=vt.ta+In,Bt.f=vt.qa,Bt.N=vt.ra+Jr,Bt.ea=vt.Ha,Bt.W=vt.Ia+Jr):(Ne-=Pe,Bt.y=ne,Bt.O=xe,Bt.f=re,Bt.N=Mt,Bt.ea=En,Bt.W=cn),mn||(bn-=Pe),bn>Bt.o&&(bn=Bt.o),Bt.F=null,Bt.J=null,vt.Fa!=null&&0<vt.Fa.length&&Ne<bn&&(Bt.J=mh(vt,Bt,Ne,bn-Ne),Bt.F=vt.mb,Bt.F==null&&Bt.F.length==0)){Ht=di(vt,3,"Could not decode alpha data.");break t}Ne<Bt.j&&(Pe=Bt.j-Ne,Ne=Bt.j,t(!(1&Pe)),Bt.O+=vt.R*Pe,Bt.N+=vt.B*(Pe>>1),Bt.W+=vt.B*(Pe>>1),Bt.F!=null&&(Bt.J+=Bt.width*Pe)),Ne<bn&&(Bt.O+=Bt.v,Bt.N+=Bt.v>>1,Bt.W+=Bt.v>>1,Bt.F!=null&&(Bt.J+=Bt.v),Bt.ka=Ne-Bt.j,Bt.U=Bt.va-Bt.v,Bt.T=bn-Ne,Ht=Bt.put(Bt))}kt+1!=vt.Ic||mn||(n(vt.sa,vt.ta-Xt,ne,xe+16*vt.R,Xt),n(vt.qa,vt.ra-ae,re,Mt+8*vt.B,ae),n(vt.Ha,vt.Ia-ae,En,cn+8*vt.B,ae))}if(!Ht)return di(xt,6,"Output aborted.")}return 1})(m,b)),b.bc!=null&&b.bc(b),_&=1}return _?(m.cb=0,_):0}function Ca(m,b,_,Q,K){K=m[b+_+32*Q]+(K>>3),m[b+_+32*Q]=-256&K?0>K?0:255:K}function _o(m,b,_,Q,K,Y){Ca(m,b,0,_,Q+K),Ca(m,b,1,_,Q+Y),Ca(m,b,2,_,Q-Y),Ca(m,b,3,_,Q-K)}function Ts(m){return(20091*m>>16)+m}function Gr(m,b,_,Q){var K,Y=0,W=s(16);for(K=0;4>K;++K){var $=m[b+0]+m[b+8],Z=m[b+0]-m[b+8],At=(35468*m[b+4]>>16)-Ts(m[b+12]),wt=Ts(m[b+4])+(35468*m[b+12]>>16);W[Y+0]=$+wt,W[Y+1]=Z+At,W[Y+2]=Z-At,W[Y+3]=$-wt,Y+=4,b++}for(K=Y=0;4>K;++K)$=(m=W[Y+0]+4)+W[Y+8],Z=m-W[Y+8],At=(35468*W[Y+4]>>16)-Ts(W[Y+12]),Ca(_,Q,0,0,$+(wt=Ts(W[Y+4])+(35468*W[Y+12]>>16))),Ca(_,Q,1,0,Z+At),Ca(_,Q,2,0,Z-At),Ca(_,Q,3,0,$-wt),Y++,Q+=32}function oh(m,b,_,Q){var K=m[b+0]+4,Y=35468*m[b+4]>>16,W=Ts(m[b+4]),$=35468*m[b+1]>>16;_o(_,Q,0,K+W,m=Ts(m[b+1]),$),_o(_,Q,1,K+Y,m,$),_o(_,Q,2,K-Y,m,$),_o(_,Q,3,K-W,m,$)}function Dp(m,b,_,Q,K){Gr(m,b,_,Q),K&&Gr(m,b+16,_,Q+4)}function lh(m,b,_,Q){oA(m,b+0,_,Q,1),oA(m,b+32,_,Q+128,1)}function bl(m,b,_,Q){var K;for(m=m[b+0]+4,K=0;4>K;++K)for(b=0;4>b;++b)Ca(_,Q,b,K,m)}function bf(m,b,_,Q){m[b+0]&&Yr(m,b+0,_,Q),m[b+16]&&Yr(m,b+16,_,Q+4),m[b+32]&&Yr(m,b+32,_,Q+128),m[b+48]&&Yr(m,b+48,_,Q+128+4)}function kp(m,b,_,Q){var K,Y=s(16);for(K=0;4>K;++K){var W=m[b+0+K]+m[b+12+K],$=m[b+4+K]+m[b+8+K],Z=m[b+4+K]-m[b+8+K],At=m[b+0+K]-m[b+12+K];Y[0+K]=W+$,Y[8+K]=W-$,Y[4+K]=At+Z,Y[12+K]=At-Z}for(K=0;4>K;++K)W=(m=Y[0+4*K]+3)+Y[3+4*K],$=Y[1+4*K]+Y[2+4*K],Z=Y[1+4*K]-Y[2+4*K],At=m-Y[3+4*K],_[Q+0]=W+$>>3,_[Q+16]=At+Z>>3,_[Q+32]=W-$>>3,_[Q+48]=At-Z>>3,Q+=64}function VA(m,b,_){var Q,K=b-32,Y=Wr,W=255-m[K-1];for(Q=0;Q<_;++Q){var $,Z=Y,At=W+m[b-1];for($=0;$<_;++$)m[b+$]=Z[At+m[K+$]];b+=32}}function z1(m,b){VA(m,b,4)}function Op(m,b){VA(m,b,8)}function Rp(m,b){VA(m,b,16)}function iA(m,b){var _;for(_=0;16>_;++_)n(m,b+32*_,m,b-32,16)}function ch(m,b){var _;for(_=16;0<_;--_)i(m,b,m[b-1],16),b+=32}function uh(m,b,_){var Q;for(Q=0;16>Q;++Q)i(b,_+32*Q,m,16)}function kc(m,b){var _,Q=16;for(_=0;16>_;++_)Q+=m[b-1+32*_]+m[b+_-32];uh(Q>>5,m,b)}function fi(m,b){var _,Q=8;for(_=0;16>_;++_)Q+=m[b-1+32*_];uh(Q>>4,m,b)}function Bf(m,b){var _,Q=8;for(_=0;16>_;++_)Q+=m[b+_-32];uh(Q>>4,m,b)}function hh(m,b){uh(128,m,b)}function Ue(m,b,_){return m+2*b+_+2>>2}function Bl(m,b){var _,Q=b-32;for(Q=new Uint8Array([Ue(m[Q-1],m[Q+0],m[Q+1]),Ue(m[Q+0],m[Q+1],m[Q+2]),Ue(m[Q+1],m[Q+2],m[Q+3]),Ue(m[Q+2],m[Q+3],m[Q+4])]),_=0;4>_;++_)n(m,b+32*_,Q,0,Q.length)}function Mp(m,b){var _=m[b-1],Q=m[b-1+32],K=m[b-1+64],Y=m[b-1+96];qt(m,b+0,16843009*Ue(m[b-1-32],_,Q)),qt(m,b+32,16843009*Ue(_,Q,K)),qt(m,b+64,16843009*Ue(Q,K,Y)),qt(m,b+96,16843009*Ue(K,Y,Y))}function xa(m,b){var _,Q=4;for(_=0;4>_;++_)Q+=m[b+_-32]+m[b-1+32*_];for(Q>>=3,_=0;4>_;++_)i(m,b+32*_,Q,4)}function Cf(m,b){var _=m[b-1+0],Q=m[b-1+32],K=m[b-1+64],Y=m[b-1-32],W=m[b+0-32],$=m[b+1-32],Z=m[b+2-32],At=m[b+3-32];m[b+0+96]=Ue(Q,K,m[b-1+96]),m[b+1+96]=m[b+0+64]=Ue(_,Q,K),m[b+2+96]=m[b+1+64]=m[b+0+32]=Ue(Y,_,Q),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=Ue(W,Y,_),m[b+3+64]=m[b+2+32]=m[b+1+0]=Ue($,W,Y),m[b+3+32]=m[b+2+0]=Ue(Z,$,W),m[b+3+0]=Ue(At,Z,$)}function Cl(m,b){var _=m[b+1-32],Q=m[b+2-32],K=m[b+3-32],Y=m[b+4-32],W=m[b+5-32],$=m[b+6-32],Z=m[b+7-32];m[b+0+0]=Ue(m[b+0-32],_,Q),m[b+1+0]=m[b+0+32]=Ue(_,Q,K),m[b+2+0]=m[b+1+32]=m[b+0+64]=Ue(Q,K,Y),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=Ue(K,Y,W),m[b+3+32]=m[b+2+64]=m[b+1+96]=Ue(Y,W,$),m[b+3+64]=m[b+2+96]=Ue(W,$,Z),m[b+3+96]=Ue($,Z,Z)}function Qs(m,b){var _=m[b-1+0],Q=m[b-1+32],K=m[b-1+64],Y=m[b-1-32],W=m[b+0-32],$=m[b+1-32],Z=m[b+2-32],At=m[b+3-32];m[b+0+0]=m[b+1+64]=Y+W+1>>1,m[b+1+0]=m[b+2+64]=W+$+1>>1,m[b+2+0]=m[b+3+64]=$+Z+1>>1,m[b+3+0]=Z+At+1>>1,m[b+0+96]=Ue(K,Q,_),m[b+0+64]=Ue(Q,_,Y),m[b+0+32]=m[b+1+96]=Ue(_,Y,W),m[b+1+32]=m[b+2+96]=Ue(Y,W,$),m[b+2+32]=m[b+3+96]=Ue(W,$,Z),m[b+3+32]=Ue($,Z,At)}function Oc(m,b){var _=m[b+0-32],Q=m[b+1-32],K=m[b+2-32],Y=m[b+3-32],W=m[b+4-32],$=m[b+5-32],Z=m[b+6-32],At=m[b+7-32];m[b+0+0]=_+Q+1>>1,m[b+1+0]=m[b+0+64]=Q+K+1>>1,m[b+2+0]=m[b+1+64]=K+Y+1>>1,m[b+3+0]=m[b+2+64]=Y+W+1>>1,m[b+0+32]=Ue(_,Q,K),m[b+1+32]=m[b+0+96]=Ue(Q,K,Y),m[b+2+32]=m[b+1+96]=Ue(K,Y,W),m[b+3+32]=m[b+2+96]=Ue(Y,W,$),m[b+3+64]=Ue(W,$,Z),m[b+3+96]=Ue($,Z,At)}function Rc(m,b){var _=m[b-1+0],Q=m[b-1+32],K=m[b-1+64],Y=m[b-1+96];m[b+0+0]=_+Q+1>>1,m[b+2+0]=m[b+0+32]=Q+K+1>>1,m[b+2+32]=m[b+0+64]=K+Y+1>>1,m[b+1+0]=Ue(_,Q,K),m[b+3+0]=m[b+1+32]=Ue(Q,K,Y),m[b+3+32]=m[b+1+64]=Ue(K,Y,Y),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=Y}function qA(m,b){var _=m[b-1+0],Q=m[b-1+32],K=m[b-1+64],Y=m[b-1+96],W=m[b-1-32],$=m[b+0-32],Z=m[b+1-32],At=m[b+2-32];m[b+0+0]=m[b+2+32]=_+W+1>>1,m[b+0+32]=m[b+2+64]=Q+_+1>>1,m[b+0+64]=m[b+2+96]=K+Q+1>>1,m[b+0+96]=Y+K+1>>1,m[b+3+0]=Ue($,Z,At),m[b+2+0]=Ue(W,$,Z),m[b+1+0]=m[b+3+32]=Ue(_,W,$),m[b+1+32]=m[b+3+64]=Ue(Q,_,W),m[b+1+64]=m[b+3+96]=Ue(K,Q,_),m[b+1+96]=Ue(Y,K,Q)}function xf(m,b){var _;for(_=0;8>_;++_)n(m,b+32*_,m,b-32,8)}function xl(m,b){var _;for(_=0;8>_;++_)i(m,b,m[b-1],8),b+=32}function El(m,b,_){var Q;for(Q=0;8>Q;++Q)i(b,_+32*Q,m,8)}function rA(m,b){var _,Q=8;for(_=0;8>_;++_)Q+=m[b+_-32]+m[b-1+32*_];El(Q>>4,m,b)}function dh(m,b){var _,Q=4;for(_=0;8>_;++_)Q+=m[b+_-32];El(Q>>3,m,b)}function Sl(m,b){var _,Q=4;for(_=0;8>_;++_)Q+=m[b-1+32*_];El(Q>>3,m,b)}function hr(m,b){El(128,m,b)}function Ea(m,b,_){var Q=m[b-_],K=m[b+0],Y=3*(K-Q)+Do[1020+m[b-2*_]-m[b+_]],W=If[112+(Y+4>>3)];m[b-_]=Wr[255+Q+If[112+(Y+3>>3)]],m[b+0]=Wr[255+K-W]}function Mc(m,b,_,Q){var K=m[b+0],Y=m[b+_];return Fr[255+m[b-2*_]-m[b-_]]>Q||Fr[255+Y-K]>Q}function _l(m,b,_,Q){return 4*Fr[255+m[b-_]-m[b+0]]+Fr[255+m[b-2*_]-m[b+_]]<=Q}function Hp(m,b,_,Q,K){var Y=m[b-3*_],W=m[b-2*_],$=m[b-_],Z=m[b+0],At=m[b+_],wt=m[b+2*_],Lt=m[b+3*_];return 4*Fr[255+$-Z]+Fr[255+W-At]>Q?0:Fr[255+m[b-4*_]-Y]<=K&&Fr[255+Y-W]<=K&&Fr[255+W-$]<=K&&Fr[255+Lt-wt]<=K&&Fr[255+wt-At]<=K&&Fr[255+At-Z]<=K}function fh(m,b,_,Q){var K=2*Q+1;for(Q=0;16>Q;++Q)_l(m,b+Q,_,K)&&Ea(m,b+Q,_)}function Sa(m,b,_,Q){var K=2*Q+1;for(Q=0;16>Q;++Q)_l(m,b+Q*_,1,K)&&Ea(m,b+Q*_,1)}function Zs(m,b,_,Q){var K;for(K=3;0<K;--K)fh(m,b+=4*_,_,Q)}function gh(m,b,_,Q){var K;for(K=3;0<K;--K)Sa(m,b+=4,_,Q)}function Fo(m,b,_,Q,K,Y,W,$){for(Y=2*Y+1;0<K--;){if(Hp(m,b,_,Y,W))if(Mc(m,b,_,$))Ea(m,b,_);else{var Z=m,At=b,wt=_,Lt=Z[At-2*wt],Ft=Z[At-wt],xt=Z[At+0],Kt=Z[At+wt],kt=Z[At+2*wt],vt=27*(Ht=Do[1020+3*(xt-Ft)+Do[1020+Lt-Kt]])+63>>7,Bt=18*Ht+63>>7,Ht=9*Ht+63>>7;Z[At-3*wt]=Wr[255+Z[At-3*wt]+Ht],Z[At-2*wt]=Wr[255+Lt+Bt],Z[At-wt]=Wr[255+Ft+vt],Z[At+0]=Wr[255+xt-vt],Z[At+wt]=Wr[255+Kt-Bt],Z[At+2*wt]=Wr[255+kt-Ht]}b+=Q}}function sA(m,b,_,Q,K,Y,W,$){for(Y=2*Y+1;0<K--;){if(Hp(m,b,_,Y,W))if(Mc(m,b,_,$))Ea(m,b,_);else{var Z=m,At=b,wt=_,Lt=Z[At-wt],Ft=Z[At+0],xt=Z[At+wt],Kt=If[112+((kt=3*(Ft-Lt))+4>>3)],kt=If[112+(kt+3>>3)],vt=Kt+1>>1;Z[At-2*wt]=Wr[255+Z[At-2*wt]+vt],Z[At-wt]=Wr[255+Lt+kt],Z[At+0]=Wr[255+Ft-Kt],Z[At+wt]=Wr[255+xt-vt]}b+=Q}}function Ef(m,b,_,Q,K,Y){Fo(m,b,_,1,16,Q,K,Y)}function Hc(m,b,_,Q,K,Y){Fo(m,b,1,_,16,Q,K,Y)}function Sf(m,b,_,Q,K,Y){var W;for(W=3;0<W;--W)sA(m,b+=4*_,_,1,16,Q,K,Y)}function ph(m,b,_,Q,K,Y){var W;for(W=3;0<W;--W)sA(m,b+=4,1,_,16,Q,K,Y)}function G1(m,b,_,Q,K,Y,W,$){Fo(m,b,K,1,8,Y,W,$),Fo(_,Q,K,1,8,Y,W,$)}function _f(m,b,_,Q,K,Y,W,$){Fo(m,b,1,K,8,Y,W,$),Fo(_,Q,1,K,8,Y,W,$)}function Ff(m,b,_,Q,K,Y,W,$){sA(m,b+4*K,K,1,8,Y,W,$),sA(_,Q+4*K,K,1,8,Y,W,$)}function Pp(m,b,_,Q,K,Y,W,$){sA(m,b+4,1,K,8,Y,W,$),sA(_,Q+4,1,K,8,Y,W,$)}function Pc(){this.ba=new Us,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new On,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Uf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Lf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jp(){this.ua=0,this.Wa=new ot,this.vb=new ot,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new it,this.yc=new G}function V1(){this.xb=this.a=0,this.l=new ah,this.ca=new Us,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jp,this.ab=0,this.gc=A(4,Lf),this.Oc=0}function Fl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ah,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jc(m,b,_,Q,K,Y,W){for(m=m==null?0:m[b+0],b=0;b<W;++b)K[Y+b]=m+_[Q+b]&255,m=K[Y+b]}function Nf(m,b,_,Q,K,Y,W){var $;if(m==null)jc(null,null,_,Q,K,Y,W);else for($=0;$<W;++$)K[Y+$]=m[b+$]+_[Q+$]&255}function Ul(m,b,_,Q,K,Y,W){if(m==null)jc(null,null,_,Q,K,Y,W);else{var $,Z=m[b+0],At=Z,wt=Z;for($=0;$<W;++$)At=wt+(Z=m[b+$])-At,wt=_[Q+$]+(-256&At?0>At?0:255:At)&255,At=Z,K[Y+$]=wt}}function mh(m,b,_,Q){var K=b.width,Y=b.o;if(t(m!=null&&b!=null),0>_||0>=Q||_+Q>Y)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new Fl,(W=m.ga==null)||(W=b.width*b.o,t(m.Gb.length==0),m.Gb=s(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var $=m.Fa,Z=m.P,At=m.qc,wt=m.mb,Lt=m.nb,Ft=Z+1,xt=At-1,Kt=W.l;if(t($!=null&&wt!=null&&b!=null),ko[0]=null,ko[1]=jc,ko[2]=Nf,ko[3]=Ul,W.ca=wt,W.tb=Lt,W.c=b.width,W.i=b.height,t(0<W.c&&0<W.i),1>=At)b=0;else if(W.$a=$[Z+0]>>0&3,W.Z=$[Z+0]>>2&3,W.Lc=$[Z+0]>>4&3,Z=$[Z+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Z)b=0;else if(Kt.put=wa,Kt.ac=ur,Kt.bc=Ls,Kt.ma=W,Kt.width=b.width,Kt.height=b.height,Kt.Da=b.Da,Kt.v=b.v,Kt.va=b.va,Kt.j=b.j,Kt.o=b.o,W.$a)t:{t(W.$a==1),b=ba();e:for(;;){if(b==null){b=0;break t}if(t(W!=null),W.mc=b,b.c=W.c,b.i=W.i,b.l=W.l,b.l.ma=W,b.l.width=W.c,b.l.height=W.i,b.a=0,lt(b.m,$,Ft,xt),!KA(W.c,W.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Kr(b.s)?(W.ic=1,$=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s($),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(W.ic=0,b=ml(b,W.c)),!b))break e;b=1;break t}W.mc=null,b=0}else b=xt>=W.c*W.i;W=!b}if(W)return null;m.ga.Lc!=1?m.Ga=0:Q=Y-_}t(m.ga!=null),t(_+Q<=Y);t:{if(b=($=m.ga).c,Y=$.l.o,$.$a==0){if(Ft=m.rc,xt=m.Vc,Kt=m.Fa,Z=m.P+1+_*b,At=m.mb,wt=m.nb+_*b,t(Z<=m.P+m.qc),$.Z!=0)for(t(ko[$.Z]!=null),W=0;W<Q;++W)ko[$.Z](Ft,xt,Kt,Z,At,wt,b),Ft=At,xt=wt,wt+=b,Z+=b;else for(W=0;W<Q;++W)n(At,wt,Kt,Z,b),Ft=At,xt=wt,wt+=b,Z+=b;m.rc=Ft,m.Vc=xt}else{if(t($.mc!=null),b=_+Q,t((W=$.mc)!=null),t(b<=W.i),W.C>=b)b=1;else if($.ic||_t(),$.ic){$=W.V,Ft=W.Ba,xt=W.c;var kt=W.i,vt=(Kt=1,Z=W.$/xt,At=W.$%xt,wt=W.m,Lt=W.s,W.$),Bt=xt*kt,Ht=xt*b,Xt=Lt.wc,Mt=vt<Ht?_i(Lt,At,Z):null;t(vt<=Bt),t(b<=kt),t(Kr(Lt));e:for(;;){for(;!wt.h&&vt<Ht;){if(At&Xt||(Mt=_i(Lt,At,Z)),t(Mt!=null),ht(wt),256>(kt=cs(Mt.G[0],Mt.H[0],wt)))$[Ft+vt]=kt,++vt,++At>=xt&&(At=0,++Z<=b&&!(Z%16)&&hi(W,Z));else{if(!(280>kt)){Kt=0;break e}kt=va(kt-256,wt);var ae,ne=cs(Mt.G[4],Mt.H[4],wt);if(ht(wt),!(vt>=(ne=tA(xt,ne=va(ne,wt)))&&Bt-vt>=kt)){Kt=0;break e}for(ae=0;ae<kt;++ae)$[Ft+vt+ae]=$[Ft+vt+ae-ne];for(vt+=kt,At+=kt;At>=xt;)At-=xt,++Z<=b&&!(Z%16)&&hi(W,Z);vt<Ht&&At&Xt&&(Mt=_i(Lt,At,Z))}t(wt.h==nt(wt))}hi(W,Z>b?b:Z);break e}!Kt||wt.h&&vt<Bt?(Kt=0,W.a=wt.h?5:3):W.$=vt,b=Kt}else b=zr(W,W.V,W.Ba,W.c,W.i,b,zA);if(!b){Q=0;break t}}_+Q>=Y&&(m.Cc=1),Q=1}if(!Q)return null;if(m.Cc&&((Q=m.ga)!=null&&(Q.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+_*K}function E(m,b,_,Q,K,Y){for(;0<K--;){var W,$=m,Z=b+(_?1:0),At=m,wt=b+(_?0:3);for(W=0;W<Q;++W){var Lt=At[wt+4*W];Lt!=255&&(Lt*=32897,$[Z+4*W+0]=$[Z+4*W+0]*Lt>>23,$[Z+4*W+1]=$[Z+4*W+1]*Lt>>23,$[Z+4*W+2]=$[Z+4*W+2]*Lt>>23)}b+=Y}}function z(m,b,_,Q,K){for(;0<Q--;){var Y;for(Y=0;Y<_;++Y){var W=m[b+2*Y+0],$=15&(At=m[b+2*Y+1]),Z=4369*$,At=(240&At|At>>4)*Z>>16;m[b+2*Y+0]=(240&W|W>>4)*Z>>16&240|(15&W|W<<4)*Z>>16>>4&15,m[b+2*Y+1]=240&At|$}b+=K}}function ct(m,b,_,Q,K,Y,W,$){var Z,At,wt=255;for(At=0;At<K;++At){for(Z=0;Z<Q;++Z){var Lt=m[b+Z];Y[W+4*Z]=Lt,wt&=Lt}b+=_,W+=$}return wt!=255}function pt(m,b,_,Q,K){var Y;for(Y=0;Y<K;++Y)_[Q+Y]=m[b+Y]>>8}function _t(){Is=E,an=z,Qn=ct,xn=pt}function Ot(m,b,_){V[m]=function(Q,K,Y,W,$,Z,At,wt,Lt,Ft,xt,Kt,kt,vt,Bt,Ht,Xt){var Mt,ae=Xt-1>>1,ne=$[Z+0]|At[wt+0]<<16,xe=Lt[Ft+0]|xt[Kt+0]<<16;t(Q!=null);var re=3*ne+xe+131074>>2;for(b(Q[K+0],255&re,re>>16,kt,vt),Y!=null&&(re=3*xe+ne+131074>>2,b(Y[W+0],255&re,re>>16,Bt,Ht)),Mt=1;Mt<=ae;++Mt){var En=$[Z+Mt]|At[wt+Mt]<<16,cn=Lt[Ft+Mt]|xt[Kt+Mt]<<16,mn=ne+En+xe+cn+524296,Pe=mn+2*(En+xe)>>3;re=Pe+ne>>1,ne=(mn=mn+2*(ne+cn)>>3)+En>>1,b(Q[K+2*Mt-1],255&re,re>>16,kt,vt+(2*Mt-1)*_),b(Q[K+2*Mt-0],255&ne,ne>>16,kt,vt+(2*Mt-0)*_),Y!=null&&(re=mn+xe>>1,ne=Pe+cn>>1,b(Y[W+2*Mt-1],255&re,re>>16,Bt,Ht+(2*Mt-1)*_),b(Y[W+2*Mt+0],255&ne,ne>>16,Bt,Ht+(2*Mt+0)*_)),ne=En,xe=cn}1&Xt||(re=3*ne+xe+131074>>2,b(Q[K+Xt-1],255&re,re>>16,kt,vt+(Xt-1)*_),Y!=null&&(re=3*xe+ne+131074>>2,b(Y[W+Xt-1],255&re,re>>16,Bt,Ht+(Xt-1)*_)))}}function Yt(){Lr[qp]=qc,Lr[$r]=Lh,Lr[Xp]=Y1,Lr[Ua]=Zp,Lr[Df]=Hl,Lr[_h]=WA,Lr[Ol]=Pl,Lr[kf]=Lh,Lr[Yp]=Zp,Lr[Fh]=Hl,Lr[Wp]=WA}function oe(m){return m&-16384?0>m?0:255:m>>t0}function Ee(m,b){return oe((19077*m>>8)+(26149*b>>8)-14234)}function Me(m,b,_){return oe((19077*m>>8)-(6419*b>>8)-(13320*_>>8)+8708)}function Ie(m,b){return oe((19077*m>>8)+(33050*b>>8)-17685)}function pn(m,b,_,Q,K){Q[K+0]=Ee(m,_),Q[K+1]=Me(m,b,_),Q[K+2]=Ie(m,b)}function gi(m,b,_,Q,K){Q[K+0]=Ie(m,b),Q[K+1]=Me(m,b,_),Q[K+2]=Ee(m,_)}function Bi(m,b,_,Q,K){var Y=Me(m,b,_);b=Y<<3&224|Ie(m,b)>>3,Q[K+0]=248&Ee(m,_)|Y>>5,Q[K+1]=b}function Mi(m,b,_,Q,K){var Y=240&Ie(m,b)|15;Q[K+0]=240&Ee(m,_)|Me(m,b,_)>>4,Q[K+1]=Y}function _r(m,b,_,Q,K){Q[K+0]=255,pn(m,b,_,Q,K+1)}function nr(m,b,_,Q,K){gi(m,b,_,Q,K),Q[K+3]=255}function Vr(m,b,_,Q,K){pn(m,b,_,Q,K),Q[K+3]=255}function ta(m,b){return 0>m?0:m>b?b:m}function XA(m,b,_){V[m]=function(Q,K,Y,W,$,Z,At,wt,Lt){for(var Ft=wt+(-2&Lt)*_;wt!=Ft;)b(Q[K+0],Y[W+0],$[Z+0],At,wt),b(Q[K+1],Y[W+0],$[Z+0],At,wt+_),K+=2,++W,++Z,wt+=2*_;1&Lt&&b(Q[K+0],Y[W+0],$[Z+0],At,wt)}}function Kp(m,b,_){return _==0?m==0?b==0?6:5:b==0?4:0:_}function wh(m,b,_,Q,K){switch(m>>>30){case 3:oA(b,_,Q,K,0);break;case 2:ii(b,_,Q,K);break;case 1:Yr(b,_,Q,K)}}function vh(m,b){var _,Q,K=b.M,Y=b.Nb,W=m.oc,$=m.pc+40,Z=m.oc,At=m.pc+584,wt=m.oc,Lt=m.pc+600;for(_=0;16>_;++_)W[$+32*_-1]=129;for(_=0;8>_;++_)Z[At+32*_-1]=129,wt[Lt+32*_-1]=129;for(0<K?W[$-1-32]=Z[At-1-32]=wt[Lt-1-32]=129:(i(W,$-32-1,127,21),i(Z,At-32-1,127,9),i(wt,Lt-32-1,127,9)),Q=0;Q<m.za;++Q){var Ft=b.ya[b.aa+Q];if(0<Q){for(_=-1;16>_;++_)n(W,$+32*_-4,W,$+32*_+12,4);for(_=-1;8>_;++_)n(Z,At+32*_-4,Z,At+32*_+4,4),n(wt,Lt+32*_-4,wt,Lt+32*_+4,4)}var xt=m.Gd,Kt=m.Hd+Q,kt=Ft.ad,vt=Ft.Hc;if(0<K&&(n(W,$-32,xt[Kt].y,0,16),n(Z,At-32,xt[Kt].f,0,8),n(wt,Lt-32,xt[Kt].ea,0,8)),Ft.Za){var Bt=W,Ht=$-32+16;for(0<K&&(Q>=m.za-1?i(Bt,Ht,xt[Kt].y[15],4):n(Bt,Ht,xt[Kt+1].y,0,4)),_=0;4>_;_++)Bt[Ht+128+_]=Bt[Ht+256+_]=Bt[Ht+384+_]=Bt[Ht+0+_];for(_=0;16>_;++_,vt<<=2)Bt=W,Ht=$+Hi[_],Fi[Ft.Ob[_]](Bt,Ht),wh(vt,kt,16*+_,Bt,Ht)}else if(Bt=Kp(Q,K,Ft.Ob[0]),fs[Bt](W,$),vt!=0)for(_=0;16>_;++_,vt<<=2)wh(vt,kt,16*+_,W,$+Hi[_]);for(_=Ft.Gc,Bt=Kp(Q,K,Ft.Dd),uA[Bt](Z,At),uA[Bt](wt,Lt),vt=kt,Bt=Z,Ht=At,255&(Ft=_>>0)&&(170&Ft?zc(vt,256,Bt,Ht):fr(vt,256,Bt,Ht)),Ft=wt,vt=Lt,255&(_>>=8)&&(170&_?zc(kt,320,Ft,vt):fr(kt,320,Ft,vt)),K<m.Ub-1&&(n(xt[Kt].y,0,W,$+480,16),n(xt[Kt].f,0,Z,At+224,8),n(xt[Kt].ea,0,wt,Lt+224,8)),_=8*Y*m.B,xt=m.sa,Kt=m.ta+16*Q+16*Y*m.R,kt=m.qa,Ft=m.ra+8*Q+_,vt=m.Ha,Bt=m.Ia+8*Q+_,_=0;16>_;++_)n(xt,Kt+_*m.R,W,$+32*_,16);for(_=0;8>_;++_)n(kt,Ft+_*m.B,Z,At+32*_,8),n(vt,Bt+_*m.B,wt,Lt+32*_,8)}}function YA(m,b,_,Q,K,Y,W,$,Z){var At=[0],wt=[0],Lt=0,Ft=Z!=null?Z.kd:0,xt=Z??new Uf;if(m==null||12>_)return 7;xt.data=m,xt.w=b,xt.ha=_,b=[b],_=[_],xt.gb=[xt.gb];t:{var Kt=b,kt=_,vt=xt.gb;if(t(m!=null),t(kt!=null),t(vt!=null),vt[0]=0,12<=kt[0]&&!e(m,Kt[0],"RIFF")){if(e(m,Kt[0]+8,"WEBP")){vt=3;break t}var Bt=$t(m,Kt[0]+4);if(12>Bt||4294967286<Bt){vt=3;break t}if(Ft&&Bt>kt[0]-8){vt=7;break t}vt[0]=Bt,Kt[0]+=12,kt[0]-=12}vt=0}if(vt!=0)return vt;for(Bt=0<xt.gb[0],_=_[0];;){t:{var Ht=m;kt=b,vt=_;var Xt=At,Mt=wt,ae=Kt=[0];if((re=Lt=[Lt])[0]=0,8>vt[0])vt=7;else{if(!e(Ht,kt[0],"VP8X")){if($t(Ht,kt[0]+4)!=10){vt=3;break t}if(18>vt[0]){vt=7;break t}var ne=$t(Ht,kt[0]+8),xe=1+Zt(Ht,kt[0]+12);if(2147483648<=xe*(Ht=1+Zt(Ht,kt[0]+15))){vt=3;break t}ae!=null&&(ae[0]=ne),Xt!=null&&(Xt[0]=xe),Mt!=null&&(Mt[0]=Ht),kt[0]+=18,vt[0]-=18,re[0]=1}vt=0}}if(Lt=Lt[0],Kt=Kt[0],vt!=0)return vt;if(kt=!!(2&Kt),!Bt&&Lt)return 3;if(Y!=null&&(Y[0]=!!(16&Kt)),W!=null&&(W[0]=kt),$!=null&&($[0]=0),W=At[0],Kt=wt[0],Lt&&kt&&Z==null){vt=0;break}if(4>_){vt=7;break}if(Bt&&Lt||!Bt&&!Lt&&!e(m,b[0],"ALPH")){_=[_],xt.na=[xt.na],xt.P=[xt.P],xt.Sa=[xt.Sa];t:{ne=m,vt=b,Bt=_;var re=xt.gb;Xt=xt.na,Mt=xt.P,ae=xt.Sa,xe=22,t(ne!=null),t(Bt!=null),Ht=vt[0];var En=Bt[0];for(t(Xt!=null),t(ae!=null),Xt[0]=null,Mt[0]=null,ae[0]=0;;){if(vt[0]=Ht,Bt[0]=En,8>En){vt=7;break t}var cn=$t(ne,Ht+4);if(4294967286<cn){vt=3;break t}var mn=8+cn+1&-2;if(xe+=mn,0<re&&xe>re){vt=3;break t}if(!e(ne,Ht,"VP8 ")||!e(ne,Ht,"VP8L")){vt=0;break t}if(En[0]<mn){vt=7;break t}e(ne,Ht,"ALPH")||(Xt[0]=ne,Mt[0]=Ht+8,ae[0]=cn),Ht+=mn,En-=mn}}if(_=_[0],xt.na=xt.na[0],xt.P=xt.P[0],xt.Sa=xt.Sa[0],vt!=0)break}_=[_],xt.Ja=[xt.Ja],xt.xa=[xt.xa];t:if(re=m,vt=b,Bt=_,Xt=xt.gb[0],Mt=xt.Ja,ae=xt.xa,ne=vt[0],Ht=!e(re,ne,"VP8 "),xe=!e(re,ne,"VP8L"),t(re!=null),t(Bt!=null),t(Mt!=null),t(ae!=null),8>Bt[0])vt=7;else{if(Ht||xe){if(re=$t(re,ne+4),12<=Xt&&re>Xt-12){vt=3;break t}if(Ft&&re>Bt[0]-8){vt=7;break t}Mt[0]=re,vt[0]+=8,Bt[0]-=8,ae[0]=xe}else ae[0]=5<=Bt[0]&&re[ne+0]==47&&!(re[ne+4]>>5),Mt[0]=Bt[0];vt=0}if(_=_[0],xt.Ja=xt.Ja[0],xt.xa=xt.xa[0],b=b[0],vt!=0)break;if(4294967286<xt.Ja)return 3;if($==null||kt||($[0]=xt.xa?2:1),W=[W],Kt=[Kt],xt.xa){if(5>_){vt=7;break}$=W,Ft=Kt,kt=Y,m==null||5>_?m=0:5<=_&&m[b+0]==47&&!(m[b+4]>>5)?(Bt=[0],re=[0],Xt=[0],lt(Mt=new I,m,b,_),Fe(Mt,Bt,re,Xt)?($!=null&&($[0]=Bt[0]),Ft!=null&&(Ft[0]=re[0]),kt!=null&&(kt[0]=Xt[0]),m=1):m=0):m=0}else{if(10>_){vt=7;break}$=Kt,m==null||10>_||!Ba(m,b+3,_-3)?m=0:(Ft=m[b+0]|m[b+1]<<8|m[b+2]<<16,kt=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&Ft||3<(Ft>>1&7)||!(Ft>>4&1)||Ft>>5>=xt.Ja||!kt||!m?m=0:(W&&(W[0]=kt),$&&($[0]=m),m=1))}if(!m||(W=W[0],Kt=Kt[0],Lt&&(At[0]!=W||wt[0]!=Kt)))return 3;Z!=null&&(Z[0]=xt,Z.offset=b-Z.w,t(4294967286>b-Z.w),t(Z.offset==Z.ha-_));break}return vt==0||vt==7&&Lt&&Z==null?(Y!=null&&(Y[0]|=xt.na!=null&&0<xt.na.length),Q!=null&&(Q[0]=W),K!=null&&(K[0]=Kt),0):vt}function Uo(m,b,_){var Q=b.width,K=b.height,Y=0,W=0,$=Q,Z=K;if(b.Da=m!=null&&0<m.Da,b.Da&&($=m.cd,Z=m.bd,Y=m.v,W=m.j,11>_||(Y&=-2,W&=-2),0>Y||0>W||0>=$||0>=Z||Y+$>Q||W+Z>K))return 0;if(b.v=Y,b.j=W,b.va=Y+$,b.o=W+Z,b.U=$,b.T=Z,b.da=m!=null&&0<m.da,b.da){if(!le($,Z,_=[m.ib],Y=[m.hb]))return 0;b.ib=_[0],b.hb=Y[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*Q/4&&b.hb<3*K/4,b.Kb=0),1}function Tf(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function Lo(m,b,_,Q){if(Q==null||0>=m||0>=b)return 2;if(_!=null){if(_.Da){var K=_.cd,Y=_.bd,W=-2&_.v,$=-2&_.j;if(0>W||0>$||0>=K||0>=Y||W+K>m||$+Y>b)return 2;m=K,b=Y}if(_.da){if(!le(m,b,K=[_.ib],Y=[_.hb]))return 2;m=K[0],b=Y[0]}}Q.width=m,Q.height=b;t:{var Z=Q.width,At=Q.height;if(m=Q.S,0>=Z||0>=At||!(m>=qp&&13>m))m=2;else{if(0>=Q.Rd&&Q.sd==null){W=Y=K=b=0;var wt=($=Z*n0[m])*At;if(11>m||(Y=(At+1)/2*(b=(Z+1)/2),m==12&&(W=(K=Z)*At)),(At=s(wt+2*Y+W))==null){m=1;break t}Q.sd=At,11>m?((Z=Q.f.RGBA).eb=At,Z.fb=0,Z.A=$,Z.size=wt):((Z=Q.f.kb).y=At,Z.O=0,Z.fa=$,Z.Fd=wt,Z.f=At,Z.N=0+wt,Z.Ab=b,Z.Cd=Y,Z.ea=At,Z.W=0+wt+Y,Z.Db=b,Z.Ed=Y,m==12&&(Z.F=At,Z.J=0+wt+2*Y),Z.Tc=W,Z.lb=K)}if(b=1,K=Q.S,Y=Q.width,W=Q.height,K>=qp&&13>K)if(11>K)m=Q.f.RGBA,b&=($=Math.abs(m.A))*(W-1)+Y<=m.size,b&=$>=Y*n0[K],b&=m.eb!=null;else{m=Q.f.kb,$=(Y+1)/2,wt=(W+1)/2,Z=Math.abs(m.fa),At=Math.abs(m.Ab);var Lt=Math.abs(m.Db),Ft=Math.abs(m.lb),xt=Ft*(W-1)+Y;b&=Z*(W-1)+Y<=m.Fd,b&=At*(wt-1)+$<=m.Cd,b=(b&=Lt*(wt-1)+$<=m.Ed)&Z>=Y&At>=$&Lt>=$,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,K==12&&(b&=Ft>=Y,b&=xt<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||_!=null&&_.fd&&(m=Tf(Q)),m}var dr=64,Kc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ll=24,Nl=32,yh=8,hs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Jt("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(m){return m},V.Predictor2=function(m,b,_){return b[_+0]},V.Predictor3=function(m,b,_){return b[_+1]},V.Predictor4=function(m,b,_){return b[_-1]},V.Predictor5=function(m,b,_){return te(te(m,b[_+1]),b[_+0])},V.Predictor6=function(m,b,_){return te(m,b[_-1])},V.Predictor7=function(m,b,_){return te(m,b[_+0])},V.Predictor8=function(m,b,_){return te(b[_-1],b[_+0])},V.Predictor9=function(m,b,_){return te(b[_+0],b[_+1])},V.Predictor10=function(m,b,_){return te(te(m,b[_-1]),te(b[_+0],b[_+1]))},V.Predictor11=function(m,b,_){var Q=b[_+0];return 0>=Ve(Q>>24&255,m>>24&255,(b=b[_-1])>>24&255)+Ve(Q>>16&255,m>>16&255,b>>16&255)+Ve(Q>>8&255,m>>8&255,b>>8&255)+Ve(255&Q,255&m,255&b)?Q:m},V.Predictor12=function(m,b,_){var Q=b[_+0];return(me((m>>24&255)+(Q>>24&255)-((b=b[_-1])>>24&255))<<24|me((m>>16&255)+(Q>>16&255)-(b>>16&255))<<16|me((m>>8&255)+(Q>>8&255)-(b>>8&255))<<8|me((255&m)+(255&Q)-(255&b)))>>>0},V.Predictor13=function(m,b,_){var Q=b[_-1];return(Ce((m=te(m,b[_+0]))>>24&255,Q>>24&255)<<24|Ce(m>>16&255,Q>>16&255)<<16|Ce(m>>8&255,Q>>8&255)<<8|Ce(m>>0&255,Q>>0&255))>>>0};var zp=V.PredictorAdd0;V.PredictorAdd1=We,Jt("Predictor2","PredictorAdd2"),Jt("Predictor3","PredictorAdd3"),Jt("Predictor4","PredictorAdd4"),Jt("Predictor5","PredictorAdd5"),Jt("Predictor6","PredictorAdd6"),Jt("Predictor7","PredictorAdd7"),Jt("Predictor8","PredictorAdd8"),Jt("Predictor9","PredictorAdd9"),Jt("Predictor10","PredictorAdd10"),Jt("Predictor11","PredictorAdd11"),Jt("Predictor12","PredictorAdd12"),Jt("Predictor13","PredictorAdd13");var Qf=V.PredictorAdd2;tn("ColorIndexInverseTransform","MapARGB","32b",(function(m){return m>>8&255}),(function(m){return m})),tn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(m){return m}),(function(m){return m>>8&255}));var Gp,_a=V.ColorIndexInverseTransform,bh=V.MapARGB,Vp=V.VP8LColorIndexInverseTransformAlpha,qr=V.MapAlpha,Fa=V.VP8LPredictorsAdd=[];Fa.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var Tl,ds,Xr,No,aA,To,AA,oA,ii,zc,Yr,fr,lA,Bh,Ch,ea,Ql,Qo,Il,xh,Gc,Dl,Eh,na,Is,an,Qn,xn,pi=s(511),cA=s(2041),kl=s(225),Io=s(767),Sh=0,Do=cA,If=kl,Wr=Io,Fr=pi,qp=0,$r=1,Xp=2,Ua=3,Df=4,_h=5,Ol=6,kf=7,Yp=8,Fh=9,Wp=10,La=[2,3,7],Uh=[3,3,11],Vc=[280,256,256,256,40],$p=[0,1,1,1,0],Of=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Na=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ta=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Rl=8,Qa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ia=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ia=null,Sb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],q1=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_b=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ur=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ri=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ln=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fs=[],Fi=[],uA=[],Ml=1,X1=2,ko=[],Lr=[];Ot("UpsampleRgbLinePair",pn,3),Ot("UpsampleBgrLinePair",gi,3),Ot("UpsampleRgbaLinePair",Vr,4),Ot("UpsampleBgraLinePair",nr,4),Ot("UpsampleArgbLinePair",_r,4),Ot("UpsampleRgba4444LinePair",Mi,2),Ot("UpsampleRgb565LinePair",Bi,2);var qc=V.UpsampleRgbLinePair,Y1=V.UpsampleBgrLinePair,Lh=V.UpsampleRgbaLinePair,Zp=V.UpsampleBgraLinePair,Hl=V.UpsampleArgbLinePair,WA=V.UpsampleRgba4444LinePair,Pl=V.UpsampleRgb565LinePair,Da=16,Nh=1<<Da-1,Xc=-227,jl=482,t0=6,Kl=0,Nr=s(256),e0=s(256),Fb=s(256),dC=s(256),fC=s(jl-Xc),gC=s(jl-Xc);XA("YuvToRgbRow",pn,3),XA("YuvToBgrRow",gi,3),XA("YuvToRgbaRow",Vr,4),XA("YuvToBgraRow",nr,4),XA("YuvToArgbRow",_r,4),XA("YuvToRgba4444Row",Mi,2),XA("YuvToRgb565Row",Bi,2);var Hi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Th=[0,2,8],Rf=[8,7,6,4,4,2,2,2,1,1,1,1],Mf=1;this.WebPDecodeRGBA=function(m,b,_,Q,K){var Y=$r,W=new Pc,$=new Us;W.ba=$,$.S=Y,$.width=[$.width],$.height=[$.height];var Z=$.width,At=$.height,wt=new ma;if(wt==null||m==null)var Lt=2;else t(wt!=null),Lt=YA(m,b,_,wt.width,wt.height,wt.Pd,wt.Qd,wt.format,null);if(Lt!=0?Z=0:(Z!=null&&(Z[0]=wt.width[0]),At!=null&&(At[0]=wt.height[0]),Z=1),Z){$.width=$.width[0],$.height=$.height[0],Q!=null&&(Q[0]=$.width),K!=null&&(K[0]=$.height);t:{if(Q=new ah,(K=new Uf).data=m,K.w=b,K.ha=_,K.kd=1,b=[0],t(K!=null),((m=YA(K.data,K.w,K.ha,null,null,null,b,null,K))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(t(W!=null),Q.data=K.data,Q.w=K.w+K.offset,Q.ha=K.ha-K.offset,Q.put=wa,Q.ac=ur,Q.bc=Ls,Q.ma=W,K.xa){if((m=ba())==null){W=1;break t}if((function(Ft,xt){var Kt=[0],kt=[0],vt=[0];e:for(;;){if(Ft==null)return 0;if(xt==null)return Ft.a=2,0;if(Ft.l=xt,Ft.a=0,lt(Ft.m,xt.data,xt.w,xt.ha),!Fe(Ft.m,Kt,kt,vt)){Ft.a=3;break e}if(Ft.xb=X1,xt.width=Kt[0],xt.height=kt[0],!KA(Kt[0],kt[0],1,Ft,null))break e;return 1}return t(Ft.a!=0),0})(m,Q)){if(Q=(b=Lo(Q.width,Q.height,W.Oa,W.ba))==0){e:{Q=m;n:for(;;){if(Q==null){Q=0;break e}if(t(Q.s.yc!=null),t(Q.s.Ya!=null),t(0<Q.s.Wb),t((_=Q.l)!=null),t((K=_.ma)!=null),Q.xb!=0){if(Q.ca=K.ba,Q.tb=K.tb,t(Q.ca!=null),!Uo(K.Oa,_,Ua)){Q.a=2;break n}if(!ml(Q,_.width)||_.da)break n;if((_.da||Un(Q.ca.S))&&_t(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&_t()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!Gt(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break n}Q.xb=0}if(!zr(Q,Q.V,Q.Ba,Q.c,Q.i,_.o,Ic))break n;K.Dc=Q.Ma,Q=1;break e}t(Q.a!=0),Q=0}Q=!Q}Q&&(b=m.a)}else b=m.a}else{if((m=new Ah)==null){W=1;break t}if(m.Fa=K.na,m.P=K.P,m.qc=K.Sa,us(m,Q)){if((b=Lo(Q.width,Q.height,W.Oa,W.ba))==0){if(m.Aa=0,_=W.Oa,t((K=m)!=null),_!=null){if(0<(Z=0>(Z=_.Md)?0:100<Z?255:255*Z/100)){for(At=wt=0;4>At;++At)12>(Lt=K.pb[At]).lc&&(Lt.ia=Z*Rf[0>Lt.lc?0:Lt.lc]>>3),wt|=Lt.ia;wt&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=_.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}yf(m,Q)||(b=m.a)}}else b=m.a}b==0&&W.Oa!=null&&W.Oa.fd&&(b=Tf(W.ba))}W=b}Y=W!=0?null:11>Y?$.f.RGBA.eb:$.f.kb.y}else Y=null;return Y};var n0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(V,et){for(var ut="",H=0;H<4;H++)ut+=String.fromCharCode(V[et++]);return ut}function f(V,et){return(V[et+0]<<0|V[et+1]<<8|V[et+2]<<16)>>>0}function p(V,et){return(V[et+0]<<0|V[et+1]<<8|V[et+2]<<16|V[et+3]<<24)>>>0}new c;var w=[0],v=[0],x=[],B=new c,F=r,S=(function(V,et){var ut={},H=0,G=!1,tt=0,it=0;if(ut.frames=[],!(function(X,nt,at,ht){for(var gt=0;gt<ht;gt++)if(X[nt+gt]!=at.charCodeAt(gt))return!0;return!1})(V,et,"RIFF",4)){var mt,q;for(p(V,et+=4),et+=8;et<V.length;){var rt=h(V,et),lt=p(V,et+=4);et+=4;var yt=lt+(1&lt);switch(rt){case"VP8 ":case"VP8L":ut.frames[H]===void 0&&(ut.frames[H]={}),(I=ut.frames[H]).src_off=G?it:et-8,I.src_size=tt+lt+8,H++,G&&(G=!1,tt=0,it=0);break;case"VP8X":(I=ut.header={}).feature_flags=V[et];var Et=et+4;I.canvas_width=1+f(V,Et),Et+=3,I.canvas_height=1+f(V,Et),Et+=3;break;case"ALPH":G=!0,tt=yt+8,it=et-8;break;case"ANIM":(I=ut.header).bgcolor=p(V,et),Et=et+4,I.loop_count=(mt=V)[(q=Et)+0]<<0|mt[q+1]<<8,Et+=2;break;case"ANMF":var st,I;(I=ut.frames[H]={}).offset_x=2*f(V,et),et+=3,I.offset_y=2*f(V,et),et+=3,I.width=1+f(V,et),et+=3,I.height=1+f(V,et),et+=3,I.duration=f(V,et),et+=3,st=V[et++],I.dispose=1&st,I.blend=st>>1&1}rt!="ANMF"&&(et+=yt)}return ut}})(F,0);S.response=F,S.rgbaoutput=!0,S.dataurl=!1;var L=S.header?S.header:null,T=S.frames?S.frames:null;if(L){L.loop_counter=L.loop_count,w=[L.canvas_height],v=[L.canvas_width];for(var k=0;k<T.length&&T[k].blend!=0;k++);}var R=T[0],M=B.WebPDecodeRGBA(F,R.src_off,R.src_size,v,w);R.rgba=M,R.imgwidth=v[0],R.imgheight=w[0];for(var j=0;j<v[0]*w[0]*4;j++)x[j]=M[j];return this.width=v,this.height=w,this.data=x,this}(function(r){var t=function(){return typeof KE=="function"},e=function(w,v,x,B){var F=4,S=A;switch(B){case r.image_compression.FAST:F=1,S=s;break;case r.image_compression.MEDIUM:F=6,S=l;break;case r.image_compression.SLOW:F=9,S=c}w=n(w,v,x,S);var L=KE(w,{level:F});return r.__addimage__.arrayBufferToBinaryString(L)},n=function(w,v,x,B){for(var F,S,L,T=w.length/v,k=new Uint8Array(w.length+T),R=f(),M=0;M<T;M+=1){if(L=M*v,F=w.subarray(L,L+v),B)k.set(B(F,x,S),L+M);else{for(var j,V=R.length,et=[];j<V;j+=1)et[j]=R[j](F,x,S);var ut=p(et.concat());k.set(et[ut],L+M)}S=F}return k},i=function(w){var v=Array.apply([],w);return v.unshift(0),v},s=function(w,v){var x,B=[],F=w.length;B[0]=1;for(var S=0;S<F;S+=1)x=w[S-v]||0,B[S+1]=w[S]-x+256&255;return B},A=function(w,v,x){var B,F=[],S=w.length;F[0]=2;for(var L=0;L<S;L+=1)B=x&&x[L]||0,F[L+1]=w[L]-B+256&255;return F},l=function(w,v,x){var B,F,S=[],L=w.length;S[0]=3;for(var T=0;T<L;T+=1)B=w[T-v]||0,F=x&&x[T]||0,S[T+1]=w[T]+256-(B+F>>>1)&255;return S},c=function(w,v,x){var B,F,S,L,T=[],k=w.length;T[0]=4;for(var R=0;R<k;R+=1)B=w[R-v]||0,F=x&&x[R]||0,S=x&&x[R-v]||0,L=h(B,F,S),T[R+1]=w[R]-L+256&255;return T},h=function(w,v,x){if(w===v&&v===x)return w;var B=Math.abs(v-x),F=Math.abs(w-x),S=Math.abs(w+v-x-x);return B<=F&&B<=S?w:F<=S?v:x},f=function(){return[i,s,A,l,c]},p=function(w){var v=w.map((function(x){return x.reduce((function(B,F){return B+Math.abs(F)}),0)}));return v.indexOf(Math.min.apply(null,v))};r.processPNG=function(w,v,x,B){var F,S,L,T,k,R,M,j,V,et,ut,H,G,tt,it,mt=this.decode.FLATE_DECODE,q="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(L=new mH(w)).imgData,S=L.bits,F=L.colorSpace,k=L.colors,[4,6].indexOf(L.colorType)!==-1){if(L.bits===8){V=(j=L.pixelBitlength==32?new Uint32Array(L.decodePixels().buffer):L.pixelBitlength==16?new Uint16Array(L.decodePixels().buffer):new Uint8Array(L.decodePixels().buffer)).length,ut=new Uint8Array(V*L.colors),et=new Uint8Array(V);var rt,lt=L.pixelBitlength-L.bits;for(tt=0,it=0;tt<V;tt++){for(G=j[tt],rt=0;rt<lt;)ut[it++]=G>>>rt&255,rt+=L.bits;et[tt]=G>>>rt&255}}if(L.bits===16){V=(j=new Uint32Array(L.decodePixels().buffer)).length,ut=new Uint8Array(V*(32/L.pixelBitlength)*L.colors),et=new Uint8Array(V*(32/L.pixelBitlength)),H=L.colors>1,tt=0,it=0;for(var yt=0;tt<V;)G=j[tt++],ut[it++]=G>>>0&255,H&&(ut[it++]=G>>>16&255,G=j[tt++],ut[it++]=G>>>0&255),et[yt++]=G>>>16&255;S=8}B!==r.image_compression.NONE&&t()?(w=e(ut,L.width*L.colors,L.colors,B),M=e(et,L.width,1,B)):(w=ut,M=et,mt=void 0)}if(L.colorType===3&&(F=this.color_spaces.INDEXED,R=L.palette,L.transparency.indexed)){var Et=L.transparency.indexed,st=0;for(tt=0,V=Et.length;tt<V;++tt)st+=Et[tt];if((st/=255)===V-1&&Et.indexOf(0)!==-1)T=[Et.indexOf(0)];else if(st!==V){for(j=L.decodePixels(),et=new Uint8Array(j.length),tt=0,V=j.length;tt<V;tt++)et[tt]=Et[j[tt]];M=e(et,L.width,1)}}var I=(function(X){var nt;switch(X){case r.image_compression.FAST:nt=11;break;case r.image_compression.MEDIUM:nt=13;break;case r.image_compression.SLOW:nt=14;break;default:nt=12}return nt})(B);return mt===this.decode.FLATE_DECODE&&(q="/Predictor "+I+" "),q+="/Colors "+k+" /BitsPerComponent "+S+" /Columns "+L.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:x,data:w,index:v,filter:mt,decodeParameters:q,transparency:T,palette:R,sMask:M,predictor:I,width:L.width,height:L.height,bitsPerComponent:S,colorSpace:F}}}})(De.API),(function(r){r.processGIF89A=function(t,e,n,i){var s=new wH(t),A=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:A,height:l},f=new Wx(100).encode(h,100);return r.processJPEG.call(this,f,e,n,i)},r.processGIF87A=r.processGIF89A})(De.API),Go.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Go.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){li.log("bit decode error:"+e)}},Go.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[A+4*l]=c.blue,this.data[A+4*l+1]=c.green,this.data[A+4*l+2]=c.red,this.data[A+4*l+3]=255}e!==0&&(this.pos+=4-e)}},Go.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*i*4,l=s>>4,c=15&s,h=this.palette[l];if(this.data[A]=h.blue,this.data[A+1]=h.green,this.data[A+2]=h.red,this.data[A+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[A+4]=h.blue,this.data[A+4+1]=h.green,this.data[A+4+2]=h.red,this.data[A+4+3]=255}t!==0&&(this.pos+=4-t)}},Go.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;if(i<this.palette.length){var A=this.palette[i];this.data[s]=A.red,this.data[s+1]=A.green,this.data[s+2]=A.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Go.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,h=s>>15?255:0,f=n*this.width*4+4*i;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=A,this.data[f+3]=h}this.pos+=r}},Go.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(A&t)/t*255|0,c=(A>>5&e)/e*255|0,h=(A>>11)/t*255|0,f=i*this.width*4+4*s;this.data[f]=h,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=r}},Go.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=t*this.width*4+4*e;this.data[A]=s,this.data[A+1]=i,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},Go.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=A}},Go.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(t,e,n,i){var s=new Go(t,!1),A=s.width,l=s.height,c={data:s.getData(),width:A,height:l},h=new Wx(100).encode(c,100);return r.processJPEG.call(this,h,e,n,i)}})(De.API),rL.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(t,e,n,i){var s=new rL(t),A=s.width,l=s.height,c={data:s.getData(),width:A,height:l},h=new Wx(100).encode(c,100);return r.processJPEG.call(this,h,e,n,i)}})(De.API),De.API.processRGBA=function(r,t,e){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),A=new Uint8Array(i/4),l=0,c=0,h=0;h<i;h+=4){var f=n[h],p=n[h+1],w=n[h+2],v=n[h+3];s[l++]=f,s[l++]=p,s[l++]=w,A[c++]=v}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:x,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},De.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},L0=De.API,F2=L0.getCharWidthsArray=function(r,t){var e,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),A=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,h=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=h.fof?h.fof:1,p=t.doKerning!==!1,w=0,v=r.length,x=0,B=l[0]||c,F=[];for(e=0;e<v;e++)n=r.charCodeAt(e),typeof i.metadata.widthOfString=="function"?F.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+A*(1e3/s)||0)/1e3):(w=p&&Vn(h[n])==="object"&&!isNaN(parseInt(h[n][x],10))?h[n][x]/f:0,F.push((l[n]||B)/c+w)),x=n;return F},tL=L0.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return L0.processArabic&&(r=L0.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,e,i)/e:F2.apply(this,arguments).reduce((function(s,A){return s+A}),0)},eL=function(r,t,e,n){for(var i=[],s=0,A=r.length,l=0;s!==A&&l+t[s]<e;)l+=t[s],s++;i.push(r.slice(0,s));var c=s;for(l=0;s!==A;)l+t[s]>n&&(i.push(r.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&i.push(r.slice(c,s)),i},nL=function(r,t,e){e||(e={});var n,i,s,A,l,c,h,f=[],p=[f],w=e.textIndent||0,v=0,x=0,B=r.split(" "),F=F2.apply(this,[" ",e])[0];if(c=e.lineIndent===-1?B[0].length+2:e.lineIndent||0){var S=Array(c).join(" "),L=[];B.map((function(k){(k=k.split(/\s*\n/)).length>1?L=L.concat(k.map((function(R,M){return(M&&R.length?`
`:"")+R}))):L.push(k[0])})),B=L,c=tL.apply(this,[S,e])}for(s=0,A=B.length;s<A;s++){var T=0;if(n=B[s],c&&n[0]==`
`&&(n=n.substr(1),T=1),w+v+(x=(i=F2.apply(this,[n,e])).reduce((function(k,R){return k+R}),0))>t||T){if(x>t){for(l=eL.apply(this,[n,i,t-(w+v),t]),f.push(l.shift()),f=[l.pop()];l.length;)p.push([l.shift()]);x=i.slice(n.length-(f[0]?f[0].length:0)).reduce((function(k,R){return k+R}),0)}else f=[n];p.push(f),w=x+c,v=F}else f.push(n),w+=v+x,v=F}return h=c?function(k,R){return(R?S:"")+k.join(" ")}:function(k){return k.join(" ")},p.map(h)},L0.splitTextToSize=function(r,t,e){var n,i=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var A=1*this.internal.scaleFactor*t/i;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=e.lineIndent;var l,c,h=[];for(l=0,c=n.length;l<c;l++)h=h.concat(nL.apply(this,[n[l],A,s]));return h},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},i=0;i<t.length;i++)e[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},A=r.__fontmetrics__.compress=function(p){var w,v,x,B,F=["{"];for(var S in p){if(w=p[S],isNaN(parseInt(S,10))?v="'"+S+"'":(S=parseInt(S,10),v=(v=s(S).slice(2)).slice(0,-1)+n[v.slice(-1)]),typeof w=="number")w<0?(x=s(w).slice(3),B="-"):(x=s(w).slice(2),B=""),x=B+x.slice(0,-1)+n[x.slice(-1)];else{if(Vn(w)!=="object")throw new Error("Don't know what to do with value type "+Vn(w)+".");x=A(w)}F.push(v+x)}return F.push("}"),F.join("")},l=r.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,v,x,B,F={},S=1,L=F,T=[],k="",R="",M=p.length-1,j=1;j<M;j+=1)(B=p[j])=="'"?w?(x=w.join(""),w=void 0):w=[]:w?w.push(B):B=="{"?(T.push([L,x]),L={},x=void 0):B=="}"?((v=T.pop())[0][v[1]]=L,x=void 0,L=v[0]):B=="-"?S=-1:x===void 0?e.hasOwnProperty(B)?(k+=e[B],x=parseInt(k,16)*S,S=1,k=""):k+=B:e.hasOwnProperty(B)?(R+=e[B],L[x]=parseInt(R,16)*S,S=1,x=void 0,R=""):R+=B;return F},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(p){var w=p.font,v=f.Unicode[w.postScriptName];v&&(w.metadata.Unicode={},w.metadata.Unicode.widths=v.widths,w.metadata.Unicode.kerning=v.kerning);var x=h.Unicode[w.postScriptName];x&&(w.metadata.Unicode.encoding=x,w.encoding=x.codePages[0])}])})(De.API),(function(r){var t=function(e){for(var n=e.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=e.charCodeAt(s);return i};r.API.events.push(["addFont",function(e){var n=void 0,i=e.font,s=e.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(A,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(mv(l)),A.metadata=r.API.TTFFont.open(l),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(i,n)}}])})(De),(function(r){function t(){return(Re.canvg?Promise.resolve(Re.canvg):nh(()=>import("./index.es-DTnVfz2R.js"),[])).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}De.API.addSvgAsImage=function(e,n,i,s,A,l,c,h){if(isNaN(n)||isNaN(i))throw li.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(A))throw li.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=A;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return t().then((function(x){return x.fromString(p,e,w)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(x){return x.render(w)})).then((function(){v.addImage(f.toDataURL("image/jpeg",1),n,i,s,A,c,h)}))}})(),De.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,e);return this},De.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var n,i,s,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(A),c=[],h=0,f=0,p=0;function w(x,B){var F,S=!1;for(F=0;F<x.length;F+=1)x[F]===B&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var v=l.length;for(p=0;p<v;p+=1)e[l[p]].value=e[l[p]].defaultValue,e[l[p]].explicitSet=!1}if(Vn(r)==="object"){for(i in r)if(s=r[i],w(l,i)&&s!==void 0){if(e[i].type==="boolean"&&typeof s=="boolean")e[i].value=s;else if(e[i].type==="name"&&w(e[i].valueSet,s))e[i].value=s;else if(e[i].type==="integer"&&Number.isInteger(s))e[i].value=s;else if(e[i].type==="array"){for(h=0;h<s.length;h+=1)if(n=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(f=0;f<s[h].length;f+=1)typeof s[h][f]!="number"&&(n=!1);n===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}e[i].value="["+c.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var x,B=[];for(x in e)e[x].explicitSet===!0&&(e[x].type==="name"?B.push("/"+x+" /"+e[x].value):B.push("/"+x+" "+e[x].value));B.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+B.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(r){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),A=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+A.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+A+l+c),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(De.API),(function(r){var t=r.API,e=t.pdfEscape16=function(s,A){for(var l,c=A.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],p=0,w=s.length;p<w;++p){if(l=A.metadata.characterToGlyph(s.charCodeAt(p)),A.metadata.glyIdsUsed.push(l),A.metadata.toUnicode[l]=s.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(A.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(h[4-l.length],l)}return f.join("")},n=function(s){var A,l,c,h,f,p,w;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,w=(l=Object.keys(s).sort((function(v,x){return v-x}))).length;p<w;p++)A=l[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[A]!==void 0&&s[A]!==null&&typeof s[A].toString=="function"&&(h=("0000"+s[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),c.push("<"+A+"><"+h+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(A){var l=A.font,c=A.out,h=A.newObject,f=A.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,w=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),v="",x=0;x<w.length;x++)v+=String.fromCharCode(w[x]);var B=h();f({data:v,addLength1:!0,objectId:B}),c("endobj");var F=h();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:F}),c("endobj");var S=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+P0(l.fontName)),c("/FontFile2 "+B+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var L=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+P0(l.fontName)),c("/FontDescriptor "+S+" 0 R"),c("/W "+r.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+F+" 0 R"),c("/BaseFont /"+P0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+L+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(A){var l=A.font,c=A.out,h=A.newObject,f=A.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,w="",v=0;v<p.length;v++)w+=String.fromCharCode(p[v]);var x=h();f({data:w,addLength1:!0,objectId:x}),c("endobj");var B=h();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:B}),c("endobj");var F=h();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+P0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=h();for(var S=0;S<l.metadata.hmtx.widths.length;S++)l.metadata.hmtx.widths[S]=parseInt(l.metadata.hmtx.widths[S]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+B+" 0 R/BaseFont/"+P0(l.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var A,l=s.text||"",c=s.x,h=s.y,f=s.options||{},p=s.mutex||{},w=p.pdfEscape,v=p.activeFontKey,x=p.fonts,B=v,F="",S=0,L="",T=x[B].encoding;if(x[B].encoding!=="Identity-H")return{text:l,x:c,y:h,options:f,mutex:p};for(L=l,B=v,Array.isArray(l)&&(L=l[0]),S=0;S<L.length;S+=1)x[B].metadata.hasOwnProperty("cmap")&&(A=x[B].metadata.cmap.unicode.codeMap[L[S].charCodeAt(0)]),A||L[S].charCodeAt(0)<256&&x[B].metadata.hasOwnProperty("Unicode")?F+=L[S]:F+="";var k="";return parseInt(B.slice(1))<14||T==="WinAnsiEncoding"?k=w(F,B).split("").map((function(R){return R.charCodeAt(0).toString(16)})).join(""):T==="Identity-H"&&(k=e(F,x[B])),p.isHex=!0,{text:k,x:c,y:h,options:f,mutex:p}};t.events.push(["postProcessText",function(s){var A=s.text||"",l=[],c={text:A,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(A)){var h=0;for(h=0;h<A.length;h+=1)Array.isArray(A[h])&&A[h].length===3?l.push([i(Object.assign({},c,{text:A[h][0]})).text,A[h][1],A[h][2]]):l.push(i(Object.assign({},c,{text:A[h]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:A})).text}])})(De),(function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(De.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,A,l,c,h,f,p=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},B={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,T=0;this.__bidiEngine__={};var k=function(H){var G=H.charCodeAt(),tt=G>>8,it=B[tt];return it!==void 0?p[256*it+(255&G)]:tt===252||tt===253?"AL":S.test(tt)?"L":tt===8?"R":"N"},R=function(H){for(var G,tt=0;tt<H.length;tt++){if((G=k(H.charAt(tt)))==="L")return!1;if(G==="R")return!0}return!1},M=function(H,G,tt,it){var mt,q,rt,lt,yt=G[it];switch(yt){case"L":case"R":L=!1;break;case"N":case"AN":break;case"EN":L&&(yt="AN");break;case"AL":L=!0,yt="R";break;case"WS":yt="N";break;case"CS":it<1||it+1>=G.length||(mt=tt[it-1])!=="EN"&&mt!=="AN"||(q=G[it+1])!=="EN"&&q!=="AN"?yt="N":L&&(q="AN"),yt=q===mt?q:"N";break;case"ES":yt=(mt=it>0?tt[it-1]:"B")==="EN"&&it+1<G.length&&G[it+1]==="EN"?"EN":"N";break;case"ET":if(it>0&&tt[it-1]==="EN"){yt="EN";break}if(L){yt="N";break}for(rt=it+1,lt=G.length;rt<lt&&G[rt]==="ET";)rt++;yt=rt<lt&&G[rt]==="EN"?"EN":"N";break;case"NSM":if(A&&!l){for(lt=G.length,rt=it+1;rt<lt&&G[rt]==="NSM";)rt++;if(rt<lt){var Et=H[it],st=Et>=1425&&Et<=2303||Et===64286;if(mt=G[rt],st&&(mt==="R"||mt==="AL")){yt="R";break}}}yt=it<1||(mt=G[it-1])==="B"?"N":tt[it-1];break;case"B":L=!1,i=!0,yt=T;break;case"S":s=!0,yt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"BN":yt="N"}return yt},j=function(H,G,tt){var it=H.split("");return tt&&V(it,tt,{hiLevel:T}),it.reverse(),G&&G.reverse(),it.join("")},V=function(H,G,tt){var it,mt,q,rt,lt,yt=-1,Et=H.length,st=0,I=[],X=T?v:w,nt=[];for(L=!1,i=!1,s=!1,mt=0;mt<Et;mt++)nt[mt]=k(H[mt]);for(q=0;q<Et;q++){if(lt=st,I[q]=M(H,nt,I,q),it=240&(st=X[lt][x[I[q]]]),st&=15,G[q]=rt=X[st][5],it>0)if(it===16){for(mt=yt;mt<q;mt++)G[mt]=1;yt=-1}else yt=-1;if(X[st][6])yt===-1&&(yt=q);else if(yt>-1){for(mt=yt;mt<q;mt++)G[mt]=rt;yt=-1}nt[q]==="B"&&(G[q]=0),tt.hiLevel|=rt}s&&(function(at,ht,gt){for(var ft=0;ft<gt;ft++)if(at[ft]==="S"){ht[ft]=T;for(var Ct=ft-1;Ct>=0&&at[Ct]==="WS";Ct--)ht[Ct]=T}})(nt,G,Et)},et=function(H,G,tt,it,mt){if(!(mt.hiLevel<H)){if(H===1&&T===1&&!i)return G.reverse(),void(tt&&tt.reverse());for(var q,rt,lt,yt,Et=G.length,st=0;st<Et;){if(it[st]>=H){for(lt=st+1;lt<Et&&it[lt]>=H;)lt++;for(yt=st,rt=lt-1;yt<rt;yt++,rt--)q=G[yt],G[yt]=G[rt],G[rt]=q,tt&&(q=tt[yt],tt[yt]=tt[rt],tt[rt]=q);st=lt}st++}}},ut=function(H,G,tt){var it=H.split(""),mt={hiLevel:T};return tt||(tt=[]),V(it,tt,mt),(function(q,rt,lt){if(lt.hiLevel!==0&&f)for(var yt,Et=0;Et<q.length;Et++)rt[Et]===1&&(yt=F.indexOf(q[Et]))>=0&&(q[Et]=F[yt+1])})(it,tt,mt),et(2,it,G,tt,mt),et(1,it,G,tt,mt),it.join("")};return this.__bidiEngine__.doBidiReorder=function(H,G,tt){if((function(mt,q){if(q)for(var rt=0;rt<mt.length;rt++)q[rt]=rt;l===void 0&&(l=R(mt)),h===void 0&&(h=R(mt))})(H,G),A||!c||h)if(A&&c&&l^h)T=l?1:0,H=j(H,G,tt);else if(!A&&c&&h)T=l?1:0,H=ut(H,G,tt),H=j(H,G);else if(!A||l||c||h){if(A&&!c&&l^h)H=j(H,G),l?(T=0,H=ut(H,G,tt)):(T=1,H=ut(H,G,tt),H=j(H,G));else if(A&&l&&!c&&h)T=1,H=ut(H,G,tt),H=j(H,G);else if(!A&&!c&&l^h){var it=f;l?(T=1,H=ut(H,G,tt),T=0,f=!1,H=ut(H,G,tt),f=it):(T=0,H=ut(H,G,tt),H=j(H,G),T=1,f=!1,H=ut(H,G,tt),f=it,H=j(H,G))}}else T=0,H=ut(H,G,tt);else T=l?1:0,H=ut(H,G,tt);return H},this.__bidiEngine__.setOptions=function(H){H&&(A=H.isInputVisual,c=H.isOutputVisual,l=H.isInputRtl,h=H.isOutputRtl,f=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),A=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(A=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?A.push([e.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):A.push([e.doBidiReorder(i[l])]);n.text=A}else n.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])})(De),De.API.TTFFont=(function(){function r(t){var e;if(this.rawData=t,e=this.contents=new lf(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new QH(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new vH(this.contents),this.head=new bH(this),this.name=new SH(this),this.cmap=new rQ(this),this.toUnicode={},this.hhea=new BH(this),this.maxp=new _H(this),this.hmtx=new FH(this),this.post=new xH(this),this.os2=new CH(this),this.loca=new TH(this),this.glyf=new UH(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,l,c,h;for(h=[],A=0,l=(c=this.bbox).length;A<l;A++)t=c[A],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),(32768&(e=i>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,n){var i,s,A,l;for(A=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),A+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/e)||0;return A*(e/1e3)},r.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},r})();var gl,lf=(function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(t){var e,n,i;for(i=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,n,i,s,A,l,c;return t=this.readByte(),e=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),A=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^A)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*i+16777216*s+65536*A+256*l+c},r.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},r.prototype.write=function(t){var e,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)e=t[n],s.push(this.writeByte(e));return s},r})(),vH=(function(){var r;function t(e){var n,i,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,i,s,A,l,c,h,f,p,w,v,x,B;for(B in v=Object.keys(e).length,c=Math.log(2),p=16*Math.floor(Math.log(v)/c),A=Math.floor(p/c),f=16*v-p,(i=new lf).writeInt(this.scalarType),i.writeShort(v),i.writeShort(p),i.writeShort(A),i.writeShort(f),s=16*v,h=i.pos+s,l=null,x=[],e)for(w=e[B],i.writeString(B),i.writeInt(r(w)),i.writeInt(h),i.writeInt(w.length),x=x.concat(w),B==="head"&&(l=h),h+=w.length;h%4;)x.push(0),h++;return i.write(x),n=2981146554-r(i.data),i.pos=l+8,i.writeUInt32(n),i.data},r=function(e){var n,i,s,A;for(e=sQ.call(e);e.length%4;)e.push(0);for(s=new lf(e),i=0,n=0,A=e.length;n<A;n=n+=4)i+=s.readUInt32();return 4294967295&i},t})(),yH={}.hasOwnProperty,Uc=function(r,t){for(var e in t)yH.call(t,e)&&(r[e]=t[e]);function n(){this.constructor=r}return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r};gl=(function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var bH=(function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,gl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new lf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),sL=(function(){function r(t,e){var n,i,s,A,l,c,h,f,p,w,v,x,B,F,S,L,T;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(v=t.readUInt16(),w=v/2,t.pos+=6,s=(function(){var k,R;for(R=[],c=k=0;0<=w?k<w:k>w;c=0<=w?++k:--k)R.push(t.readUInt16());return R})(),t.pos+=2,B=(function(){var k,R;for(R=[],c=k=0;0<=w?k<w:k>w;c=0<=w?++k:--k)R.push(t.readUInt16());return R})(),h=(function(){var k,R;for(R=[],c=k=0;0<=w?k<w:k>w;c=0<=w?++k:--k)R.push(t.readUInt16());return R})(),f=(function(){var k,R;for(R=[],c=k=0;0<=w?k<w:k>w;c=0<=w?++k:--k)R.push(t.readUInt16());return R})(),i=(this.length-t.pos+this.offset)/2,l=(function(){var k,R;for(R=[],c=k=0;0<=i?k<i:k>i;c=0<=i?++k:--k)R.push(t.readUInt16());return R})(),c=S=0,T=s.length;S<T;c=++S)for(F=s[c],n=L=x=B[c];x<=F?L<=F:L>=F;n=x<=F?++L:--L)f[c]===0?A=n+h[c]:(A=l[f[c]/2+(n-x)-(w-c)]||0)!==0&&(A+=h[c]),this.codeMap[n]=65535&A}t.pos=p}return r.encode=function(t,e){var n,i,s,A,l,c,h,f,p,w,v,x,B,F,S,L,T,k,R,M,j,V,et,ut,H,G,tt,it,mt,q,rt,lt,yt,Et,st,I,X,nt,at,ht,gt,ft,Ct,qt,jt,Zt;switch(it=new lf,A=Object.keys(t).sort((function($t,Gt){return $t-Gt})),e){case"macroman":for(B=0,F=(function(){var $t=[];for(x=0;x<256;++x)$t.push(0);return $t})(),L={0:0},s={},mt=0,yt=A.length;mt<yt;mt++)L[Ct=t[i=A[mt]]]==null&&(L[Ct]=++B),s[i]={old:t[i],new:L[t[i]]},F[i]=L[t[i]];return it.writeUInt16(1),it.writeUInt16(0),it.writeUInt32(12),it.writeUInt16(0),it.writeUInt16(262),it.writeUInt16(0),it.write(F),{charMap:s,subtable:it.data,maxGlyphID:B+1};case"unicode":for(G=[],p=[],T=0,L={},n={},S=h=null,q=0,Et=A.length;q<Et;q++)L[R=t[i=A[q]]]==null&&(L[R]=++T),n[i]={old:R,new:L[R]},l=L[R]-i,S!=null&&l===h||(S&&p.push(S),G.push(i),h=l),S=i;for(S&&p.push(S),p.push(65535),G.push(65535),ut=2*(et=G.length),V=2*Math.pow(Math.log(et)/Math.LN2,2),w=Math.log(V/2)/Math.LN2,j=2*et-V,c=[],M=[],v=[],x=rt=0,st=G.length;rt<st;x=++rt){if(H=G[x],f=p[x],H===65535){c.push(0),M.push(0);break}if(H-(tt=n[H].new)>=32768)for(c.push(0),M.push(2*(v.length+et-x)),i=lt=H;H<=f?lt<=f:lt>=f;i=H<=f?++lt:--lt)v.push(n[i].new);else c.push(tt-H),M.push(0)}for(it.writeUInt16(3),it.writeUInt16(1),it.writeUInt32(12),it.writeUInt16(4),it.writeUInt16(16+8*et+2*v.length),it.writeUInt16(0),it.writeUInt16(ut),it.writeUInt16(V),it.writeUInt16(w),it.writeUInt16(j),gt=0,I=p.length;gt<I;gt++)i=p[gt],it.writeUInt16(i);for(it.writeUInt16(0),ft=0,X=G.length;ft<X;ft++)i=G[ft],it.writeUInt16(i);for(qt=0,nt=c.length;qt<nt;qt++)l=c[qt],it.writeUInt16(l);for(jt=0,at=M.length;jt<at;jt++)k=M[jt],it.writeUInt16(k);for(Zt=0,ht=v.length;Zt<ht;Zt++)B=v[Zt],it.writeUInt16(B);return{charMap:n,subtable:it.data,maxGlyphID:T+1}}},r})(),rQ=(function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,gl),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new sL(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,s;return n==null&&(n="macroman"),i=sL.encode(e,n),(s=new lf).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t})(),BH=(function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,gl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),CH=(function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,gl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i})(),this.charRange=(function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),xH=(function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,gl),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var A;for(i=e.readUInt16(),this.glyphNameIndex=[],A=0;0<=i?A<i:A>i;A=0<=i?++A:--A)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,h;for(h=[],A=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;A=0<=c?++l:--l)h.push(e.readUInt32());return h}).call(this)}},t})(),EH=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},SH=(function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,gl),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,s,A,l,c,h,f,p,w,v;for(e.pos=this.offset,e.readShort(),n=e.readShort(),c=e.readShort(),i=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(h={},A=p=0,w=i.length;p<w;A=++p)s=i[A],e.pos=s.offset,f=e.readString(s.length),l=new EH(f,s),h[v=s.nameID]==null&&(h[v]=[]),h[s.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t})(),_H=(function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,gl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),FH=(function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,gl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,s,A,l,c,h;for(e.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],n=f=0;0<=s?f<s:f>s;n=0<=s?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,w,v;for(v=[],f=0,p=(w=this.metrics).length;f<p;f++)A=w[f],v.push(A.advance);return v}).call(this),i=this.widths[this.widths.length-1],h=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)h.push(this.widths.push(i));return h},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),sQ=[].slice,UH=(function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,gl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,s,A,l,c,h,f,p,w;return e in this.cache?this.cache[e]:(A=this.file.loca,n=this.file.contents,i=A.indexOf(e),(s=A.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,l=(c=new lf(n.read(s))).readShort(),f=c.readShort(),w=c.readShort(),h=c.readShort(),p=c.readShort(),this.cache[e]=l===-1?new NH(c,f,w,h,p):new LH(c,l,f,w,h,p),this.cache[e]))},t.prototype.encode=function(e,n,i){var s,A,l,c,h;for(l=[],A=[],c=0,h=n.length;c<h;c++)s=e[n[c]],A.push(l.length),s&&(l=l.concat(s.encode(i)));return A.push(l.length),{table:l,offsets:A}},t})(),LH=(function(){function r(t,e,n,i,s,A){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=A,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),NH=(function(){function r(t,e,n,i,s){var A,l;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;l=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&l;)A.pos+=1&l?4:2,128&l?A.pos+=8:64&l?A.pos+=4:8&l&&(A.pos+=2)}return r.prototype.encode=function(){var t,e,n;for(e=new lf(sQ.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},r})(),TH=(function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Uc(t,gl),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,A;for(A=[],i=0,s=this.length;i<s;i+=2)A.push(2*e.readUInt16());return A}).call(this):(function(){var s,A;for(A=[],i=0,s=this.length;i<s;i+=4)A.push(e.readUInt32());return A}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),s=0,A=0,l=0;l<i.length;++l)if(i[l]=s,A<n.length&&n[A]==l){++A,i[l]=s;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(s+=h)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},t})(),QH=(function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,n,i,s;for(e in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[e],t[e]=i[n];return t},r.prototype.glyphsFor=function(t){var e,n,i,s,A,l,c;for(i={},A=0,l=t.length;A<l;A++)i[s=t[A]]=this.font.glyf.glyphFor(s);for(s in e=[],i)(n=i[s])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(s in c=this.glyphsFor(e))n=c[s],i[s]=n;return i},r.prototype.encode=function(t,e){var n,i,s,A,l,c,h,f,p,w,v,x,B,F,S;for(i in n=rQ.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(t),v={0:0},S=n.charMap)v[(c=S[i]).old]=c.new;for(x in w=n.maxGlyphID,A)x in v||(v[x]=w++);return f=(function(L){var T,k;for(T in k={},L)k[L[T]]=T;return k})(v),p=Object.keys(f).sort((function(L,T){return L-T})),B=(function(){var L,T,k;for(k=[],L=0,T=p.length;L<T;L++)l=p[L],k.push(f[l]);return k})(),s=this.font.glyf.encode(A,B,v),h=this.font.loca.encode(s.offsets,B),F={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},r})();De.API.PDFObject=(function(){var r;function t(){}return r=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,i,s,A;if(Array.isArray(e))return"["+(function(){var l,c,h;for(h=[],l=0,c=e.length;l<c;l++)n=e[l],h.push(t.convert(n));return h})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in s=["<<"],e)A=e[i],s.push("/"+i+" "+t.convert(A));return s.push(">>"),s.join(`
`)}return""+e},t})();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WE=function(r,t){return WE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},WE(r,t)};function pl(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");WE(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var $E=function(){return $E=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},$E.apply(this,arguments)};function ha(r,t,e,n){function i(s){return s instanceof e?s:new e(function(A){A(s)})}return new(e||(e=Promise))(function(s,A){function l(f){try{h(n.next(f))}catch(p){A(p)}}function c(f){try{h(n.throw(f))}catch(p){A(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,c)}h((n=n.apply(r,[])).next())})}function Ws(r,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,A;return A={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function l(h){return function(f){return c([h,f])}}function c(h){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,i=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){e=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){e.label=h[1];break}if(h[0]===6&&e.label<s[1]){e.label=s[1],s=h;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(h);break}s[2]&&e.ops.pop(),e.trys.pop();continue}h=t.call(r,e)}catch(f){h=[6,f],i=0}finally{n=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function U2(r,t,e){if(arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||t)}var ih=(function(){function r(t,e,n,i){this.left=t,this.top=e,this.width=n,this.height=i}return r.prototype.add=function(t,e,n,i){return new r(this.left+t,this.top+e,this.width+n,this.height+i)},r.fromClientRect=function(t,e){return new r(e.left+t.windowBounds.left,e.top+t.windowBounds.top,e.width,e.height)},r.fromDOMRectList=function(t,e){var n=Array.from(e).find(function(i){return i.width!==0});return n?new r(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),$5=function(r,t){return ih.fromClientRect(r,t.getBoundingClientRect())},IH=function(r){var t=r.body,e=r.documentElement;if(!t||!e)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,e.scrollWidth),Math.max(t.offsetWidth,e.offsetWidth),Math.max(t.clientWidth,e.clientWidth)),i=Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight));return new ih(0,0,n,i)},J5=function(r){for(var t=[],e=0,n=r.length;e<n;){var i=r.charCodeAt(e++);if(i>=55296&&i<=56319&&e<n){var s=r.charCodeAt(e++);(s&64512)===56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),e--)}else t.push(i)}return t},Ar=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var e=r.length;if(!e)return"";for(var n=[],i=-1,s="";++i<e;){var A=r[i];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(i+1===e||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},aL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DH=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var L2=0;L2<aL.length;L2++)DH[aL.charCodeAt(L2)]=L2;var AL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var N2=0;N2<AL.length;N2++)Hw[AL.charCodeAt(N2)]=N2;var kH=function(r){var t=r.length*.75,e=r.length,n,i=0,s,A,l,c;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<e;n+=4)s=Hw[r.charCodeAt(n)],A=Hw[r.charCodeAt(n+1)],l=Hw[r.charCodeAt(n+2)],c=Hw[r.charCodeAt(n+3)],f[i++]=s<<2|A>>4,f[i++]=(A&15)<<4|l>>2,f[i++]=(l&3)<<6|c&63;return h},OH=function(r){for(var t=r.length,e=[],n=0;n<t;n+=2)e.push(r[n+1]<<8|r[n]);return e},RH=function(r){for(var t=r.length,e=[],n=0;n<t;n+=4)e.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return e},Cp=5,u4=11,$x=2,MH=u4-Cp,aQ=65536>>Cp,HH=1<<Cp,Jx=HH-1,PH=1024>>Cp,jH=aQ+PH,KH=jH,zH=32,GH=KH+zH,VH=65536>>u4,qH=1<<MH,XH=qH-1,oL=function(r,t,e){return r.slice?r.slice(t,e):new Uint16Array(Array.prototype.slice.call(r,t,e))},YH=function(r,t,e){return r.slice?r.slice(t,e):new Uint32Array(Array.prototype.slice.call(r,t,e))},WH=function(r,t){var e=kH(r),n=Array.isArray(e)?RH(e):new Uint32Array(e),i=Array.isArray(e)?OH(e):new Uint16Array(e),s=24,A=oL(i,s/2,n[4]/2),l=n[5]===2?oL(i,(s+n[4])/2):YH(n,Math.ceil((s+n[4])/4));return new $H(n[0],n[1],n[2],n[3],A,l)},$H=(function(){function r(t,e,n,i,s,A){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=A}return r.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>Cp],e=(e<<$x)+(t&Jx),this.data[e];if(t<=65535)return e=this.index[aQ+(t-55296>>Cp)],e=(e<<$x)+(t&Jx),this.data[e];if(t<this.highStart)return e=GH-VH+(t>>u4),e=this.index[e],e+=t>>Cp&XH,e=this.index[e],e=(e<<$x)+(t&Jx),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),lL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",JH=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var T2=0;T2<lL.length;T2++)JH[lL.charCodeAt(T2)]=T2;var ZH="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",cL=50,tP=1,AQ=2,oQ=3,eP=4,nP=5,uL=7,lQ=8,hL=9,nf=10,JE=11,dL=12,ZE=13,iP=14,Pw=15,tS=16,Q2=17,Lw=18,rP=19,fL=20,eS=21,Nw=22,Zx=23,N0=24,gA=25,jw=26,Kw=27,T0=28,sP=29,rg=30,aP=31,I2=32,D2=33,nS=34,iS=35,rS=36,_v=37,sS=38,dB=39,fB=40,tE=41,cQ=42,AP=43,oP=[9001,65288],uQ="!",yn="",k2="",aS=WH(ZH),cu=[rg,rS],AS=[tP,AQ,oQ,nP],hQ=[nf,lQ],gL=[Kw,jw],lP=AS.concat(hQ),pL=[sS,dB,fB,nS,iS],cP=[Pw,ZE],uP=function(r,t){t===void 0&&(t="strict");var e=[],n=[],i=[];return r.forEach(function(s,A){var l=aS.get(s);if(l>cL?(i.push(!0),l-=cL):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(A),e.push(tS);if(l===eP||l===JE){if(A===0)return n.push(A),e.push(rg);var c=e[A-1];return lP.indexOf(c)===-1?(n.push(n[A-1]),e.push(c)):(n.push(A),e.push(rg))}if(n.push(A),l===aP)return e.push(t==="strict"?eS:_v);if(l===cQ||l===sP)return e.push(rg);if(l===AP)return s>=131072&&s<=196605||s>=196608&&s<=262141?e.push(_v):e.push(rg);e.push(l)}),[n,e,i]},eE=function(r,t,e,n){var i=n[e];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var s=e;s<=n.length;){s++;var A=n[s];if(A===t)return!0;if(A!==nf)break}if(i===nf)for(var s=e;s>0;){s--;var l=n[s];if(Array.isArray(r)?r.indexOf(l)!==-1:r===l)for(var c=e;c<=n.length;){c++;var A=n[c];if(A===t)return!0;if(A!==nf)break}if(l!==nf)break}return!1},mL=function(r,t){for(var e=r;e>=0;){var n=t[e];if(n===nf)e--;else return n}return 0},hP=function(r,t,e,n,i){if(e[n]===0)return yn;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return yn;var A=s-1,l=s+1,c=t[s],h=A>=0?t[A]:0,f=t[l];if(c===AQ&&f===oQ)return yn;if(AS.indexOf(c)!==-1)return uQ;if(AS.indexOf(f)!==-1||hQ.indexOf(f)!==-1)return yn;if(mL(s,t)===lQ)return k2;if(aS.get(r[s])===JE||(c===I2||c===D2)&&aS.get(r[l])===JE||c===uL||f===uL||c===hL||[nf,ZE,Pw].indexOf(c)===-1&&f===hL||[Q2,Lw,rP,N0,T0].indexOf(f)!==-1||mL(s,t)===Nw||eE(Zx,Nw,s,t)||eE([Q2,Lw],eS,s,t)||eE(dL,dL,s,t))return yn;if(c===nf)return k2;if(c===Zx||f===Zx)return yn;if(f===tS||c===tS)return k2;if([ZE,Pw,eS].indexOf(f)!==-1||c===iP||h===rS&&cP.indexOf(c)!==-1||c===T0&&f===rS||f===fL||cu.indexOf(f)!==-1&&c===gA||cu.indexOf(c)!==-1&&f===gA||c===Kw&&[_v,I2,D2].indexOf(f)!==-1||[_v,I2,D2].indexOf(c)!==-1&&f===jw||cu.indexOf(c)!==-1&&gL.indexOf(f)!==-1||gL.indexOf(c)!==-1&&cu.indexOf(f)!==-1||[Kw,jw].indexOf(c)!==-1&&(f===gA||[Nw,Pw].indexOf(f)!==-1&&t[l+1]===gA)||[Nw,Pw].indexOf(c)!==-1&&f===gA||c===gA&&[gA,T0,N0].indexOf(f)!==-1)return yn;if([gA,T0,N0,Q2,Lw].indexOf(f)!==-1)for(var p=s;p>=0;){var w=t[p];if(w===gA)return yn;if([T0,N0].indexOf(w)!==-1)p--;else break}if([Kw,jw].indexOf(f)!==-1)for(var p=[Q2,Lw].indexOf(c)!==-1?A:s;p>=0;){var w=t[p];if(w===gA)return yn;if([T0,N0].indexOf(w)!==-1)p--;else break}if(sS===c&&[sS,dB,nS,iS].indexOf(f)!==-1||[dB,nS].indexOf(c)!==-1&&[dB,fB].indexOf(f)!==-1||[fB,iS].indexOf(c)!==-1&&f===fB||pL.indexOf(c)!==-1&&[fL,jw].indexOf(f)!==-1||pL.indexOf(f)!==-1&&c===Kw||cu.indexOf(c)!==-1&&cu.indexOf(f)!==-1||c===N0&&cu.indexOf(f)!==-1||cu.concat(gA).indexOf(c)!==-1&&f===Nw&&oP.indexOf(r[l])===-1||cu.concat(gA).indexOf(f)!==-1&&c===Lw)return yn;if(c===tE&&f===tE){for(var v=e[s],x=1;v>0&&(v--,t[v]===tE);)x++;if(x%2!==0)return yn}return c===I2&&f===D2?yn:k2},dP=function(r,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var e=uP(r,t.lineBreak),n=e[0],i=e[1],s=e[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(l){return[gA,rg,cQ].indexOf(l)!==-1?_v:l}));var A=t.wordBreak==="keep-all"?s.map(function(l,c){return l&&r[c]>=19968&&r[c]<=40959}):void 0;return[n,i,A]},fP=(function(){function r(t,e,n,i){this.codePoints=t,this.required=e===uQ,this.start=n,this.end=i}return r.prototype.slice=function(){return Ar.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),gP=function(r,t){var e=J5(r),n=dP(e,t),i=n[0],s=n[1],A=n[2],l=e.length,c=0,h=0;return{next:function(){if(h>=l)return{done:!0,value:null};for(var f=yn;h<l&&(f=hP(e,s,i,++h,A))===yn;);if(f!==yn||h===l){var p=new fP(e,f,c,h);return c=h,{value:p,done:!1}}return{done:!0,value:null}}}},pP=1,mP=2,mb=4,wL=8,i5=10,vL=47,wv=92,wP=9,vP=32,O2=34,Tw=61,yP=35,bP=36,BP=37,R2=39,M2=40,Qw=41,CP=95,Ja=45,xP=33,EP=60,SP=62,_P=64,FP=91,UP=93,LP=61,NP=123,H2=63,TP=125,yL=124,QP=126,IP=128,bL=65533,nE=42,lg=43,DP=44,kP=58,OP=59,Fv=46,RP=0,MP=8,HP=11,PP=14,jP=31,KP=127,Wl=-1,dQ=48,fQ=97,gQ=101,zP=102,GP=117,VP=122,pQ=65,mQ=69,wQ=70,qP=85,XP=90,$s=function(r){return r>=dQ&&r<=57},YP=function(r){return r>=55296&&r<=57343},Q0=function(r){return $s(r)||r>=pQ&&r<=wQ||r>=fQ&&r<=zP},WP=function(r){return r>=fQ&&r<=VP},$P=function(r){return r>=pQ&&r<=XP},JP=function(r){return WP(r)||$P(r)},ZP=function(r){return r>=IP},P2=function(r){return r===i5||r===wP||r===vP},r5=function(r){return JP(r)||ZP(r)||r===CP},BL=function(r){return r5(r)||$s(r)||r===Ja},tj=function(r){return r>=RP&&r<=MP||r===HP||r>=PP&&r<=jP||r===KP},id=function(r,t){return r!==wv?!1:t!==i5},j2=function(r,t,e){return r===Ja?r5(t)||id(t,e):r5(r)?!0:!!(r===wv&&id(r,t))},iE=function(r,t,e){return r===lg||r===Ja?$s(t)?!0:t===Fv&&$s(e):$s(r===Fv?t:r)},ej=function(r){var t=0,e=1;(r[t]===lg||r[t]===Ja)&&(r[t]===Ja&&(e=-1),t++);for(var n=[];$s(r[t]);)n.push(r[t++]);var i=n.length?parseInt(Ar.apply(void 0,n),10):0;r[t]===Fv&&t++;for(var s=[];$s(r[t]);)s.push(r[t++]);var A=s.length,l=A?parseInt(Ar.apply(void 0,s),10):0;(r[t]===mQ||r[t]===gQ)&&t++;var c=1;(r[t]===lg||r[t]===Ja)&&(r[t]===Ja&&(c=-1),t++);for(var h=[];$s(r[t]);)h.push(r[t++]);var f=h.length?parseInt(Ar.apply(void 0,h),10):0;return e*(i+l*Math.pow(10,-A))*Math.pow(10,c*f)},nj={type:2},ij={type:3},rj={type:4},sj={type:13},aj={type:8},Aj={type:21},oj={type:9},lj={type:10},cj={type:11},uj={type:12},hj={type:14},K2={type:23},dj={type:1},fj={type:25},gj={type:24},pj={type:26},mj={type:27},wj={type:28},vj={type:29},yj={type:31},oS={type:32},vQ=(function(){function r(){this._value=[]}return r.prototype.write=function(t){this._value=this._value.concat(J5(t))},r.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==oS;)t.push(e),e=this.consumeToken();return t},r.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case O2:return this.consumeStringToken(O2);case yP:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(BL(e)||id(n,i)){var s=j2(e,n,i)?mP:pP,A=this.consumeName();return{type:5,value:A,flags:s}}break;case bP:if(this.peekCodePoint(0)===Tw)return this.consumeCodePoint(),sj;break;case R2:return this.consumeStringToken(R2);case M2:return nj;case Qw:return ij;case nE:if(this.peekCodePoint(0)===Tw)return this.consumeCodePoint(),hj;break;case lg:if(iE(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case DP:return rj;case Ja:var l=t,c=this.peekCodePoint(0),h=this.peekCodePoint(1);if(iE(l,c,h))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(j2(l,c,h))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Ja&&h===SP)return this.consumeCodePoint(),this.consumeCodePoint(),gj;break;case Fv:if(iE(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case vL:if(this.peekCodePoint(0)===nE)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===nE&&(f=this.consumeCodePoint(),f===vL))return this.consumeToken();if(f===Wl)return this.consumeToken()}break;case kP:return pj;case OP:return mj;case EP:if(this.peekCodePoint(0)===xP&&this.peekCodePoint(1)===Ja&&this.peekCodePoint(2)===Ja)return this.consumeCodePoint(),this.consumeCodePoint(),fj;break;case _P:var p=this.peekCodePoint(0),w=this.peekCodePoint(1),v=this.peekCodePoint(2);if(j2(p,w,v)){var A=this.consumeName();return{type:7,value:A}}break;case FP:return wj;case wv:if(id(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case UP:return vj;case LP:if(this.peekCodePoint(0)===Tw)return this.consumeCodePoint(),aj;break;case NP:return cj;case TP:return uj;case GP:case qP:var x=this.peekCodePoint(0),B=this.peekCodePoint(1);return x===lg&&(Q0(B)||B===H2)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case yL:if(this.peekCodePoint(0)===Tw)return this.consumeCodePoint(),oj;if(this.peekCodePoint(0)===yL)return this.consumeCodePoint(),Aj;break;case QP:if(this.peekCodePoint(0)===Tw)return this.consumeCodePoint(),lj;break;case Wl:return oS}return P2(t)?(this.consumeWhiteSpace(),yj):$s(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):r5(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ar(t)}},r.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},r.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},r.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},r.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();Q0(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;e===H2&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Ar.apply(void 0,t.map(function(c){return c===H2?dQ:c})),16),s=parseInt(Ar.apply(void 0,t.map(function(c){return c===H2?wQ:c})),16);return{type:30,start:i,end:s}}var A=parseInt(Ar.apply(void 0,t),16);if(this.peekCodePoint(0)===Ja&&Q0(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var l=[];Q0(e)&&l.length<6;)l.push(e),e=this.consumeCodePoint();var s=parseInt(Ar.apply(void 0,l),16);return{type:30,start:A,end:s}}else return{type:30,start:A,end:A}},r.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===M2?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===M2?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},r.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Wl)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===R2||e===O2){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Wl||this.peekCodePoint(0)===Qw)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),K2)}for(;;){var i=this.consumeCodePoint();if(i===Wl||i===Qw)return{type:22,value:Ar.apply(void 0,t)};if(P2(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Wl||this.peekCodePoint(0)===Qw?(this.consumeCodePoint(),{type:22,value:Ar.apply(void 0,t)}):(this.consumeBadUrlRemnants(),K2);if(i===O2||i===R2||i===M2||tj(i))return this.consumeBadUrlRemnants(),K2;if(i===wv)if(id(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),K2;else t.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;P2(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Qw||t===Wl)return;id(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(t){for(var e=5e4,n="";t>0;){var i=Math.min(e,t);n+=Ar.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(t){var e="",n=0;do{var i=this._value[n];if(i===Wl||i===void 0||i===t)return e+=this.consumeStringSlice(n),{type:0,value:e};if(i===i5)return this._value.splice(0,n),dj;if(i===wv){var s=this._value[n+1];s!==Wl&&s!==void 0&&(s===i5?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):id(i,s)&&(e+=this.consumeStringSlice(n),e+=Ar(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var t=[],e=mb,n=this.peekCodePoint(0);for((n===lg||n===Ja)&&t.push(this.consumeCodePoint());$s(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Fv&&$s(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=wL;$s(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===mQ||n===gQ)&&((i===lg||i===Ja)&&$s(s)||$s(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=wL;$s(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[ej(t),e]},r.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),A=this.peekCodePoint(2);if(j2(i,s,A)){var l=this.consumeName();return{type:15,number:e,flags:n,unit:l}}return i===BP?(this.consumeCodePoint(),{type:16,number:e,flags:n}):{type:17,number:e,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Q0(t)){for(var e=Ar(t);Q0(this.peekCodePoint(0))&&e.length<6;)e+=Ar(this.consumeCodePoint());P2(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return n===0||YP(n)||n>1114111?bL:n}return t===Wl?bL:t},r.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(BL(e))t+=Ar(e);else if(id(e,this.peekCodePoint(0)))t+=Ar(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),t}},r})(),yQ=(function(){function r(t){this._tokens=t}return r.create=function(t){var e=new vQ;return e.write(t),new r(e.read())},r.parseValue=function(t){return r.create(t).parseComponentValue()},r.parseValues=function(t){return r.create(t).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===32)return t;t.push(e),t.push()}},r.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},r.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||Bj(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?oS:t},r.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},r})(),wb=function(r){return r.type===15},j1=function(r){return r.type===17},ei=function(r){return r.type===20},bj=function(r){return r.type===0},lS=function(r,t){return ei(r)&&r.value===t},bQ=function(r){return r.type!==31},M1=function(r){return r.type!==31&&r.type!==4},Lc=function(r){var t=[],e=[];return r.forEach(function(n){if(n.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(e),e=[];return}n.type!==31&&e.push(n)}),e.length&&t.push(e),t},Bj=function(r,t){return t===11&&r.type===12||t===28&&r.type===29?!0:t===2&&r.type===3},cf=function(r){return r.type===17||r.type===15},Er=function(r){return r.type===16||cf(r)},BQ=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},_s={type:17,number:0,flags:mb},h4={type:16,number:50,flags:mb},rf={type:16,number:100,flags:mb},zw=function(r,t,e){var n=r[0],i=r[1];return[vi(n,t),vi(typeof i<"u"?i:n,e)]},vi=function(r,t){if(r.type===16)return r.number/100*t;if(wb(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},CQ="deg",xQ="grad",EQ="rad",SQ="turn",Z5={name:"angle",parse:function(r,t){if(t.type===15)switch(t.unit){case CQ:return Math.PI*t.number/180;case xQ:return Math.PI/200*t.number;case EQ:return t.number;case SQ:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},_Q=function(r){return r.type===15&&(r.unit===CQ||r.unit===xQ||r.unit===EQ||r.unit===SQ)},FQ=function(r){var t=r.filter(ei).map(function(e){return e.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[_s,_s];case"to top":case"bottom":return Bo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[_s,rf];case"to right":case"left":return Bo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[rf,rf];case"to bottom":case"top":return Bo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[rf,_s];case"to left":case"right":return Bo(270)}return 0},Bo=function(r){return Math.PI*r/180},af={name:"color",parse:function(r,t){if(t.type===18){var e=Cj[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(r,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3);return sf(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3),A=t.value.substring(3,4);return sf(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(A+A,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6);return sf(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6),A=t.value.substring(6,8);return sf(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(A,16)/255)}}if(t.type===20){var l=Zu[t.value.toUpperCase()];if(typeof l<"u")return l}return Zu.TRANSPARENT}},Af=function(r){return(255&r)===0},es=function(r){var t=255&r,e=255&r>>8,n=255&r>>16,i=255&r>>24;return t<255?"rgba("+i+","+n+","+e+","+t/255+")":"rgb("+i+","+n+","+e+")"},sf=function(r,t,e,n){return(r<<24|t<<16|e<<8|Math.round(n*255)<<0)>>>0},CL=function(r,t){if(r.type===17)return r.number;if(r.type===16){var e=t===3?1:255;return t===3?r.number/100*e:Math.round(r.number/100*e)}return 0},xL=function(r,t){var e=t.filter(M1);if(e.length===3){var n=e.map(CL),i=n[0],s=n[1],A=n[2];return sf(i,s,A,1)}if(e.length===4){var l=e.map(CL),i=l[0],s=l[1],A=l[2],c=l[3];return sf(i,s,A,c)}return 0};function rE(r,t,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(t-r)*e*6+r:e<1/2?t:e<2/3?(t-r)*6*(2/3-e)+r:r}var EL=function(r,t){var e=t.filter(M1),n=e[0],i=e[1],s=e[2],A=e[3],l=(n.type===17?Bo(n.number):Z5.parse(r,n))/(Math.PI*2),c=Er(i)?i.number/100:0,h=Er(s)?s.number/100:0,f=typeof A<"u"&&Er(A)?vi(A,1):1;if(c===0)return sf(h*255,h*255,h*255,1);var p=h<=.5?h*(c+1):h+c-h*c,w=h*2-p,v=rE(w,p,l+1/3),x=rE(w,p,l),B=rE(w,p,l-1/3);return sf(v*255,x*255,B*255,f)},Cj={hsl:EL,hsla:EL,rgb:xL,rgba:xL},vv=function(r,t){return af.parse(r,yQ.create(t).parseComponentValue())},Zu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},xj={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,t){return t.map(function(e){if(ei(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ej={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tC=function(r,t){var e=af.parse(r,t[0]),n=t[1];return n&&Er(n)?{color:e,stop:n}:{color:e,stop:null}},SL=function(r,t){var e=r[0],n=r[r.length-1];e.stop===null&&(e.stop=_s),n.stop===null&&(n.stop=rf);for(var i=[],s=0,A=0;A<r.length;A++){var l=r[A].stop;if(l!==null){var c=vi(l,t);c>s?i.push(c):i.push(s),s=c}else i.push(null)}for(var h=null,A=0;A<i.length;A++){var f=i[A];if(f===null)h===null&&(h=A);else if(h!==null){for(var p=A-h,w=i[h-1],v=(f-w)/(p+1),x=1;x<=p;x++)i[h+x-1]=v*x;h=null}}return r.map(function(B,F){var S=B.color;return{color:S,stop:Math.max(Math.min(1,i[F]/t),0)}})},Sj=function(r,t,e){var n=t/2,i=e/2,s=vi(r[0],t)-n,A=i-vi(r[1],e);return(Math.atan2(A,s)+Math.PI*2)%(Math.PI*2)},_j=function(r,t,e){var n=typeof r=="number"?r:Sj(r,t,e),i=Math.abs(t*Math.sin(n))+Math.abs(e*Math.cos(n)),s=t/2,A=e/2,l=i/2,c=Math.sin(n-Math.PI/2)*l,h=Math.cos(n-Math.PI/2)*l;return[i,s-h,s+h,A-c,A+c]},qo=function(r,t){return Math.sqrt(r*r+t*t)},_L=function(r,t,e,n,i){var s=[[0,0],[0,t],[r,0],[r,t]];return s.reduce(function(A,l){var c=l[0],h=l[1],f=qo(e-c,n-h);return(i?f<A.optimumDistance:f>A.optimumDistance)?{optimumCorner:l,optimumDistance:f}:A},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Fj=function(r,t,e,n,i){var s=0,A=0;switch(r.size){case 0:r.shape===0?s=A=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(e),Math.abs(e-i)):r.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-n)),A=Math.min(Math.abs(e),Math.abs(e-i)));break;case 2:if(r.shape===0)s=A=Math.min(qo(t,e),qo(t,e-i),qo(t-n,e),qo(t-n,e-i));else if(r.shape===1){var l=Math.min(Math.abs(e),Math.abs(e-i))/Math.min(Math.abs(t),Math.abs(t-n)),c=_L(n,i,t,e,!0),h=c[0],f=c[1];s=qo(h-t,(f-e)/l),A=l*s}break;case 1:r.shape===0?s=A=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(e),Math.abs(e-i)):r.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-n)),A=Math.max(Math.abs(e),Math.abs(e-i)));break;case 3:if(r.shape===0)s=A=Math.max(qo(t,e),qo(t,e-i),qo(t-n,e),qo(t-n,e-i));else if(r.shape===1){var l=Math.max(Math.abs(e),Math.abs(e-i))/Math.max(Math.abs(t),Math.abs(t-n)),p=_L(n,i,t,e,!1),h=p[0],f=p[1];s=qo(h-t,(f-e)/l),A=l*s}break}return Array.isArray(r.size)&&(s=vi(r.size[0],n),A=r.size.length===2?vi(r.size[1],i):s),[s,A]},Uj=function(r,t){var e=Bo(180),n=[];return Lc(t).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&A.value==="to"){e=FQ(i);return}else if(_Q(A)){e=Z5.parse(r,A);return}}var l=tC(r,i);n.push(l)}),{angle:e,stops:n,type:1}},z2=function(r,t){var e=Bo(180),n=[];return Lc(t).forEach(function(i,s){if(s===0){var A=i[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){e=FQ(i);return}else if(_Q(A)){e=(Z5.parse(r,A)+Bo(270))%Bo(360);return}}var l=tC(r,i);n.push(l)}),{angle:e,stops:n,type:1}},Lj=function(r,t){var e=Bo(180),n=[],i=1,s=0,A=3,l=[];return Lc(t).forEach(function(c,h){var f=c[0];if(h===0){if(ei(f)&&f.value==="linear"){i=1;return}else if(ei(f)&&f.value==="radial"){i=2;return}}if(f.type===18){if(f.name==="from"){var p=af.parse(r,f.values[0]);n.push({stop:_s,color:p})}else if(f.name==="to"){var p=af.parse(r,f.values[0]);n.push({stop:rf,color:p})}else if(f.name==="color-stop"){var w=f.values.filter(M1);if(w.length===2){var p=af.parse(r,w[1]),v=w[0];j1(v)&&n.push({stop:{type:16,number:v.number*100,flags:v.flags},color:p})}}}}),i===1?{angle:(e+Bo(180))%Bo(360),stops:n,type:i}:{size:A,shape:s,stops:n,position:l,type:i}},UQ="closest-side",LQ="farthest-side",NQ="closest-corner",TQ="farthest-corner",QQ="circle",IQ="ellipse",DQ="cover",kQ="contain",Nj=function(r,t){var e=0,n=3,i=[],s=[];return Lc(t).forEach(function(A,l){var c=!0;if(l===0){var h=!1;c=A.reduce(function(p,w){if(h)if(ei(w))switch(w.value){case"center":return s.push(h4),p;case"top":case"left":return s.push(_s),p;case"right":case"bottom":return s.push(rf),p}else(Er(w)||cf(w))&&s.push(w);else if(ei(w))switch(w.value){case QQ:return e=0,!1;case IQ:return e=1,!1;case"at":return h=!0,!1;case UQ:return n=0,!1;case DQ:case LQ:return n=1,!1;case kQ:case NQ:return n=2,!1;case TQ:return n=3,!1}else if(cf(w)||Er(w))return Array.isArray(n)||(n=[]),n.push(w),!1;return p},c)}if(c){var f=tC(r,A);i.push(f)}}),{size:n,shape:e,stops:i,position:s,type:2}},G2=function(r,t){var e=0,n=3,i=[],s=[];return Lc(t).forEach(function(A,l){var c=!0;if(l===0?c=A.reduce(function(f,p){if(ei(p))switch(p.value){case"center":return s.push(h4),!1;case"top":case"left":return s.push(_s),!1;case"right":case"bottom":return s.push(rf),!1}else if(Er(p)||cf(p))return s.push(p),!1;return f},c):l===1&&(c=A.reduce(function(f,p){if(ei(p))switch(p.value){case QQ:return e=0,!1;case IQ:return e=1,!1;case kQ:case UQ:return n=0,!1;case LQ:return n=1,!1;case NQ:return n=2,!1;case DQ:case TQ:return n=3,!1}else if(cf(p)||Er(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return f},c)),c){var h=tC(r,A);i.push(h)}}),{size:n,shape:e,stops:i,position:s,type:2}},Tj=function(r){return r.type===1},Qj=function(r){return r.type===2},d4={name:"image",parse:function(r,t){if(t.type===22){var e={url:t.value,type:0};return r.cache.addImage(t.value),e}if(t.type===18){var n=OQ[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(r,t.values)}throw new Error("Unsupported image type "+t.type)}};function Ij(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!OQ[r.name])}var OQ={"linear-gradient":Uj,"-moz-linear-gradient":z2,"-ms-linear-gradient":z2,"-o-linear-gradient":z2,"-webkit-linear-gradient":z2,"radial-gradient":Nj,"-moz-radial-gradient":G2,"-ms-radial-gradient":G2,"-o-radial-gradient":G2,"-webkit-radial-gradient":G2,"-webkit-gradient":Lj},Dj={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t.filter(function(n){return M1(n)&&Ij(n)}).map(function(n){return d4.parse(r,n)})}},kj={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,t){return t.map(function(e){if(ei(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Oj={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,t){return Lc(t).map(function(e){return e.filter(Er)}).map(BQ)}},Rj={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,t){return Lc(t).map(function(e){return e.filter(ei).map(function(n){return n.value}).join(" ")}).map(Mj)}},Mj=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},cm;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(cm||(cm={}));var Hj={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,t){return Lc(t).map(function(e){return e.filter(Pj)})}},Pj=function(r){return ei(r)||Er(r)},eC=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},jj=eC("top"),Kj=eC("right"),zj=eC("bottom"),Gj=eC("left"),nC=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return BQ(e.filter(Er))}}},Vj=nC("top-left"),qj=nC("top-right"),Xj=nC("bottom-right"),Yj=nC("bottom-left"),iC=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Wj=iC("top"),$j=iC("right"),Jj=iC("bottom"),Zj=iC("left"),rC=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return wb(e)?e.number:0}}},t7=rC("top"),e7=rC("right"),n7=rC("bottom"),i7=rC("left"),r7={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},s7={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},a7={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,t){return t.filter(ei).reduce(function(e,n){return e|A7(n.value)},0)}},A7=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},o7={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},l7={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},s5;(function(r){r.NORMAL="normal",r.STRICT="strict"})(s5||(s5={}));var c7={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"strict":return s5.STRICT;case"normal":default:return s5.NORMAL}}},u7={name:"line-height",initialValue:"normal",prefix:!1,type:4},FL=function(r,t){return ei(r)&&r.value==="normal"?1.2*t:r.type===17?t*r.number:Er(r)?vi(r,t):t},h7={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,t){return t.type===20&&t.value==="none"?null:d4.parse(r,t)}},d7={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},cS={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},sC=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},f7=sC("top"),g7=sC("right"),p7=sC("bottom"),m7=sC("left"),w7={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,t){return t.filter(ei).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},v7={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},aC=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},y7=aC("top"),b7=aC("right"),B7=aC("bottom"),C7=aC("left"),x7={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},E7={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},S7={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.length===1&&lS(t[0],"none")?[]:Lc(t).map(function(e){for(var n={color:Zu.TRANSPARENT,offsetX:_s,offsetY:_s,blur:_s},i=0,s=0;s<e.length;s++){var A=e[s];cf(A)?(i===0?n.offsetX=A:i===1?n.offsetY=A:n.blur=A,i++):n.color=af.parse(r,A)}return n})}},_7={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},F7={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var e=N7[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},U7=function(r){var t=r.filter(function(e){return e.type===17}).map(function(e){return e.number});return t.length===6?t:null},L7=function(r){var t=r.filter(function(c){return c.type===17}).map(function(c){return c.number}),e=t[0],n=t[1];t[2],t[3];var i=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var A=t[12],l=t[13];return t[14],t[15],t.length===16?[e,n,i,s,A,l]:null},N7={matrix:U7,matrix3d:L7},UL={type:16,number:50,flags:mb},T7=[UL,UL],Q7={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,t){var e=t.filter(Er);return e.length!==2?T7:[e[0],e[1]]}},I7={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},yv;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(yv||(yv={}));var D7={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"break-all":return yv.BREAK_ALL;case"keep-all":return yv.KEEP_ALL;case"normal":default:return yv.NORMAL}}},k7={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,t){if(t.type===20)return{auto:!0,order:0};if(j1(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},RQ={name:"time",parse:function(r,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},O7={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,t){return j1(t)?t.number:1}},R7={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},M7={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,t){return t.filter(ei).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},H7={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,t){var e=[],n=[];return t.forEach(function(i){switch(i.type){case 20:case 0:e.push(i.value);break;case 17:e.push(i.number.toString());break;case 4:n.push(e.join(" ")),e.length=0;break}}),e.length&&n.push(e.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},P7={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},j7={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,t){if(j1(t))return t.number;if(ei(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},K7={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.filter(ei).map(function(e){return e.value})}},z7={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Hr=function(r,t){return(r&t)!==0},G7={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t}},V7={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;for(var n=[],i=t.filter(bQ),s=0;s<i.length;s++){var A=i[s],l=i[s+1];if(A.type===20){var c=l&&j1(l)?l.number:1;n.push({counter:A.value,increment:c})}}return n}},q7={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return[];for(var e=[],n=t.filter(bQ),i=0;i<n.length;i++){var s=n[i],A=n[i+1];if(ei(s)&&s.value!=="none"){var l=A&&j1(A)?A.number:0;e.push({counter:s.value,reset:l})}}return e}},X7={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,t){return t.filter(wb).map(function(e){return RQ.parse(r,e)})}},Y7={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;var n=[],i=t.filter(bj);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var A=i[s].value,l=i[s+1].value;n.push({open:A,close:l})}return n}},LL=function(r,t,e){if(!r)return"";var n=r[Math.min(t,r.length-1)];return n?e?n.open:n.close:""},W7={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.length===1&&lS(t[0],"none")?[]:Lc(t).map(function(e){for(var n={color:255,offsetX:_s,offsetY:_s,blur:_s,spread:_s,inset:!1},i=0,s=0;s<e.length;s++){var A=e[s];lS(A,"inset")?n.inset=!0:cf(A)?(i===0?n.offsetX=A:i===1?n.offsetY=A:i===2?n.blur=A:n.spread=A,i++):n.color=af.parse(r,A)}return n})}},$7={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,t){var e=[0,1,2],n=[];return t.filter(ei).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),e.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},J7={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Z7={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,t){return wb(t)?t.number:0}},t9=(function(){function r(t,e){var n,i;this.animationDuration=ue(t,X7,e.animationDuration),this.backgroundClip=ue(t,xj,e.backgroundClip),this.backgroundColor=ue(t,Ej,e.backgroundColor),this.backgroundImage=ue(t,Dj,e.backgroundImage),this.backgroundOrigin=ue(t,kj,e.backgroundOrigin),this.backgroundPosition=ue(t,Oj,e.backgroundPosition),this.backgroundRepeat=ue(t,Rj,e.backgroundRepeat),this.backgroundSize=ue(t,Hj,e.backgroundSize),this.borderTopColor=ue(t,jj,e.borderTopColor),this.borderRightColor=ue(t,Kj,e.borderRightColor),this.borderBottomColor=ue(t,zj,e.borderBottomColor),this.borderLeftColor=ue(t,Gj,e.borderLeftColor),this.borderTopLeftRadius=ue(t,Vj,e.borderTopLeftRadius),this.borderTopRightRadius=ue(t,qj,e.borderTopRightRadius),this.borderBottomRightRadius=ue(t,Xj,e.borderBottomRightRadius),this.borderBottomLeftRadius=ue(t,Yj,e.borderBottomLeftRadius),this.borderTopStyle=ue(t,Wj,e.borderTopStyle),this.borderRightStyle=ue(t,$j,e.borderRightStyle),this.borderBottomStyle=ue(t,Jj,e.borderBottomStyle),this.borderLeftStyle=ue(t,Zj,e.borderLeftStyle),this.borderTopWidth=ue(t,t7,e.borderTopWidth),this.borderRightWidth=ue(t,e7,e.borderRightWidth),this.borderBottomWidth=ue(t,n7,e.borderBottomWidth),this.borderLeftWidth=ue(t,i7,e.borderLeftWidth),this.boxShadow=ue(t,W7,e.boxShadow),this.color=ue(t,r7,e.color),this.direction=ue(t,s7,e.direction),this.display=ue(t,a7,e.display),this.float=ue(t,o7,e.cssFloat),this.fontFamily=ue(t,H7,e.fontFamily),this.fontSize=ue(t,P7,e.fontSize),this.fontStyle=ue(t,z7,e.fontStyle),this.fontVariant=ue(t,K7,e.fontVariant),this.fontWeight=ue(t,j7,e.fontWeight),this.letterSpacing=ue(t,l7,e.letterSpacing),this.lineBreak=ue(t,c7,e.lineBreak),this.lineHeight=ue(t,u7,e.lineHeight),this.listStyleImage=ue(t,h7,e.listStyleImage),this.listStylePosition=ue(t,d7,e.listStylePosition),this.listStyleType=ue(t,cS,e.listStyleType),this.marginTop=ue(t,f7,e.marginTop),this.marginRight=ue(t,g7,e.marginRight),this.marginBottom=ue(t,p7,e.marginBottom),this.marginLeft=ue(t,m7,e.marginLeft),this.opacity=ue(t,O7,e.opacity);var s=ue(t,w7,e.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ue(t,v7,e.overflowWrap),this.paddingTop=ue(t,y7,e.paddingTop),this.paddingRight=ue(t,b7,e.paddingRight),this.paddingBottom=ue(t,B7,e.paddingBottom),this.paddingLeft=ue(t,C7,e.paddingLeft),this.paintOrder=ue(t,$7,e.paintOrder),this.position=ue(t,E7,e.position),this.textAlign=ue(t,x7,e.textAlign),this.textDecorationColor=ue(t,R7,(n=e.textDecorationColor)!==null&&n!==void 0?n:e.color),this.textDecorationLine=ue(t,M7,(i=e.textDecorationLine)!==null&&i!==void 0?i:e.textDecoration),this.textShadow=ue(t,S7,e.textShadow),this.textTransform=ue(t,_7,e.textTransform),this.transform=ue(t,F7,e.transform),this.transformOrigin=ue(t,Q7,e.transformOrigin),this.visibility=ue(t,I7,e.visibility),this.webkitTextStrokeColor=ue(t,J7,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=ue(t,Z7,e.webkitTextStrokeWidth),this.wordBreak=ue(t,D7,e.wordBreak),this.zIndex=ue(t,k7,e.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Af(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return Hr(this.display,4)||Hr(this.display,33554432)||Hr(this.display,268435456)||Hr(this.display,536870912)||Hr(this.display,67108864)||Hr(this.display,134217728)},r})(),e9=(function(){function r(t,e){this.content=ue(t,G7,e.content),this.quotes=ue(t,Y7,e.quotes)}return r})(),NL=(function(){function r(t,e){this.counterIncrement=ue(t,V7,e.counterIncrement),this.counterReset=ue(t,q7,e.counterReset)}return r})(),ue=function(r,t,e){var n=new vQ,i=e!==null&&typeof e<"u"?e.toString():t.initialValue;n.write(i);var s=new yQ(n.read());switch(t.type){case 2:var A=s.parseComponentValue();return t.parse(r,ei(A)?A.value:t.initialValue);case 0:return t.parse(r,s.parseComponentValue());case 1:return t.parse(r,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Z5.parse(r,s.parseComponentValue());case"color":return af.parse(r,s.parseComponentValue());case"image":return d4.parse(r,s.parseComponentValue());case"length":var l=s.parseComponentValue();return cf(l)?l:_s;case"length-percentage":var c=s.parseComponentValue();return Er(c)?c:_s;case"time":return RQ.parse(r,s.parseComponentValue())}break}},n9="data-html2canvas-debug",i9=function(r){var t=r.getAttribute(n9);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},uS=function(r,t){var e=i9(r);return e===1||t===e},Nc=(function(){function r(t,e){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,uS(e,3))debugger;this.styles=new t9(t,window.getComputedStyle(e,null)),fS(e)&&(this.styles.animationDuration.some(function(n){return n>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=$5(this.context,e),uS(e,4)&&(this.flags|=16)}return r})(),r9="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",TL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var V2=0;V2<TL.length;V2++)Gw[TL.charCodeAt(V2)]=V2;var s9=function(r){var t=r.length*.75,e=r.length,n,i=0,s,A,l,c;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<e;n+=4)s=Gw[r.charCodeAt(n)],A=Gw[r.charCodeAt(n+1)],l=Gw[r.charCodeAt(n+2)],c=Gw[r.charCodeAt(n+3)],f[i++]=s<<2|A>>4,f[i++]=(A&15)<<4|l>>2,f[i++]=(l&3)<<6|c&63;return h},a9=function(r){for(var t=r.length,e=[],n=0;n<t;n+=2)e.push(r[n+1]<<8|r[n]);return e},A9=function(r){for(var t=r.length,e=[],n=0;n<t;n+=4)e.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return e},xp=5,f4=11,sE=2,o9=f4-xp,MQ=65536>>xp,l9=1<<xp,aE=l9-1,c9=1024>>xp,u9=MQ+c9,h9=u9,d9=32,f9=h9+d9,g9=65536>>f4,p9=1<<o9,m9=p9-1,QL=function(r,t,e){return r.slice?r.slice(t,e):new Uint16Array(Array.prototype.slice.call(r,t,e))},w9=function(r,t,e){return r.slice?r.slice(t,e):new Uint32Array(Array.prototype.slice.call(r,t,e))},v9=function(r,t){var e=s9(r),n=Array.isArray(e)?A9(e):new Uint32Array(e),i=Array.isArray(e)?a9(e):new Uint16Array(e),s=24,A=QL(i,s/2,n[4]/2),l=n[5]===2?QL(i,(s+n[4])/2):w9(n,Math.ceil((s+n[4])/4));return new y9(n[0],n[1],n[2],n[3],A,l)},y9=(function(){function r(t,e,n,i,s,A){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=A}return r.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>xp],e=(e<<sE)+(t&aE),this.data[e];if(t<=65535)return e=this.index[MQ+(t-55296>>xp)],e=(e<<sE)+(t&aE),this.data[e];if(t<this.highStart)return e=f9-g9+(t>>f4),e=this.index[e],e+=t>>xp&m9,e=this.index[e],e=(e<<sE)+(t&aE),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),IL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var q2=0;q2<IL.length;q2++)b9[IL.charCodeAt(q2)]=q2;var B9=1,AE=2,oE=3,DL=4,kL=5,C9=7,OL=8,lE=9,cE=10,RL=11,ML=12,HL=13,PL=14,uE=15,x9=function(r){for(var t=[],e=0,n=r.length;e<n;){var i=r.charCodeAt(e++);if(i>=55296&&i<=56319&&e<n){var s=r.charCodeAt(e++);(s&64512)===56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),e--)}else t.push(i)}return t},E9=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var e=r.length;if(!e)return"";for(var n=[],i=-1,s="";++i<e;){var A=r[i];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(i+1===e||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},S9=v9(r9),ao="",hE="",_9=function(r){return S9.get(r)},F9=function(r,t,e){var n=e-2,i=t[n],s=t[e-1],A=t[e];if(s===AE&&A===oE)return ao;if(s===AE||s===oE||s===DL||A===AE||A===oE||A===DL)return hE;if(s===OL&&[OL,lE,RL,ML].indexOf(A)!==-1||(s===RL||s===lE)&&(A===lE||A===cE)||(s===ML||s===cE)&&A===cE||A===HL||A===kL||A===C9||s===B9)return ao;if(s===HL&&A===PL){for(;i===kL;)i=t[--n];if(i===PL)return ao}if(s===uE&&A===uE){for(var l=0;i===uE;)l++,i=t[--n];if(l%2===0)return ao}return hE},U9=function(r){var t=x9(r),e=t.length,n=0,i=0,s=t.map(_9);return{next:function(){if(n>=e)return{done:!0,value:null};for(var A=ao;n<e&&(A=F9(t,s,++n))===ao;);if(A!==ao||n===e){var l=E9.apply(null,t.slice(i,n));return i=n,{value:l,done:!1}}return{done:!0,value:null}}}},L9=function(r){for(var t=U9(r),e=[],n;!(n=t.next()).done;)n.value&&e.push(n.value.slice());return e},N9=function(r){var t=123;if(r.createRange){var e=r.createRange();if(e.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=t+"px",n.style.display="block",r.body.appendChild(n),e.selectNode(n);var i=e.getBoundingClientRect(),s=Math.round(i.height);if(r.body.removeChild(n),s===t)return!0}}return!1},T9=function(r){var t=r.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",r.body.appendChild(t);var e=r.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,i=J5(n.data).map(function(c){return Ar(c)}),s=0,A={},l=i.every(function(c,h){e.setStart(n,s),e.setEnd(n,s+c.length);var f=e.getBoundingClientRect();s+=c.length;var p=f.x>A.x||f.y>A.y;return A=f,h===0?!0:p});return r.body.removeChild(t),l},Q9=function(){return typeof new Image().crossOrigin<"u"},I9=function(){return typeof new XMLHttpRequest().responseType=="string"},D9=function(r){var t=new Image,e=r.createElement("canvas"),n=e.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),e.toDataURL()}catch{return!1}return!0},jL=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},k9=function(r){var t=r.createElement("canvas"),e=100;t.width=e,t.height=e;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,e,e);var i=new Image,s=t.toDataURL();i.src=s;var A=hS(e,e,0,0,i);return n.fillStyle="red",n.fillRect(0,0,e,e),KL(A).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,e,e).data;n.fillStyle="red",n.fillRect(0,0,e,e);var h=r.createElement("div");return h.style.backgroundImage="url("+s+")",h.style.height=e+"px",jL(c)?KL(hS(e,e,0,0,h)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),jL(n.getImageData(0,0,e,e).data)}).catch(function(){return!1})},hS=function(r,t,e,n,i){var s="http://www.w3.org/2000/svg",A=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return A.setAttributeNS(null,"width",r.toString()),A.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",e.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(l),l.appendChild(i),A},KL=function(r){return new Promise(function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=e,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Cs={get SUPPORT_RANGE_BOUNDS(){var r=N9(document);return Object.defineProperty(Cs,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Cs.SUPPORT_RANGE_BOUNDS&&T9(document);return Object.defineProperty(Cs,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=D9(document);return Object.defineProperty(Cs,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?k9(document):Promise.resolve(!1);return Object.defineProperty(Cs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=Q9();return Object.defineProperty(Cs,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=I9();return Object.defineProperty(Cs,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Cs,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Cs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},bv=(function(){function r(t,e){this.text=t,this.bounds=e}return r})(),O9=function(r,t,e,n){var i=H9(t,e),s=[],A=0;return i.forEach(function(l){if(e.textDecorationLine.length||l.trim().length>0)if(Cs.SUPPORT_RANGE_BOUNDS){var c=zL(n,A,l.length).getClientRects();if(c.length>1){var h=g4(l),f=0;h.forEach(function(w){s.push(new bv(w,ih.fromDOMRectList(r,zL(n,f+A,w.length).getClientRects()))),f+=w.length})}else s.push(new bv(l,ih.fromDOMRectList(r,c)))}else{var p=n.splitText(l.length);s.push(new bv(l,R9(r,n))),n=p}else Cs.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));A+=l.length}),s},R9=function(r,t){var e=t.ownerDocument;if(e){var n=e.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var s=$5(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return ih.EMPTY},zL=function(r,t,e){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,t),i.setEnd(r,t+e),i},g4=function(r){if(Cs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(r)).map(function(e){return e.segment})}return L9(r)},M9=function(r,t){if(Cs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(r)).map(function(n){return n.segment})}return j9(r,t)},H9=function(r,t){return t.letterSpacing!==0?g4(r):M9(r,t)},P9=[32,160,4961,65792,65793,4153,4241],j9=function(r,t){for(var e=gP(r,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],i,s=function(){if(i.value){var A=i.value.slice(),l=J5(A),c="";l.forEach(function(h){P9.indexOf(h)===-1?c+=Ar(h):(c.length&&n.push(c),n.push(Ar(h)),c="")}),c.length&&n.push(c)}};!(i=e.next()).done;)s();return n},K9=(function(){function r(t,e,n){this.text=z9(e.data,n.textTransform),this.textBounds=O9(t,this.text,n,e)}return r})(),z9=function(r,t){switch(t){case 1:return r.toLowerCase();case 3:return r.replace(G9,V9);case 2:return r.toUpperCase();default:return r}},G9=/(^|\s|:|-|\(|\))([a-z])/g,V9=function(r,t,e){return r.length>0?t+e.toUpperCase():r},HQ=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t})(Nc),PQ=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t})(Nc),jQ=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this,s=new XMLSerializer,A=$5(e,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t})(Nc),KQ=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.value=n.value,i}return t})(Nc),dS=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return t})(Nc),q9=[{type:15,flags:0,unit:"px",number:3}],X9=[{type:16,flags:0,number:50}],Y9=function(r){return r.width>r.height?new ih(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new ih(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},W9=function(r){var t=r.type===$9?new Array(r.value.length+1).join(""):r.value;return t.length===0?r.placeholder||"":t},a5="checkbox",A5="radio",$9="password",GL=707406591,p4=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=W9(n),(i.type===a5||i.type===A5)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Y9(i.bounds)),i.type){case a5:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=q9;break;case A5:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=X9;break}return i}return t})(Nc),zQ=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return t})(Nc),GQ=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.value=n.value,i}return t})(Nc),VQ=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=XQ(e,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?vv(e,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Zu.TRANSPARENT,A=n.contentWindow.document.body?vv(e,getComputedStyle(n.contentWindow.document.body).backgroundColor):Zu.TRANSPARENT;i.backgroundColor=Af(s)?Af(A)?i.styles.backgroundColor:A:s}}catch{}return i}return t})(Nc),J9=["OL","UL","MENU"],gB=function(r,t,e,n){for(var i=t.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,YQ(i)&&i.data.trim().length>0)e.textNodes.push(new K9(r,i,e.styles));else if(Z0(i))if(ZQ(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return gB(r,l,e,n)});else{var A=qQ(r,i);A.styles.isVisible()&&(Z9(i,A,n)?A.flags|=4:tK(A.styles)&&(A.flags|=2),J9.indexOf(i.tagName)!==-1&&(A.flags|=8),e.elements.push(A),i.slot,i.shadowRoot?gB(r,i.shadowRoot,A,n):!o5(i)&&!WQ(i)&&!l5(i)&&gB(r,i,A,n))}},qQ=function(r,t){return gS(t)?new HQ(r,t):$Q(t)?new PQ(r,t):WQ(t)?new jQ(r,t):eK(t)?new KQ(r,t):nK(t)?new dS(r,t):iK(t)?new p4(r,t):l5(t)?new zQ(r,t):o5(t)?new GQ(r,t):JQ(t)?new VQ(r,t):new Nc(r,t)},XQ=function(r,t){var e=qQ(r,t);return e.flags|=4,gB(r,t,e,e),e},Z9=function(r,t,e){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||m4(r)&&e.styles.isTransparent()},tK=function(r){return r.isPositioned()||r.isFloating()},YQ=function(r){return r.nodeType===Node.TEXT_NODE},Z0=function(r){return r.nodeType===Node.ELEMENT_NODE},fS=function(r){return Z0(r)&&typeof r.style<"u"&&!pB(r)},pB=function(r){return typeof r.className=="object"},eK=function(r){return r.tagName==="LI"},nK=function(r){return r.tagName==="OL"},iK=function(r){return r.tagName==="INPUT"},rK=function(r){return r.tagName==="HTML"},WQ=function(r){return r.tagName==="svg"},m4=function(r){return r.tagName==="BODY"},$Q=function(r){return r.tagName==="CANVAS"},VL=function(r){return r.tagName==="VIDEO"},gS=function(r){return r.tagName==="IMG"},JQ=function(r){return r.tagName==="IFRAME"},qL=function(r){return r.tagName==="STYLE"},sK=function(r){return r.tagName==="SCRIPT"},o5=function(r){return r.tagName==="TEXTAREA"},l5=function(r){return r.tagName==="SELECT"},ZQ=function(r){return r.tagName==="SLOT"},XL=function(r){return r.tagName.indexOf("-")>0},aK=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},r.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},r.prototype.pop=function(t){var e=this;t.forEach(function(n){return e.counters[n].pop()})},r.prototype.parse=function(t){var e=this,n=t.counterIncrement,i=t.counterReset,s=!0;n!==null&&n.forEach(function(l){var c=e.counters[l.counter];c&&l.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var A=[];return s&&i.forEach(function(l){var c=e.counters[l.counter];A.push(l.counter),c||(c=e.counters[l.counter]=[]),c.push(l.reset)}),A},r})(),YL={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},WL={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},AK={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},oK={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},I0=function(r,t,e,n,i,s){return r<t||r>e?Uv(r,i,s.length>0):n.integers.reduce(function(A,l,c){for(;r>=l;)r-=l,A+=n.values[c];return A},"")+s},tI=function(r,t,e,n){var i="";do e||r--,i=n(r)+i,r/=t;while(r*t>=t);return i},rr=function(r,t,e,n,i){var s=e-t+1;return(r<0?"-":"")+(tI(Math.abs(r),s,n,function(A){return Ar(Math.floor(A%s)+t)})+i)},Yf=function(r,t,e){e===void 0&&(e=". ");var n=t.length;return tI(Math.abs(r),n,!1,function(i){return t[Math.floor(i%n)]})+e},j0=1,td=2,ed=4,Vw=8,uu=function(r,t,e,n,i,s){if(r<-9999||r>9999)return Uv(r,4,i.length>0);var A=Math.abs(r),l=i;if(A===0)return t[0]+l;for(var c=0;A>0&&c<=4;c++){var h=A%10;h===0&&Hr(s,j0)&&l!==""?l=t[h]+l:h>1||h===1&&c===0||h===1&&c===1&&Hr(s,td)||h===1&&c===1&&Hr(s,ed)&&r>100||h===1&&c>1&&Hr(s,Vw)?l=t[h]+(c>0?e[c-1]:"")+l:h===1&&c>0&&(l=e[c-1]+l),A=Math.floor(A/10)}return(r<0?n:"")+l},$L="",JL="",ZL="",dE="",Uv=function(r,t,e){var n=e?". ":"",i=e?"":"",s=e?", ":"",A=e?" ":"";switch(t){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var l=rr(r,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Yf(r,"",i);case 6:return I0(r,1,3999,YL,3,n).toLowerCase();case 7:return I0(r,1,3999,YL,3,n);case 8:return rr(r,945,969,!1,n);case 9:return rr(r,97,122,!1,n);case 10:return rr(r,65,90,!1,n);case 11:return rr(r,1632,1641,!0,n);case 12:case 49:return I0(r,1,9999,WL,3,n);case 35:return I0(r,1,9999,WL,3,n).toLowerCase();case 13:return rr(r,2534,2543,!0,n);case 14:case 30:return rr(r,6112,6121,!0,n);case 15:return Yf(r,"",i);case 16:return Yf(r,"",i);case 17:case 48:return uu(r,"",$L,"",i,td|ed|Vw);case 47:return uu(r,"",JL,"",i,j0|td|ed|Vw);case 42:return uu(r,"",$L,"",i,td|ed|Vw);case 41:return uu(r,"",JL,"",i,j0|td|ed|Vw);case 26:return uu(r,"","",ZL,i,0);case 25:return uu(r,"","",ZL,i,j0|td|ed);case 31:return uu(r,"","",dE,s,j0|td|ed);case 33:return uu(r,"","",dE,s,0);case 32:return uu(r,"","",dE,s,j0|td|ed);case 18:return rr(r,2406,2415,!0,n);case 20:return I0(r,1,19999,oK,3,n);case 21:return rr(r,2790,2799,!0,n);case 22:return rr(r,2662,2671,!0,n);case 22:return I0(r,1,10999,AK,3,n);case 23:return Yf(r,"");case 24:return Yf(r,"");case 27:return rr(r,3302,3311,!0,n);case 28:return Yf(r,"",i);case 29:return Yf(r,"",i);case 34:return rr(r,3792,3801,!0,n);case 37:return rr(r,6160,6169,!0,n);case 38:return rr(r,4160,4169,!0,n);case 39:return rr(r,2918,2927,!0,n);case 40:return rr(r,1776,1785,!0,n);case 43:return rr(r,3046,3055,!0,n);case 44:return rr(r,3174,3183,!0,n);case 45:return rr(r,3664,3673,!0,n);case 46:return rr(r,3872,3881,!0,n);case 3:default:return rr(r,48,57,!0,n)}},eI="data-html2canvas-ignore",tN=(function(){function r(t,e,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=e,this.counters=new aK,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(t,e){var n=this,i=lK(t,e);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,A=t.defaultView.pageYOffset,l=i.contentWindow,c=l.document,h=hK(i).then(function(){return ha(n,void 0,void 0,function(){var f,p;return Ws(this,function(w){switch(w.label){case 0:return this.scrolledElements.forEach(pK),l&&(l.scrollTo(e.left,e.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==e.top||l.scrollX!==e.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-e.left,l.scrollY-e.top,0,0))),f=this.options.onclone,p=this.clonedReferenceElement,typeof p>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:w.sent(),w.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,uK(c)]:[3,4];case 3:w.sent(),w.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(c,p)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(fK(document.doctype)+"<html></html>"),gK(this.referenceElement.ownerDocument,s,A),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),h},r.prototype.createElementClone=function(t){if(uS(t,2))debugger;if($Q(t))return this.createCanvasClone(t);if(VL(t))return this.createVideoClone(t);if(qL(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return gS(e)&&(gS(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),e.loading==="lazy"&&(e.loading="eager")),XL(e)?this.createCustomElementClone(e):e},r.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return fE(t.style,e),e},r.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce(function(s,A){return A&&typeof A.cssText=="string"?s+A.cssText:s},""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},r.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var s=t.getContext("2d"),A=i.getContext("2d");if(A)if(!this.options.allowTaint&&s)A.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var l=(e=t.getContext("webgl2"))!==null&&e!==void 0?e:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}A.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},r.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var n=e.getContext("2d");try{return n&&(n.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||n.getImageData(0,0,e.width,e.height)),e}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},r.prototype.appendChildNode=function(t,e,n){(!Z0(e)||!sK(e)&&!e.hasAttribute(eI)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(e)))&&(!this.options.copyStyles||!Z0(e)||!qL(e))&&t.appendChild(this.cloneNode(e,n))},r.prototype.cloneChildNodes=function(t,e,n){for(var i=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(Z0(s)&&ZQ(s)&&typeof s.assignedNodes=="function"){var A=s.assignedNodes();A.length&&A.forEach(function(l){return i.appendChildNode(e,l,n)})}else this.appendChildNode(e,s,n)},r.prototype.cloneNode=function(t,e){if(YQ(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Z0(t)&&(fS(t)||pB(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var s=n.getComputedStyle(t),A=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&fS(i)&&(this.clonedReferenceElement=i),m4(i)&&vK(i);var c=this.counters.parse(new NL(this.context,s)),h=this.resolvePseudoContent(t,i,A,Bv.BEFORE);XL(t)&&(e=!0),VL(t)||this.cloneChildNodes(t,i,e),h&&i.insertBefore(h,i.firstChild);var f=this.resolvePseudoContent(t,i,l,Bv.AFTER);return f&&i.appendChild(f),this.counters.pop(c),(s&&(this.options.copyStyles||pB(t))&&!JQ(t)||e)&&fE(s,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(o5(t)||l5(t))&&(o5(i)||l5(i))&&(i.value=t.value),i}return t.cloneNode(!1)},r.prototype.resolvePseudoContent=function(t,e,n,i){var s=this;if(n){var A=n.content,l=e.ownerDocument;if(!(!l||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new NL(this.context,n));var c=new e9(this.context,n),h=l.createElement("html2canvaspseudoelement");fE(n,h),c.content.forEach(function(p){if(p.type===0)h.appendChild(l.createTextNode(p.value));else if(p.type===22){var w=l.createElement("img");w.src=p.value,w.style.opacity="1",h.appendChild(w)}else if(p.type===18){if(p.name==="attr"){var v=p.values.filter(ei);v.length&&h.appendChild(l.createTextNode(t.getAttribute(v[0].value)||""))}else if(p.name==="counter"){var x=p.values.filter(M1),B=x[0],F=x[1];if(B&&ei(B)){var S=s.counters.getCounterValue(B.value),L=F&&ei(F)?cS.parse(s.context,F.value):3;h.appendChild(l.createTextNode(Uv(S,L,!1)))}}else if(p.name==="counters"){var T=p.values.filter(M1),B=T[0],k=T[1],F=T[2];if(B&&ei(B)){var R=s.counters.getCounterValues(B.value),M=F&&ei(F)?cS.parse(s.context,F.value):3,j=k&&k.type===0?k.value:"",V=R.map(function(H){return Uv(H,M,!1)}).join(j);h.appendChild(l.createTextNode(V))}}}else if(p.type===20)switch(p.value){case"open-quote":h.appendChild(l.createTextNode(LL(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":h.appendChild(l.createTextNode(LL(c.quotes,--s.quoteDepth,!1)));break;default:h.appendChild(l.createTextNode(p.value))}}),h.className=pS+" "+mS;var f=i===Bv.BEFORE?" "+pS:" "+mS;return pB(e)?e.className.baseValue+=f:e.className+=f,h}}},r.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},r})(),Bv;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(Bv||(Bv={}));var lK=function(r,t){var e=r.createElement("iframe");return e.className="html2canvas-container",e.style.visibility="hidden",e.style.position="fixed",e.style.left="-10000px",e.style.top="0px",e.style.border="0",e.width=t.width.toString(),e.height=t.height.toString(),e.scrolling="no",e.setAttribute(eI,"true"),r.body.appendChild(e),e},cK=function(r){return new Promise(function(t){if(r.complete){t();return}if(!r.src){t();return}r.onload=t,r.onerror=t})},uK=function(r){return Promise.all([].slice.call(r.images,0).map(cK))},hK=function(r){return new Promise(function(t,e){var n=r.contentWindow;if(!n)return e("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),t(r))},50)}})},dK=["all","d","content"],fE=function(r,t){for(var e=r.length-1;e>=0;e--){var n=r.item(e);dK.indexOf(n)===-1&&t.style.setProperty(n,r.getPropertyValue(n))}return t},fK=function(r){var t="";return r&&(t+="<!DOCTYPE ",r.name&&(t+=r.name),r.internalSubset&&(t+=r.internalSubset),r.publicId&&(t+='"'+r.publicId+'"'),r.systemId&&(t+='"'+r.systemId+'"'),t+=">"),t},gK=function(r,t,e){r&&r.defaultView&&(t!==r.defaultView.pageXOffset||e!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(t,e)},pK=function(r){var t=r[0],e=r[1],n=r[2];t.scrollLeft=e,t.scrollTop=n},mK=":before",wK=":after",pS="___html2canvas___pseudoelement_before",mS="___html2canvas___pseudoelement_after",eN=`{
    content: "" !important;
    display: none !important;
}`,vK=function(r){yK(r,"."+pS+mK+eN+`
         .`+mS+wK+eN)},yK=function(r,t){var e=r.ownerDocument;if(e){var n=e.createElement("style");n.textContent=t,r.appendChild(n)}},nI=(function(){function r(){}return r.getOrigin=function(t){var e=r._link;return e?(e.href=t,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},r.isSameOrigin=function(t){return r.getOrigin(t)===r._origin},r.setContext=function(t){r._link=t.document.createElement("a"),r._origin=r.getOrigin(t.location.href)},r._origin="about:blank",r})(),bK=(function(){function r(t,e){this.context=t,this._options=e,this._cache={}}return r.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)||(pE(t)||EK(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),e},r.prototype.match=function(t){return this._cache[t]},r.prototype.loadImage=function(t){return ha(this,void 0,void 0,function(){var e,n,i,s,A=this;return Ws(this,function(l){switch(l.label){case 0:return e=nI.isSameOrigin(t),n=!gE(t)&&this._options.useCORS===!0&&Cs.SUPPORT_CORS_IMAGES&&!e,i=!gE(t)&&!e&&!pE(t)&&typeof this._options.proxy=="string"&&Cs.SUPPORT_CORS_XHR&&!n,!e&&this._options.allowTaint===!1&&!gE(t)&&!pE(t)&&!i&&!n?[2]:(s=t,i?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,h){var f=new Image;f.onload=function(){return c(f)},f.onerror=h,(SK(s)||n)&&(f.crossOrigin="anonymous"),f.src=s,f.complete===!0&&setTimeout(function(){return c(f)},500),A._options.imageTimeout>0&&setTimeout(function(){return h("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},r.prototype.has=function(t){return typeof this._cache[t]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(s,A){var l=Cs.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")s(c.response);else{var p=new FileReader;p.addEventListener("load",function(){return s(p.result)},!1),p.addEventListener("error",function(w){return A(w)},!1),p.readAsDataURL(c.response)}else A("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=A;var h=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+h+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),e._options.imageTimeout){var f=e._options.imageTimeout;c.timeout=f,c.ontimeout=function(){return A("Timed out ("+f+"ms) proxying "+i)}}c.send()})},r})(),BK=/^data:image\/svg\+xml/i,CK=/^data:image\/.*;base64,/i,xK=/^data:image\/.*/i,EK=function(r){return Cs.SUPPORT_SVG_DRAWING||!_K(r)},gE=function(r){return xK.test(r)},SK=function(r){return CK.test(r)},pE=function(r){return r.substr(0,4)==="blob"},_K=function(r){return r.substr(-3).toLowerCase()==="svg"||BK.test(r)},ce=(function(){function r(t,e){this.type=0,this.x=t,this.y=e}return r.prototype.add=function(t,e){return new r(this.x+t,this.y+e)},r})(),D0=function(r,t,e){return new ce(r.x+(t.x-r.x)*e,r.y+(t.y-r.y)*e)},X2=(function(){function r(t,e,n,i){this.type=1,this.start=t,this.startControl=e,this.endControl=n,this.end=i}return r.prototype.subdivide=function(t,e){var n=D0(this.start,this.startControl,t),i=D0(this.startControl,this.endControl,t),s=D0(this.endControl,this.end,t),A=D0(n,i,t),l=D0(i,s,t),c=D0(A,l,t);return e?new r(this.start,n,A,c):new r(c,l,s,this.end)},r.prototype.add=function(t,e){return new r(this.start.add(t,e),this.startControl.add(t,e),this.endControl.add(t,e),this.end.add(t,e))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),vo=function(r){return r.type===1},FK=(function(){function r(t){var e=t.styles,n=t.bounds,i=zw(e.borderTopLeftRadius,n.width,n.height),s=i[0],A=i[1],l=zw(e.borderTopRightRadius,n.width,n.height),c=l[0],h=l[1],f=zw(e.borderBottomRightRadius,n.width,n.height),p=f[0],w=f[1],v=zw(e.borderBottomLeftRadius,n.width,n.height),x=v[0],B=v[1],F=[];F.push((s+c)/n.width),F.push((x+p)/n.width),F.push((A+B)/n.height),F.push((h+w)/n.height);var S=Math.max.apply(Math,F);S>1&&(s/=S,A/=S,c/=S,h/=S,p/=S,w/=S,x/=S,B/=S);var L=n.width-c,T=n.height-w,k=n.width-p,R=n.height-B,M=e.borderTopWidth,j=e.borderRightWidth,V=e.borderBottomWidth,et=e.borderLeftWidth,ut=vi(e.paddingTop,t.bounds.width),H=vi(e.paddingRight,t.bounds.width),G=vi(e.paddingBottom,t.bounds.width),tt=vi(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||A>0?Ii(n.left+et/3,n.top+M/3,s-et/3,A-M/3,Rn.TOP_LEFT):new ce(n.left+et/3,n.top+M/3),this.topRightBorderDoubleOuterBox=s>0||A>0?Ii(n.left+L,n.top+M/3,c-j/3,h-M/3,Rn.TOP_RIGHT):new ce(n.left+n.width-j/3,n.top+M/3),this.bottomRightBorderDoubleOuterBox=p>0||w>0?Ii(n.left+k,n.top+T,p-j/3,w-V/3,Rn.BOTTOM_RIGHT):new ce(n.left+n.width-j/3,n.top+n.height-V/3),this.bottomLeftBorderDoubleOuterBox=x>0||B>0?Ii(n.left+et/3,n.top+R,x-et/3,B-V/3,Rn.BOTTOM_LEFT):new ce(n.left+et/3,n.top+n.height-V/3),this.topLeftBorderDoubleInnerBox=s>0||A>0?Ii(n.left+et*2/3,n.top+M*2/3,s-et*2/3,A-M*2/3,Rn.TOP_LEFT):new ce(n.left+et*2/3,n.top+M*2/3),this.topRightBorderDoubleInnerBox=s>0||A>0?Ii(n.left+L,n.top+M*2/3,c-j*2/3,h-M*2/3,Rn.TOP_RIGHT):new ce(n.left+n.width-j*2/3,n.top+M*2/3),this.bottomRightBorderDoubleInnerBox=p>0||w>0?Ii(n.left+k,n.top+T,p-j*2/3,w-V*2/3,Rn.BOTTOM_RIGHT):new ce(n.left+n.width-j*2/3,n.top+n.height-V*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||B>0?Ii(n.left+et*2/3,n.top+R,x-et*2/3,B-V*2/3,Rn.BOTTOM_LEFT):new ce(n.left+et*2/3,n.top+n.height-V*2/3),this.topLeftBorderStroke=s>0||A>0?Ii(n.left+et/2,n.top+M/2,s-et/2,A-M/2,Rn.TOP_LEFT):new ce(n.left+et/2,n.top+M/2),this.topRightBorderStroke=s>0||A>0?Ii(n.left+L,n.top+M/2,c-j/2,h-M/2,Rn.TOP_RIGHT):new ce(n.left+n.width-j/2,n.top+M/2),this.bottomRightBorderStroke=p>0||w>0?Ii(n.left+k,n.top+T,p-j/2,w-V/2,Rn.BOTTOM_RIGHT):new ce(n.left+n.width-j/2,n.top+n.height-V/2),this.bottomLeftBorderStroke=x>0||B>0?Ii(n.left+et/2,n.top+R,x-et/2,B-V/2,Rn.BOTTOM_LEFT):new ce(n.left+et/2,n.top+n.height-V/2),this.topLeftBorderBox=s>0||A>0?Ii(n.left,n.top,s,A,Rn.TOP_LEFT):new ce(n.left,n.top),this.topRightBorderBox=c>0||h>0?Ii(n.left+L,n.top,c,h,Rn.TOP_RIGHT):new ce(n.left+n.width,n.top),this.bottomRightBorderBox=p>0||w>0?Ii(n.left+k,n.top+T,p,w,Rn.BOTTOM_RIGHT):new ce(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||B>0?Ii(n.left,n.top+R,x,B,Rn.BOTTOM_LEFT):new ce(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||A>0?Ii(n.left+et,n.top+M,Math.max(0,s-et),Math.max(0,A-M),Rn.TOP_LEFT):new ce(n.left+et,n.top+M),this.topRightPaddingBox=c>0||h>0?Ii(n.left+Math.min(L,n.width-j),n.top+M,L>n.width+j?0:Math.max(0,c-j),Math.max(0,h-M),Rn.TOP_RIGHT):new ce(n.left+n.width-j,n.top+M),this.bottomRightPaddingBox=p>0||w>0?Ii(n.left+Math.min(k,n.width-et),n.top+Math.min(T,n.height-V),Math.max(0,p-j),Math.max(0,w-V),Rn.BOTTOM_RIGHT):new ce(n.left+n.width-j,n.top+n.height-V),this.bottomLeftPaddingBox=x>0||B>0?Ii(n.left+et,n.top+Math.min(R,n.height-V),Math.max(0,x-et),Math.max(0,B-V),Rn.BOTTOM_LEFT):new ce(n.left+et,n.top+n.height-V),this.topLeftContentBox=s>0||A>0?Ii(n.left+et+tt,n.top+M+ut,Math.max(0,s-(et+tt)),Math.max(0,A-(M+ut)),Rn.TOP_LEFT):new ce(n.left+et+tt,n.top+M+ut),this.topRightContentBox=c>0||h>0?Ii(n.left+Math.min(L,n.width+et+tt),n.top+M+ut,L>n.width+et+tt?0:c-et+tt,h-(M+ut),Rn.TOP_RIGHT):new ce(n.left+n.width-(j+H),n.top+M+ut),this.bottomRightContentBox=p>0||w>0?Ii(n.left+Math.min(k,n.width-(et+tt)),n.top+Math.min(T,n.height+M+ut),Math.max(0,p-(j+H)),w-(V+G),Rn.BOTTOM_RIGHT):new ce(n.left+n.width-(j+H),n.top+n.height-(V+G)),this.bottomLeftContentBox=x>0||B>0?Ii(n.left+et+tt,n.top+R,Math.max(0,x-(et+tt)),B-(V+G),Rn.BOTTOM_LEFT):new ce(n.left+et+tt,n.top+n.height-(V+G))}return r})(),Rn;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Rn||(Rn={}));var Ii=function(r,t,e,n,i){var s=4*((Math.sqrt(2)-1)/3),A=e*s,l=n*s,c=r+e,h=t+n;switch(i){case Rn.TOP_LEFT:return new X2(new ce(r,h),new ce(r,h-l),new ce(c-A,t),new ce(c,t));case Rn.TOP_RIGHT:return new X2(new ce(r,t),new ce(r+A,t),new ce(c,h-l),new ce(c,h));case Rn.BOTTOM_RIGHT:return new X2(new ce(c,t),new ce(c,t+l),new ce(r+A,h),new ce(r,h));case Rn.BOTTOM_LEFT:default:return new X2(new ce(c,h),new ce(c-A,h),new ce(r,t+l),new ce(r,t))}},c5=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},UK=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},u5=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},LK=(function(){function r(t,e,n){this.offsetX=t,this.offsetY=e,this.matrix=n,this.type=0,this.target=6}return r})(),Y2=(function(){function r(t,e){this.path=t,this.target=e,this.type=1}return r})(),NK=(function(){function r(t){this.opacity=t,this.type=2,this.target=6}return r})(),TK=function(r){return r.type===0},iI=function(r){return r.type===1},QK=function(r){return r.type===2},nN=function(r,t){return r.length===t.length?r.some(function(e,n){return e===t[n]}):!1},IK=function(r,t,e,n,i){return r.map(function(s,A){switch(A){case 0:return s.add(t,e);case 1:return s.add(t+n,e);case 2:return s.add(t+n,e+i);case 3:return s.add(t,e+i)}return s})},rI=(function(){function r(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),sI=(function(){function r(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new FK(this.container),this.container.styles.opacity<1&&this.effects.push(new NK(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new LK(n,i,s))}if(this.container.styles.overflowX!==0){var A=c5(this.curves),l=u5(this.curves);nN(A,l)?this.effects.push(new Y2(A,6)):(this.effects.push(new Y2(A,2)),this.effects.push(new Y2(l,4)))}}return r.prototype.getEffects=function(t){for(var e=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!iI(c)});if(e||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),e=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=c5(n.curves),l=u5(n.curves);nN(A,l)||i.unshift(new Y2(l,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(c){return Hr(c.target,t)})},r})(),wS=function(r,t,e,n){r.container.elements.forEach(function(i){var s=Hr(i.flags,4),A=Hr(i.flags,2),l=new sI(i,r);Hr(i.styles.display,2048)&&n.push(l);var c=Hr(i.flags,8)?[]:n;if(s||A){var h=s||i.styles.isPositioned()?e:t,f=new rI(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var p=i.styles.zIndex.order;if(p<0){var w=0;h.negativeZIndex.some(function(x,B){return p>x.element.container.styles.zIndex.order?(w=B,!1):w>0}),h.negativeZIndex.splice(w,0,f)}else if(p>0){var v=0;h.positiveZIndex.some(function(x,B){return p>=x.element.container.styles.zIndex.order?(v=B+1,!1):v>0}),h.positiveZIndex.splice(v,0,f)}else h.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else i.styles.isFloating()?h.nonPositionedFloats.push(f):h.nonPositionedInlineLevel.push(f);wS(l,f,s?f:e,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),wS(l,t,e,c);Hr(i.flags,8)&&aI(i,c)})},aI=function(r,t){for(var e=r instanceof dS?r.start:1,n=r instanceof dS?r.reversed:!1,i=0;i<t.length;i++){var s=t[i];s.container instanceof KQ&&typeof s.container.value=="number"&&s.container.value!==0&&(e=s.container.value),s.listValue=Uv(e,s.container.styles.listStyleType,!0),e+=n?-1:1}},DK=function(r){var t=new sI(r,null),e=new rI(t),n=[];return wS(t,e,e,n),aI(t.container,n),e},iN=function(r,t){switch(t){case 0:return Co(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return Co(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return Co(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return Co(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},kK=function(r,t){switch(t){case 0:return Co(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return Co(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return Co(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return Co(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},OK=function(r,t){switch(t){case 0:return Co(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return Co(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return Co(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return Co(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},RK=function(r,t){switch(t){case 0:return W2(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return W2(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return W2(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return W2(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},W2=function(r,t){var e=[];return vo(r)?e.push(r.subdivide(.5,!1)):e.push(r),vo(t)?e.push(t.subdivide(.5,!0)):e.push(t),e},Co=function(r,t,e,n){var i=[];return vo(r)?i.push(r.subdivide(.5,!1)):i.push(r),vo(e)?i.push(e.subdivide(.5,!0)):i.push(e),vo(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),vo(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},AI=function(r){var t=r.bounds,e=r.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},h5=function(r){var t=r.styles,e=r.bounds,n=vi(t.paddingLeft,e.width),i=vi(t.paddingRight,e.width),s=vi(t.paddingTop,e.width),A=vi(t.paddingBottom,e.width);return e.add(n+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+s+A))},MK=function(r,t){return r===0?t.bounds:r===2?h5(t):AI(t)},HK=function(r,t){return r===0?t.bounds:r===2?h5(t):AI(t)},mE=function(r,t,e){var n=MK(K0(r.styles.backgroundOrigin,t),r),i=HK(K0(r.styles.backgroundClip,t),r),s=PK(K0(r.styles.backgroundSize,t),e,n),A=s[0],l=s[1],c=zw(K0(r.styles.backgroundPosition,t),n.width-A,n.height-l),h=jK(K0(r.styles.backgroundRepeat,t),c,s,n,i),f=Math.round(n.left+c[0]),p=Math.round(n.top+c[1]);return[h,f,p,A,l]},k0=function(r){return ei(r)&&r.value===cm.AUTO},$2=function(r){return typeof r=="number"},PK=function(r,t,e){var n=t[0],i=t[1],s=t[2],A=r[0],l=r[1];if(!A)return[0,0];if(Er(A)&&l&&Er(l))return[vi(A,e.width),vi(l,e.height)];var c=$2(s);if(ei(A)&&(A.value===cm.CONTAIN||A.value===cm.COVER)){if($2(s)){var h=e.width/e.height;return h<s!=(A.value===cm.COVER)?[e.width,e.width/s]:[e.height*s,e.height]}return[e.width,e.height]}var f=$2(n),p=$2(i),w=f||p;if(k0(A)&&(!l||k0(l))){if(f&&p)return[n,i];if(!c&&!w)return[e.width,e.height];if(w&&c){var v=f?n:i*s,x=p?i:n/s;return[v,x]}var B=f?n:e.width,F=p?i:e.height;return[B,F]}if(c){var S=0,L=0;return Er(A)?S=vi(A,e.width):Er(l)&&(L=vi(l,e.height)),k0(A)?S=L*s:(!l||k0(l))&&(L=S/s),[S,L]}var T=null,k=null;if(Er(A)?T=vi(A,e.width):l&&Er(l)&&(k=vi(l,e.height)),T!==null&&(!l||k0(l))&&(k=f&&p?T/n*i:e.height),k!==null&&k0(A)&&(T=f&&p?k/i*n:e.width),T!==null&&k!==null)return[T,k];throw new Error("Unable to calculate background-size for element")},K0=function(r,t){var e=r[t];return typeof e>"u"?r[0]:e},jK=function(r,t,e,n,i){var s=t[0],A=t[1],l=e[0],c=e[1];switch(r){case 2:return[new ce(Math.round(n.left),Math.round(n.top+A)),new ce(Math.round(n.left+n.width),Math.round(n.top+A)),new ce(Math.round(n.left+n.width),Math.round(c+n.top+A)),new ce(Math.round(n.left),Math.round(c+n.top+A))];case 3:return[new ce(Math.round(n.left+s),Math.round(n.top)),new ce(Math.round(n.left+s+l),Math.round(n.top)),new ce(Math.round(n.left+s+l),Math.round(n.height+n.top)),new ce(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new ce(Math.round(n.left+s),Math.round(n.top+A)),new ce(Math.round(n.left+s+l),Math.round(n.top+A)),new ce(Math.round(n.left+s+l),Math.round(n.top+A+c)),new ce(Math.round(n.left+s),Math.round(n.top+A+c))];default:return[new ce(Math.round(i.left),Math.round(i.top)),new ce(Math.round(i.left+i.width),Math.round(i.top)),new ce(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ce(Math.round(i.left),Math.round(i.height+i.top))]}},KK="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",rN="Hidden Text",zK=(function(){function r(t){this._data={},this._document=t}return r.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),i.src=KK,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=e,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(rN)),n.appendChild(s),n.appendChild(i);var l=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(rN)),n.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:l,middle:c}},r.prototype.getMetrics=function(t,e){var n=t+" "+e;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},r})(),oI=(function(){function r(t,e){this.context=t,this.options=e}return r})(),GK=1e4,VK=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new zK(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t.prototype.applyEffects=function(e){for(var n=this;this._activeEffects.length;)this.popEffect();e.forEach(function(i){return n.applyEffect(i)})},t.prototype.applyEffect=function(e){this.ctx.save(),QK(e)&&(this.ctx.globalAlpha=e.opacity),TK(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),iI(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(e){return ha(this,void 0,void 0,function(){var n;return Ws(this,function(i){switch(i.label){case 0:return n=e.element.container.styles,n.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(e){return ha(this,void 0,void 0,function(){return Ws(this,function(n){switch(n.label){case 0:if(Hr(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(e,n,i){var s=this;if(n===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+i);else{var A=g4(e.text);A.reduce(function(l,c){return s.ctx.fillText(c,l,e.bounds.top+i),l+s.ctx.measureText(c).width},e.bounds.left)}},t.prototype.createFontStyle=function(e){var n=e.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),i=$K(e.fontFamily).join(", "),s=wb(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,n,e.fontWeight,s,i].join(" "),i,s]},t.prototype.renderTextNode=function(e,n){return ha(this,void 0,void 0,function(){var i,s,A,l,c,h,f,p,w=this;return Ws(this,function(v){return i=this.createFontStyle(n),s=i[0],A=i[1],l=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(A,l),h=c.baseline,f=c.middle,p=n.paintOrder,e.textBounds.forEach(function(x){p.forEach(function(B){switch(B){case 0:w.ctx.fillStyle=es(n.color),w.renderTextWithLetterSpacing(x,n.letterSpacing,h);var F=n.textShadow;F.length&&x.text.trim().length&&(F.slice(0).reverse().forEach(function(S){w.ctx.shadowColor=es(S.color),w.ctx.shadowOffsetX=S.offsetX.number*w.options.scale,w.ctx.shadowOffsetY=S.offsetY.number*w.options.scale,w.ctx.shadowBlur=S.blur.number,w.renderTextWithLetterSpacing(x,n.letterSpacing,h)}),w.ctx.shadowColor="",w.ctx.shadowOffsetX=0,w.ctx.shadowOffsetY=0,w.ctx.shadowBlur=0),n.textDecorationLine.length&&(w.ctx.fillStyle=es(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(S){switch(S){case 1:w.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+h),x.bounds.width,1);break;case 2:w.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:w.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+f),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(w.ctx.strokeStyle=es(n.webkitTextStrokeColor),w.ctx.lineWidth=n.webkitTextStrokeWidth,w.ctx.lineJoin=window.chrome?"miter":"round",w.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+h)),w.ctx.strokeStyle="",w.ctx.lineWidth=0,w.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(e,n,i){if(i&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var s=h5(e),A=u5(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,e.intrinsicWidth,e.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return ha(this,void 0,void 0,function(){var n,i,s,A,l,c,L,L,h,f,p,w,k,v,x,R,B,F,S,L,T,k,R;return Ws(this,function(M){switch(M.label){case 0:this.applyEffects(e.getEffects(4)),n=e.container,i=e.curves,s=n.styles,A=0,l=n.textNodes,M.label=1;case 1:return A<l.length?(c=l[A],[4,this.renderTextNode(c,s)]):[3,4];case 2:M.sent(),M.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof HQ))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return L=M.sent(),this.renderReplacedElement(n,i,L),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof PQ&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof jQ))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return L=M.sent(),this.renderReplacedElement(n,i,L),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof VQ&&n.tree?(h=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,h.render(n.tree)]):[3,14];case 13:f=M.sent(),n.width&&n.height&&this.ctx.drawImage(f,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),M.label=14;case 14:if(n instanceof p4&&(p=Math.min(n.bounds.width,n.bounds.height),n.type===a5?n.checked&&(this.ctx.save(),this.path([new ce(n.bounds.left+p*.39363,n.bounds.top+p*.79),new ce(n.bounds.left+p*.16,n.bounds.top+p*.5549),new ce(n.bounds.left+p*.27347,n.bounds.top+p*.44071),new ce(n.bounds.left+p*.39694,n.bounds.top+p*.5649),new ce(n.bounds.left+p*.72983,n.bounds.top+p*.23),new ce(n.bounds.left+p*.84,n.bounds.top+p*.34085),new ce(n.bounds.left+p*.39363,n.bounds.top+p*.79)]),this.ctx.fillStyle=es(GL),this.ctx.fill(),this.ctx.restore()):n.type===A5&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+p/2,n.bounds.top+p/2,p/4,0,Math.PI*2,!0),this.ctx.fillStyle=es(GL),this.ctx.fill(),this.ctx.restore())),qK(n)&&n.value.length){switch(w=this.createFontStyle(s),k=w[0],v=w[1],x=this.fontMetrics.getMetrics(k,v).baseline,this.ctx.font=k,this.ctx.fillStyle=es(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=YK(n.styles.textAlign),R=h5(n),B=0,n.styles.textAlign){case 1:B+=R.width/2;break;case 2:B+=R.width;break}F=R.add(B,0,0,-R.height/2+1),this.ctx.save(),this.path([new ce(R.left,R.top),new ce(R.left+R.width,R.top),new ce(R.left+R.width,R.top+R.height),new ce(R.left,R.top+R.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new bv(n.value,F),s.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Hr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(S=n.styles.listStyleImage,S.type!==0)return[3,18];L=void 0,T=S.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return L=M.sent(),this.ctx.drawImage(L,n.bounds.left-(L.width+10),n.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:e.listValue&&n.styles.listStyleType!==-1&&(k=this.createFontStyle(s)[0],this.ctx.font=k,this.ctx.fillStyle=es(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",R=new ih(n.bounds.left,n.bounds.top+vi(n.styles.paddingTop,n.bounds.width),n.bounds.width,FL(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new bv(e.listValue,R),s.letterSpacing,FL(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(e){return ha(this,void 0,void 0,function(){var n,i,S,s,A,S,l,c,S,h,f,S,p,w,S,v,x,S,B,F,S;return Ws(this,function(L){switch(L.label){case 0:if(Hr(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:L.sent(),n=0,i=e.negativeZIndex,L.label=2;case 2:return n<i.length?(S=i[n],[4,this.renderStack(S)]):[3,5];case 3:L.sent(),L.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:L.sent(),s=0,A=e.nonInlineLevel,L.label=7;case 7:return s<A.length?(S=A[s],[4,this.renderNode(S)]):[3,10];case 8:L.sent(),L.label=9;case 9:return s++,[3,7];case 10:l=0,c=e.nonPositionedFloats,L.label=11;case 11:return l<c.length?(S=c[l],[4,this.renderStack(S)]):[3,14];case 12:L.sent(),L.label=13;case 13:return l++,[3,11];case 14:h=0,f=e.nonPositionedInlineLevel,L.label=15;case 15:return h<f.length?(S=f[h],[4,this.renderStack(S)]):[3,18];case 16:L.sent(),L.label=17;case 17:return h++,[3,15];case 18:p=0,w=e.inlineLevel,L.label=19;case 19:return p<w.length?(S=w[p],[4,this.renderNode(S)]):[3,22];case 20:L.sent(),L.label=21;case 21:return p++,[3,19];case 22:v=0,x=e.zeroOrAutoZIndexOrTransformedOrOpacity,L.label=23;case 23:return v<x.length?(S=x[v],[4,this.renderStack(S)]):[3,26];case 24:L.sent(),L.label=25;case 25:return v++,[3,23];case 26:B=0,F=e.positiveZIndex,L.label=27;case 27:return B<F.length?(S=F[B],[4,this.renderStack(S)]):[3,30];case 28:L.sent(),L.label=29;case 29:return B++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},t.prototype.formatPath=function(e){var n=this;e.forEach(function(i,s){var A=vo(i)?i.start:i;s===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),vo(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(e,n,i,s){this.path(e),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},t.prototype.resizeImage=function(e,n,i){var s;if(e.width===n&&e.height===i)return e;var A=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=A.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,i);var c=l.getContext("2d");return c.drawImage(e,0,0,e.width,e.height,0,0,n,i),l},t.prototype.renderBackgroundImage=function(e){return ha(this,void 0,void 0,function(){var n,i,s,A,l,c;return Ws(this,function(h){switch(h.label){case 0:n=e.styles.backgroundImage.length-1,i=function(f){var p,w,v,ut,q,rt,tt,it,V,x,ut,q,rt,tt,it,B,F,S,L,T,k,R,M,j,V,et,ut,H,G,tt,it,mt,q,rt,lt,yt,Et,st,I,X,nt,at;return Ws(this,function(ht){switch(ht.label){case 0:if(f.type!==0)return[3,5];p=void 0,w=f.url,ht.label=1;case 1:return ht.trys.push([1,3,,4]),[4,s.context.cache.match(w)];case 2:return p=ht.sent(),[3,4];case 3:return ht.sent(),s.context.logger.error("Error loading background-image "+w),[3,4];case 4:return p&&(v=mE(e,n,[p.width,p.height,p.width/p.height]),ut=v[0],q=v[1],rt=v[2],tt=v[3],it=v[4],V=s.ctx.createPattern(s.resizeImage(p,tt,it),"repeat"),s.renderRepeat(ut,V,q,rt)),[3,6];case 5:Tj(f)?(x=mE(e,n,[null,null,null]),ut=x[0],q=x[1],rt=x[2],tt=x[3],it=x[4],B=_j(f.angle,tt,it),F=B[0],S=B[1],L=B[2],T=B[3],k=B[4],R=document.createElement("canvas"),R.width=tt,R.height=it,M=R.getContext("2d"),j=M.createLinearGradient(S,T,L,k),SL(f.stops,F).forEach(function(gt){return j.addColorStop(gt.stop,es(gt.color))}),M.fillStyle=j,M.fillRect(0,0,tt,it),tt>0&&it>0&&(V=s.ctx.createPattern(R,"repeat"),s.renderRepeat(ut,V,q,rt))):Qj(f)&&(et=mE(e,n,[null,null,null]),ut=et[0],H=et[1],G=et[2],tt=et[3],it=et[4],mt=f.position.length===0?[h4]:f.position,q=vi(mt[0],tt),rt=vi(mt[mt.length-1],it),lt=Fj(f,q,rt,tt,it),yt=lt[0],Et=lt[1],yt>0&&Et>0&&(st=s.ctx.createRadialGradient(H+q,G+rt,0,H+q,G+rt,yt),SL(f.stops,yt*2).forEach(function(gt){return st.addColorStop(gt.stop,es(gt.color))}),s.path(ut),s.ctx.fillStyle=st,yt!==Et?(I=e.bounds.left+.5*e.bounds.width,X=e.bounds.top+.5*e.bounds.height,nt=Et/yt,at=1/nt,s.ctx.save(),s.ctx.translate(I,X),s.ctx.transform(1,0,0,nt,0,0),s.ctx.translate(-I,-X),s.ctx.fillRect(H,at*(G-X)+X,tt,it*at),s.ctx.restore()):s.ctx.fill())),ht.label=6;case 6:return n--,[2]}})},s=this,A=0,l=e.styles.backgroundImage.slice(0).reverse(),h.label=1;case 1:return A<l.length?(c=l[A],[5,i(c)]):[3,4];case 2:h.sent(),h.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(e,n,i){return ha(this,void 0,void 0,function(){return Ws(this,function(s){return this.path(iN(i,n)),this.ctx.fillStyle=es(e),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(e,n,i,s){return ha(this,void 0,void 0,function(){var A,l;return Ws(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(e,i,s)]:[3,2];case 1:return c.sent(),[2];case 2:return A=kK(s,i),this.path(A),this.ctx.fillStyle=es(e),this.ctx.fill(),l=OK(s,i),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(e){return ha(this,void 0,void 0,function(){var n,i,s,A,l,c,h,f,p=this;return Ws(this,function(w){switch(w.label){case 0:return this.applyEffects(e.getEffects(2)),n=e.container.styles,i=!Af(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=XK(K0(n.backgroundClip,0),e.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Af(n.backgroundColor)||(this.ctx.fillStyle=es(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:w.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(v){p.ctx.save();var x=c5(e.curves),B=v.inset?0:GK,F=IK(x,-B+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(p.path(x),p.ctx.clip(),p.mask(F)):(p.mask(x),p.ctx.clip(),p.path(F)),p.ctx.shadowOffsetX=v.offsetX.number+B,p.ctx.shadowOffsetY=v.offsetY.number,p.ctx.shadowColor=es(v.color),p.ctx.shadowBlur=v.blur.number,p.ctx.fillStyle=v.inset?es(v.color):"rgba(0,0,0,1)",p.ctx.fill(),p.ctx.restore()}),w.label=2;case 2:l=0,c=0,h=s,w.label=3;case 3:return c<h.length?(f=h[c],f.style!==0&&!Af(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,l,e.curves,2)]:[3,11]):[3,13];case 4:return w.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,l,e.curves,3)];case 6:return w.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,l,e.curves)];case 8:return w.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,l,e.curves)];case 10:w.sent(),w.label=11;case 11:l++,w.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(e,n,i,s,A){return ha(this,void 0,void 0,function(){var l,c,h,f,p,w,v,x,B,F,S,L,T,k,R,M,R,M;return Ws(this,function(j){return this.ctx.save(),l=RK(s,i),c=iN(s,i),A===2&&(this.path(c),this.ctx.clip()),vo(c[0])?(h=c[0].start.x,f=c[0].start.y):(h=c[0].x,f=c[0].y),vo(c[1])?(p=c[1].end.x,w=c[1].end.y):(p=c[1].x,w=c[1].y),i===0||i===2?v=Math.abs(h-p):v=Math.abs(f-w),this.ctx.beginPath(),A===3?this.formatPath(l):this.formatPath(c.slice(0,2)),x=n<3?n*3:n*2,B=n<3?n*2:n,A===3&&(x=n,B=n),F=!0,v<=x*2?F=!1:v<=x*2+B?(S=v/(2*x+B),x*=S,B*=S):(L=Math.floor((v+B)/(x+B)),T=(v-L*x)/(L-1),k=(v-(L+1)*x)/L,B=k<=0||Math.abs(B-T)<Math.abs(B-k)?T:k),F&&(A===3?this.ctx.setLineDash([0,x+B]):this.ctx.setLineDash([x,B])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=es(e),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(vo(c[0])&&(R=c[3],M=c[0],this.ctx.beginPath(),this.formatPath([new ce(R.end.x,R.end.y),new ce(M.start.x,M.start.y)]),this.ctx.stroke()),vo(c[1])&&(R=c[1],M=c[2],this.ctx.beginPath(),this.formatPath([new ce(R.end.x,R.end.y),new ce(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(e){return ha(this,void 0,void 0,function(){var n;return Ws(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=es(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=DK(e),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(oI),qK=function(r){return r instanceof GQ||r instanceof zQ?!0:r instanceof p4&&r.type!==A5&&r.type!==a5},XK=function(r,t){switch(r){case 0:return c5(t);case 2:return UK(t);case 1:default:return u5(t)}},YK=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},WK=["-apple-system","system-ui"],$K=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(t){return WK.indexOf(t)===-1}):r},JK=(function(r){pl(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t.prototype.render=function(e){return ha(this,void 0,void 0,function(){var n,i;return Ws(this,function(s){switch(s.label){case 0:return n=hS(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,ZK(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=es(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(oI),ZK=function(r){return new Promise(function(t,e){var n=new Image;n.onload=function(){t(n)},n.onerror=e,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},tz=(function(){function r(t){var e=t.id,n=t.enabled;this.id=e,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,U2([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,U2([this.id,this.getTime()+"ms"],t))},r.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,U2([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,U2([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.instances={},r})(),ez=(function(){function r(t,e){var n;this.windowBounds=e,this.instanceName="#"+r.instanceCount++,this.logger=new tz({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new bK(this,t)}return r.instanceCount=1,r})(),lI=function(r,t){return t===void 0&&(t={}),nz(r,t)};typeof window<"u"&&nI.setContext(window);var nz=function(r,t){return ha(void 0,void 0,void 0,function(){var e,n,i,s,A,l,c,h,f,p,w,v,x,B,F,S,L,T,k,R,j,M,j,V,et,ut,H,G,tt,it,mt,q,rt,lt,yt,Et,st,I,X,nt;return Ws(this,function(at){switch(at.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(e=r.ownerDocument,!e)throw new Error("Element is not attached to a Document");if(n=e.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(V=t.allowTaint)!==null&&V!==void 0?V:!1,imageTimeout:(et=t.imageTimeout)!==null&&et!==void 0?et:15e3,proxy:t.proxy,useCORS:(ut=t.useCORS)!==null&&ut!==void 0?ut:!1},s=$E({logging:(H=t.logging)!==null&&H!==void 0?H:!0,cache:t.cache},i),A={windowWidth:(G=t.windowWidth)!==null&&G!==void 0?G:n.innerWidth,windowHeight:(tt=t.windowHeight)!==null&&tt!==void 0?tt:n.innerHeight,scrollX:(it=t.scrollX)!==null&&it!==void 0?it:n.pageXOffset,scrollY:(mt=t.scrollY)!==null&&mt!==void 0?mt:n.pageYOffset},l=new ih(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),c=new ez(s,l),h=(q=t.foreignObjectRendering)!==null&&q!==void 0?q:!1,f={allowTaint:(rt=t.allowTaint)!==null&&rt!==void 0?rt:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:h,copyStyles:h},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),p=new tN(c,r,f),w=p.clonedReferenceElement,w?[4,p.toIFrame(e,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=at.sent(),x=m4(w)||rK(w)?IH(w.ownerDocument):$5(c,w),B=x.width,F=x.height,S=x.left,L=x.top,T=iz(c,w,t.backgroundColor),k={canvas:t.canvas,backgroundColor:T,scale:(yt=(lt=t.scale)!==null&&lt!==void 0?lt:n.devicePixelRatio)!==null&&yt!==void 0?yt:1,x:((Et=t.x)!==null&&Et!==void 0?Et:0)+S,y:((st=t.y)!==null&&st!==void 0?st:0)+L,width:(I=t.width)!==null&&I!==void 0?I:Math.ceil(B),height:(X=t.height)!==null&&X!==void 0?X:Math.ceil(F)},h?(c.logger.debug("Document cloned, using foreign object rendering"),j=new JK(c,k),[4,j.render(w)]):[3,3];case 2:return R=at.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+S+","+L+" with size "+B+"x"+F+" using computed rendering"),c.logger.debug("Starting DOM parsing"),M=XQ(c,w),T===M.styles.backgroundColor&&(M.styles.backgroundColor=Zu.TRANSPARENT),c.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),j=new VK(c,k),[4,j.render(M)];case 4:R=at.sent(),at.label=5;case 5:return(!((nt=t.removeContainer)!==null&&nt!==void 0)||nt)&&(tN.destroy(v)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,R]}})})},iz=function(r,t,e){var n=t.ownerDocument,i=n.documentElement?vv(r,getComputedStyle(n.documentElement).backgroundColor):Zu.TRANSPARENT,s=n.body?vv(r,getComputedStyle(n.body).backgroundColor):Zu.TRANSPARENT,A=typeof e=="string"?vv(r,e):e===null?Zu.TRANSPARENT:4294967295;return t===n.documentElement?Af(i)?Af(s)?A:s:i:A};const rz=Object.freeze(Object.defineProperty({__proto__:null,default:lI},Symbol.toStringTag,{value:"Module"})),da=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),vS=[.001,0,0,.001,0,0],wE=1.35,DA={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},sd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Lv="pdfjs_internal_editor_",Xe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Bn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},sz={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ms={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},mB={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Br={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},z0={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},AC={ERRORS:0,WARNINGS:1,INFOS:5},Nv={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},J2={moveTo:0,lineTo:1,curveTo:2,closePath:3},az={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let oC=AC.WARNINGS;function Az(r){Number.isInteger(r)&&(oC=r)}function oz(){return oC}function lC(r){oC>=AC.INFOS&&console.info(`Info: ${r}`)}function Ge(r){oC>=AC.WARNINGS&&console.warn(`Warning: ${r}`)}function ui(r){throw new Error(r)}function Cn(r,t){r||ui(t)}function lz(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cI(r,t=null,e=null){if(!r)return null;if(e&&typeof r=="string"){if(e.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(e.tryConvertEncoding)try{r=fz(r)}catch{}}const n=t?URL.parse(r,t):URL.parse(r);return lz(n)?n:null}function uI(r,t,e=!1){const n=URL.parse(r);return n?(n.hash=t,n.href):e&&cI(r,"http://example.com")?r.split("#",1)[0]+`${t?`#${t}`:""}`:""}function nn(r,t,e,n=!1){return Object.defineProperty(r,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Tp=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class sN extends Tp{constructor(t,e){super(t,"PasswordException"),this.code=e}}class vE extends Tp{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class yS extends Tp{constructor(t){super(t,"InvalidPDFException")}}class d5 extends Tp{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class cz extends Tp{constructor(t){super(t,"FormatError")}}class uf extends Tp{constructor(t){super(t,"AbortException")}}function hI(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&ui("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<t;i+=e){const s=Math.min(i+e,t),A=r.subarray(i,s);n.push(String.fromCharCode.apply(null,A))}return n.join("")}function vb(r){typeof r!="string"&&ui("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=r.charCodeAt(n)&255;return e}function uz(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function hz(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function dz(){try{return new Function(""),!0}catch{return!1}}class Fs{static get isLittleEndian(){return nn(this,"isLittleEndian",hz())}static get isEvalSupported(){return nn(this,"isEvalSupported",dz())}static get isOffscreenCanvasSupported(){return nn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return nn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return nn(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return nn(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const yE=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var th,wB,bS;class fe{static makeHexColor(t,e,n){return`#${yE[t]}${yE[e]}${yE[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const i=t[n],s=t[n+1];t[n]=i*e[0]+s*e[2]+e[4],t[n+1]=i*e[1]+s*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const i=e[0],s=e[1],A=e[2],l=e[3],c=e[4],h=e[5];for(let f=0;f<6;f+=2){const p=t[n+f],w=t[n+f+1];t[n+f]=p*i+w*A+c,t[n+f+1]=p*s+w*l+h}}static applyInverseTransform(t,e){const n=t[0],i=t[1],s=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/s,t[1]=(-n*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/s}static axialAlignedBoundingBox(t,e,n){const i=e[0],s=e[1],A=e[2],l=e[3],c=e[4],h=e[5],f=t[0],p=t[1],w=t[2],v=t[3];let x=i*f+c,B=x,F=i*w+c,S=F,L=l*p+h,T=L,k=l*v+h,R=k;if(s!==0||A!==0){const M=s*f,j=s*w,V=A*p,et=A*v;x+=V,S+=V,F+=et,B+=et,L+=M,R+=M,k+=j,T+=j}n[0]=Math.min(n[0],x,F,B,S),n[1]=Math.min(n[1],L,k,T,R),n[2]=Math.max(n[2],x,F,B,S),n[3]=Math.max(n[3],L,k,T,R)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],i=t[1],s=t[2],A=t[3],l=n**2+i**2,c=n*s+i*A,h=s**2+A**2,f=(l+h)/2,p=Math.sqrt(f**2-(l*h-c**2));e[0]=Math.sqrt(f+p||1),e[1]=Math.sqrt(f-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),A=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>A?null:[n,s,i,A]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,i,s){s[0]=Math.min(s[0],t,n),s[1]=Math.min(s[1],e,i),s[2]=Math.max(s[2],t,n),s[3]=Math.max(s[3],e,i)}static bezierBoundingBox(t,e,n,i,s,A,l,c,h){h[0]=Math.min(h[0],t,l),h[1]=Math.min(h[1],e,c),h[2]=Math.max(h[2],t,l),h[3]=Math.max(h[3],e,c),P(this,th,bS).call(this,t,n,s,l,e,i,A,c,3*(-t+3*(n-s)+l),6*(t-2*n+s),3*(n-t),h),P(this,th,bS).call(this,t,n,s,l,e,i,A,c,3*(-e+3*(i-A)+c),6*(e-2*i+A),3*(i-e),h)}}th=new WeakSet,wB=function(t,e,n,i,s,A,l,c,h,f){if(h<=0||h>=1)return;const p=1-h,w=h*h,v=w*h,x=p*(p*(p*t+3*h*e)+3*w*n)+v*i,B=p*(p*(p*s+3*h*A)+3*w*l)+v*c;f[0]=Math.min(f[0],x),f[1]=Math.min(f[1],B),f[2]=Math.max(f[2],x),f[3]=Math.max(f[3],B)},bS=function(t,e,n,i,s,A,l,c,h,f,p,w){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&P(this,th,wB).call(this,t,e,n,i,s,A,l,c,-p/f,w);return}const v=f**2-4*p*h;if(v<0)return;const x=Math.sqrt(v),B=2*h;P(this,th,wB).call(this,t,e,n,i,s,A,l,c,(-f+x)/B,w),P(this,th,wB).call(this,t,e,n,i,s,A,l,c,(-f-x)/B,w)},O(fe,th);function fz(r){return decodeURIComponent(escape(r))}let bE=null,aN=null;function gz(r){return bE||(bE=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,aN=new Map([["","t"]])),r.replaceAll(bE,(t,e,n)=>e?e.normalize("NFKC"):aN.get(n))}function dI(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),hI(r)}const w4="pdfjs_internal_id_";function pz(r,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,i,...s]=e;if(!r(n)&&!Number.isInteger(n)||!t(i))return!1;const A=s.length;let l=!0;switch(i.name){case"XYZ":if(A<2||A>3)return!1;break;case"Fit":case"FitB":return A===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(A>1)return!1;break;case"FitR":if(A!==4)return!1;l=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function fa(r,t,e){return Math.min(Math.max(r,t),e)}function fI(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(hI(r))}function mz(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):vb(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...t){return new Promise(e=>{e(r(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((t,e)=>t+e,0)});class Tv{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function i(s){var c;if(!s)return;let A=null;const l=s.name;if(l==="#text")A=s.value;else if(Tv.shouldBuildText(l))(c=s==null?void 0:s.attributes)!=null&&c.textContent?A=s.attributes.textContent:s.value&&(A=s.value);else return;if(A!==null&&e.push({str:A}),!!s.children)for(const h of s.children)i(h)}return i(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class gI{static setupStorage(t,e,n,i,s){const A=i.getValue(e,{value:null});switch(n.name){case"textarea":if(A.value!==null&&(t.textContent=A.value),s==="print")break;t.addEventListener("input",l=>{i.setValue(e,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(A.value===n.attributes.xfaOn?t.setAttribute("checked",!0):A.value===n.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",l=>{i.setValue(e,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(A.value!==null&&t.setAttribute("value",A.value),s==="print")break;t.addEventListener("input",l=>{i.setValue(e,{value:l.target.value})})}break;case"select":if(A.value!==null){t.setAttribute("value",A.value);for(const l of n.children)l.attributes.value===A.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}t.addEventListener("input",l=>{const c=l.target.options,h=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(e,{value:h})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:i,linkService:s}){const{attributes:A}=e,l=t instanceof HTMLAnchorElement;A.type==="radio"&&(A.name=`${A.name}-${i}`);for(const[c,h]of Object.entries(A))if(h!=null)switch(c){case"class":h.length&&t.setAttribute(c,h.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",h);break;case"style":Object.assign(t.style,h);break;case"textContent":t.textContent=h;break;default:(!l||c!=="href"&&c!=="newWindow")&&t.setAttribute(c,h)}l&&s.addLinkAttributes(t,A.href,A.newWindow),n&&A.dataId&&this.setupStorage(t,A.dataId,e,n)}static render(t){var p,w;const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,s=t.intent||"display",A=document.createElement(i.name);i.attributes&&this.setAttributes({html:A,element:i,intent:s,linkService:n});const l=s!=="richText",c=t.div;if(c.append(A),t.viewport){const v=`matrix(${t.viewport.transform.join(",")})`;c.style.transform=v}l&&c.setAttribute("class","xfaLayer xfaFont");const h=[];if(i.children.length===0){if(i.value){const v=document.createTextNode(i.value);A.append(v),l&&Tv.shouldBuildText(i.name)&&h.push(v)}return{textDivs:h}}const f=[[i,-1,A]];for(;f.length>0;){const[v,x,B]=f.at(-1);if(x+1===v.children.length){f.pop();continue}const F=v.children[++f.at(-1)[1]];if(F===null)continue;const{name:S}=F;if(S==="#text"){const T=document.createTextNode(F.value);h.push(T),B.append(T);continue}const L=(p=F==null?void 0:F.attributes)!=null&&p.xmlns?document.createElementNS(F.attributes.xmlns,S):document.createElement(S);if(B.append(L),F.attributes&&this.setAttributes({html:L,element:F,storage:e,intent:s,linkService:n}),((w=F.children)==null?void 0:w.length)>0)f.push([F,-1,L]);else if(F.value){const T=document.createTextNode(F.value);l&&Tv.shouldBuildText(S)&&h.push(T),L.append(T)}}for(const v of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:h}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const hu="http://www.w3.org/2000/svg",sg=class sg{};Wt(sg,"CSS",96),Wt(sg,"PDF",72),Wt(sg,"PDF_TO_CSS_UNITS",sg.CSS/sg.PDF);let hf=sg;async function yb(r,t="text"){if(qw(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(i.response);return}e(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class bb{constructor({viewBox:t,userUnit:e,scale:n,rotation:i,offsetX:s=0,offsetY:A=0,dontFlip:l=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=A,n*=e;const c=(t[2]+t[0])/2,h=(t[3]+t[1])/2;let f,p,w,v;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,p=0,w=0,v=1;break;case 90:f=0,p=1,w=1,v=0;break;case 270:f=0,p=-1,w=-1,v=0;break;case 0:f=1,p=0,w=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(w=-w,v=-v);let x,B,F,S;f===0?(x=Math.abs(h-t[1])*n+s,B=Math.abs(c-t[0])*n+A,F=(t[3]-t[1])*n,S=(t[2]-t[0])*n):(x=Math.abs(c-t[0])*n+s,B=Math.abs(h-t[1])*n+A,F=(t[2]-t[0])*n,S=(t[3]-t[1])*n),this.transform=[f*n,p*n,w*n,v*n,x-f*n*c-w*n*h,B-p*n*c-v*n*h],this.width=F,this.height=S}get rawDims(){const t=this.viewBox;return nn(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new bb({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(t,e){const n=[t,e];return fe.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];fe.applyTransform(e,this.transform);const n=[t[2],t[3]];return fe.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return fe.applyInverseTransform(n,this.transform),n}}class v4 extends Tp{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function cC(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function y4(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function wz(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function vz(r,t="document.pdf"){if(typeof r!="string")return t;if(cC(r))return Ge('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return t;const i=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},s=/\.pdf$/i,A=n.pathname.split("/").at(-1);if(s.test(A))return i(A);if(n.searchParams.size>0){const l=Array.from(n.searchParams.values()).reverse();for(const h of l)if(s.test(h))return i(h);const c=Array.from(n.searchParams.keys()).reverse();for(const h of c)if(s.test(h))return i(h)}if(n.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(c)return i(c[0])}return t}class AN{constructor(){Wt(this,"started",Object.create(null));Wt(this,"times",[])}time(t){t in this.started&&Ge(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ge(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:s}of this.times)t.push(`${n.padEnd(e)} ${s-i}ms
`);return t.join("")}}function qw(r,t){const e=t?URL.parse(r,t):URL.parse(r);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function Eo(r){r.preventDefault()}function er(r){r.preventDefault(),r.stopPropagation()}function yz(r){console.log("Deprecated API usage: "+r)}var Dv;class f5{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;d(this,Dv)||N(this,Dv,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,Dv).exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let A=parseInt(e[4],10);A=A>=0&&A<=23?A:0;let l=parseInt(e[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(e[6],10);c=c>=0&&c<=59?c:0;const h=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(A+=f,l+=p):h==="+"&&(A-=f,l-=p),new Date(Date.UTC(n,i,s,A,l,c))}}Dv=new WeakMap,O(f5,Dv);function bz(r,{scale:t=1,rotation:e=0}){const{width:n,height:i}=r.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new bb({viewBox:s,userUnit:1,scale:t,rotation:e})}function Bb(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ge(`Not a valid color format: "${r}"`),[0,0,0])}function Bz(r){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of r.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;r.set(e,Bb(n))}t.remove()}function Ki(r){const{a:t,b:e,c:n,d:i,e:s,f:A}=r.getTransform();return[t,e,n,i,s,A]}function $l(r){const{a:t,b:e,c:n,d:i,e:s,f:A}=r.getTransform().invertSelf();return[t,e,n,i,s,A]}function Ep(r,t,e=!1,n=!0){if(t instanceof bb){const{pageWidth:i,pageHeight:s}=t.rawDims,{style:A}=r,l=Fs.isCSSRoundSupported,c=`var(--total-scale-factor) * ${i}px`,h=`var(--total-scale-factor) * ${s}px`,f=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,p=l?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!e||t.rotation%180===0?(A.width=f,A.height=p):(A.width=p,A.height=f)}n&&r.setAttribute("data-main-rotation",t.rotation)}class Sc{constructor(){const{pixelRatio:t}=Sc;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,i,s=-1){let A=1/0,l=1/0,c=1/0;n=Sc.capPixels(n,s),n>0&&(A=Math.sqrt(n/(t*e))),i!==-1&&(l=i/t,c=i/e);const h=Math.min(A,l,c);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const BS=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Cz{static get isDarkMode(){var t;return nn(this,"isDarkMode",!!((t=window==null?void 0:window.matchMedia)!=null&&t.call(window,"(prefers-color-scheme: dark)").matches))}}class xz{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),nn(this,"commentForegroundColor",Bb(n))}}function Ez(r,t,e,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return r=Math.round(r*n+i),t=Math.round(t*n+i),e=Math.round(e*n+i),[r,t,e]}function oN(r,t){const e=r[0]/255,n=r[1]/255,i=r[2]/255,s=Math.max(e,n,i),A=Math.min(e,n,i),l=(s+A)/2;if(s===A)t[0]=t[1]=0;else{const c=s-A;switch(t[1]=l<.5?c/(s+A):c/(2-s-A),s){case e:t[0]=((n-i)/c+(n<i?6:0))*60;break;case n:t[0]=((i-e)/c+2)*60;break;case i:t[0]=((e-n)/c+4)*60;break}}t[2]=l}function CS(r,t){const e=r[0],n=r[1],i=r[2],s=(1-Math.abs(2*i-1))*n,A=s*(1-Math.abs(e/60%2-1)),l=i-s/2;switch(Math.floor(e/60)){case 0:t[0]=s+l,t[1]=A+l,t[2]=l;break;case 1:t[0]=A+l,t[1]=s+l,t[2]=l;break;case 2:t[0]=l,t[1]=s+l,t[2]=A+l;break;case 3:t[0]=l,t[1]=A+l,t[2]=s+l;break;case 4:t[0]=A+l,t[1]=l,t[2]=s+l;break;case 5:case 6:t[0]=s+l,t[1]=l,t[2]=A+l;break}}function lN(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function cN(r,t,e){CS(r,e),e.map(lN);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];CS(t,e),e.map(lN);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const uN=new Map;function Sz(r,t){const e=r[0]+r[1]*256+r[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=uN.get(e);if(n)return n;const i=new Float32Array(9),s=i.subarray(0,3),A=i.subarray(3,6);oN(r,A);const l=i.subarray(6,9);oN(t,l);const c=l[2]<.5,h=c?12:4.5;if(A[2]=c?Math.sqrt(A[2]):1-Math.sqrt(1-A[2]),cN(A,l,s)<h){let f,p;c?(f=A[2],p=1):(f=0,p=A[2]);const w=.005;for(;p-f>w;){const v=A[2]=(f+p)/2;c===cN(A,l,s)<h?f=v:p=v}A[2]=c?p:f}return CS(A,s),n=fe.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),uN.set(e,n),n}function pI({html:r,dir:t,className:e},n){const i=document.createDocumentFragment();if(typeof r=="string"){const s=document.createElement("p");s.dir=t||"auto";const A=r.split(/(?:\r\n?|\n)/);for(let l=0,c=A.length;l<c;++l){const h=A[l];s.append(document.createTextNode(h)),l<c-1&&s.append(document.createElement("br"))}i.append(s)}else gI.render({xfaHtml:r,div:i,intent:"richText"});i.firstChild.classList.add("richText",e),n.append(i)}var ad,Ad,Ao,oo,kv,od,hm,dm,Ov,S5,mI,Ss,wI,vI,G0,Xw;const pu=class pu{constructor(t){O(this,Ss);O(this,ad,null);O(this,Ad,null);O(this,Ao);O(this,oo,null);O(this,kv,null);O(this,od,null);O(this,hm,null);O(this,dm,null);N(this,Ao,t),d(pu,Ov)||N(pu,Ov,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=N(this,ad,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,Ao)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Eo,{signal:e}),t.addEventListener("pointerdown",P(pu,S5,mI),{signal:e}));const n=N(this,oo,document.createElement("div"));n.className="buttons",t.append(n);const i=d(this,Ao).toolbarPosition;if(i){const{style:s}=t,A=d(this,Ao)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*A}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return d(this,ad)}hide(){var t;d(this,ad).classList.add("hidden"),(t=d(this,Ad))==null||t.hideDropdown()}show(){var t,e;d(this,ad).classList.remove("hidden"),(t=d(this,kv))==null||t.shown(),(e=d(this,od))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=d(this,Ao),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",d(pu,Ov)[t]),P(this,Ss,G0).call(this,n)&&n.addEventListener("click",i=>{e.delete()},{signal:e._signal}),d(this,oo).append(n)}async addAltText(t){const e=await t.render();P(this,Ss,G0).call(this,e),d(this,oo).append(e,d(this,Ss,Xw)),N(this,kv,t)}addComment(t,e=null){if(d(this,od))return;const n=t.renderForToolbar();if(!n)return;P(this,Ss,G0).call(this,n);const i=N(this,hm,d(this,Ss,Xw));e?(d(this,oo).insertBefore(n,e),d(this,oo).insertBefore(i,e)):d(this,oo).append(n,i),N(this,od,t),t.toolbar=this}addColorPicker(t){if(d(this,Ad))return;N(this,Ad,t);const e=t.renderButton();P(this,Ss,G0).call(this,e),d(this,oo).append(e,d(this,Ss,Xw))}async addEditSignatureButton(t){const e=N(this,dm,await t.renderEditButton(d(this,Ao)));P(this,Ss,G0).call(this,e),d(this,oo).append(e,d(this,Ss,Xw))}removeButton(t){var e,n;switch(t){case"comment":(e=d(this,od))==null||e.removeToolbarCommentButton(),N(this,od,null),(n=d(this,hm))==null||n.remove(),N(this,hm,null);break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const i=d(this,oo).querySelector(n);i&&t==="comment"&&this.addComment(e,i)}updateEditSignatureButton(t){d(this,dm)&&(d(this,dm).title=t)}remove(){var t;d(this,ad).remove(),(t=d(this,Ad))==null||t.destroy(),N(this,Ad,null)}};ad=new WeakMap,Ad=new WeakMap,Ao=new WeakMap,oo=new WeakMap,kv=new WeakMap,od=new WeakMap,hm=new WeakMap,dm=new WeakMap,Ov=new WeakMap,S5=new WeakSet,mI=function(t){t.stopPropagation()},Ss=new WeakSet,wI=function(t){d(this,Ao)._focusEventsAllowed=!1,er(t)},vI=function(t){d(this,Ao)._focusEventsAllowed=!0,er(t)},G0=function(t){const e=d(this,Ao)._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",P(this,Ss,wI).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",P(this,Ss,vI).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Eo,{signal:e}),!0)},Xw=function(){const t=document.createElement("div");return t.className="divider",t},O(pu,S5),O(pu,Ov,null);let xS=pu;var Rv,cg,wu,rh,yI,bI,ES;class _z{constructor(t){O(this,rh);O(this,Rv,null);O(this,cg,null);O(this,wu);N(this,wu,t)}show(t,e,n){const[i,s]=P(this,rh,bI).call(this,e,n),{style:A}=d(this,cg)||N(this,cg,P(this,rh,yI).call(this));t.append(d(this,cg)),A.insetInlineEnd=`${100*i}%`,A.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,cg).remove()}}Rv=new WeakMap,cg=new WeakMap,wu=new WeakMap,rh=new WeakSet,yI=function(){const t=N(this,cg,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=d(this,wu)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Eo,{signal:e});const n=N(this,Rv,document.createElement("div"));return n.className="buttons",t.append(n),d(this,wu).hasCommentManager()&&P(this,rh,ES).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{d(this,wu).commentSelection("floating_button")}),P(this,rh,ES).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{d(this,wu).highlightSelection("floating_button")}),t},bI=function(t,e){let n=0,i=0;for(const s of t){const A=s.y+s.height;if(A<n)continue;const l=s.x+(e?s.width:0);if(A>n){i=l,n=A;continue}e?l>i&&(i=l):l<i&&(i=l)}return[e?1-i:i,n]},ES=function(t,e,n,i){const s=document.createElement("button");s.classList.add("basic",t),s.tabIndex=0,s.setAttribute("data-l10n-id",e);const A=document.createElement("span");s.append(A),A.className="visuallyHidden",A.setAttribute("data-l10n-id",n);const l=d(this,wu)._signal;l instanceof AbortSignal&&!l.aborted&&(s.addEventListener("contextmenu",Eo,{signal:l}),s.addEventListener("click",i,{signal:l})),d(this,Rv).append(s)};function BI(r,t,e){for(const n of e)t.addEventListener(n,r[n].bind(r))}var _5;class Fz{constructor(){O(this,_5,0)}get id(){return`${Lv}${Ir(this,_5)._++}`}}_5=new WeakMap;var fm,Mv,zs,gm,vB;const U4=class U4{constructor(){O(this,gm);O(this,fm,dI());O(this,Mv,0);O(this,zs,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return nn(this,"_isSVGFittingCanvas",s)}async getFromFile(t){const{lastModified:e,name:n,size:i,type:s}=t;return P(this,gm,vB).call(this,`${e}_${n}_${i}_${s}`,t)}async getFromUrl(t){return P(this,gm,vB).call(this,t,t)}async getFromBlob(t,e){const n=await e;return P(this,gm,vB).call(this,t,n)}async getFromId(t){d(this,zs)||N(this,zs,new Map);const e=d(this,zs).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,zs)||N(this,zs,new Map);let n=d(this,zs).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(e.width,e.height);return i.getContext("2d").drawImage(e,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${d(this,fm)}_${Ir(this,Mv)._++}`,refCounter:1,isSvg:!1},d(this,zs).set(t,n),d(this,zs).set(n.id,n),n}getSvgUrl(t){const e=d(this,zs).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var i;d(this,zs)||N(this,zs,new Map);const e=d(this,zs).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,fm)}_`)}};fm=new WeakMap,Mv=new WeakMap,zs=new WeakMap,gm=new WeakSet,vB=async function(t,e){d(this,zs)||N(this,zs,new Map);let n=d(this,zs).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${d(this,fm)}_${Ir(this,Mv)._++}`,refCounter:0,isSvg:!1});let i;if(typeof e=="string"?(n.url=e,i=await yb(e,"blob")):e instanceof File?i=n.file=e:e instanceof Blob&&(i=e),i.type==="image/svg+xml"){const s=U4._isSVGFittingCanvas,A=new FileReader,l=new Image,c=new Promise((h,f)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,h()},A.onload=async()=>{const p=n.svgUrl=A.result;l.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=A.onerror=f});A.readAsDataURL(i),await c}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Ge(i),n=null}return d(this,zs).set(t,n),n&&d(this,zs).set(n.id,n),n};let SS=U4;var sr,ld,Hv,ji;class Uz{constructor(t=128){O(this,sr,[]);O(this,ld,!1);O(this,Hv);O(this,ji,-1);N(this,Hv,t)}add({cmd:t,undo:e,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:A=!1,keepUndo:l=!1}){if(i&&t(),d(this,ld))return;const c={cmd:t,undo:e,post:n,type:s};if(d(this,ji)===-1){d(this,sr).length>0&&(d(this,sr).length=0),N(this,ji,0),d(this,sr).push(c);return}if(A&&d(this,sr)[d(this,ji)].type===s){l&&(c.undo=d(this,sr)[d(this,ji)].undo),d(this,sr)[d(this,ji)]=c;return}const h=d(this,ji)+1;h===d(this,Hv)?d(this,sr).splice(0,1):(N(this,ji,h),h<d(this,sr).length&&d(this,sr).splice(h)),d(this,sr).push(c)}undo(){if(d(this,ji)===-1)return;N(this,ld,!0);const{undo:t,post:e}=d(this,sr)[d(this,ji)];t(),e==null||e(),N(this,ld,!1),N(this,ji,d(this,ji)-1)}redo(){if(d(this,ji)<d(this,sr).length-1){N(this,ji,d(this,ji)+1),N(this,ld,!0);const{cmd:t,post:e}=d(this,sr)[d(this,ji)];t(),e==null||e(),N(this,ld,!1)}}hasSomethingToUndo(){return d(this,ji)!==-1}hasSomethingToRedo(){return d(this,ji)<d(this,sr).length-1}cleanType(t){if(d(this,ji)!==-1){for(let e=d(this,ji);e>=0;e--)if(d(this,sr)[e].type!==t){d(this,sr).splice(e+1,d(this,ji)-e),N(this,ji,e);return}d(this,sr).length=0,N(this,ji,-1)}}destroy(){N(this,sr,null)}}sr=new WeakMap,ld=new WeakMap,Hv=new WeakMap,ji=new WeakMap;var F5,CI;class Cb{constructor(t){O(this,F5);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Fs.platform;for(const[n,i,s={}]of t)for(const A of n){const l=A.startsWith("mac+");e&&l?(this.callbacks.set(A.slice(4),{callback:i,options:s}),this.allKeys.add(A.split("+").at(-1))):!e&&!l&&(this.callbacks.set(A,{callback:i,options:s}),this.allKeys.add(A.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(P(this,F5,CI).call(this,e));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:A=[],checker:l=null}}=n;l&&!l(t,e)||(i.bind(t,...A,e)(),s||er(e))}}F5=new WeakSet,CI=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const U5=class U5{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Bz(t),nn(this,"_colors",t)}convert(t){const e=Bb(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every((s,A)=>s===e[A]))return U5._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?fe.makeHexColor(...e):t}};Wt(U5,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _S=U5;var pm,wA,mm,Wi,Rr,wm,lo,vm,co,Gs,cd,ud,ym,hd,ec,uo,ug,Pv,jv,bm,Kv,nc,dd,Bm,fd,ic,L5,gd,Cm,zv,pd,hg,xm,md,Gv,Cr,zn,vu,wd,vd,Vv,Em,qv,yd,rc,yu,Xv,Yv,ho,se,yB,FS,xI,EI,Yw,SI,_I,FI,US,UI,LS,NS,LI,Aa,du,NI,TI,TS,QI,Ww,QS;const em=class em{constructor(t,e,n,i,s,A,l,c,h,f,p,w,v,x,B,F){O(this,se);O(this,pm,new AbortController);O(this,wA,null);O(this,mm,null);O(this,Wi,new Map);O(this,Rr,new Map);O(this,wm,null);O(this,lo,null);O(this,vm,null);O(this,co,new Uz);O(this,Gs,null);O(this,cd,null);O(this,ud,null);O(this,ym,0);O(this,hd,new Set);O(this,ec,null);O(this,uo,null);O(this,ug,new Set);Wt(this,"_editorUndoBar",null);O(this,Pv,!1);O(this,jv,!1);O(this,bm,!1);O(this,Kv,null);O(this,nc,null);O(this,dd,null);O(this,Bm,null);O(this,fd,!1);O(this,ic,null);O(this,L5,new Fz);O(this,gd,!1);O(this,Cm,!1);O(this,zv,!1);O(this,pd,null);O(this,hg,null);O(this,xm,null);O(this,md,null);O(this,Gv,null);O(this,Cr,Xe.NONE);O(this,zn,new Set);O(this,vu,null);O(this,wd,null);O(this,vd,null);O(this,Vv,null);O(this,Em,null);O(this,qv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});O(this,yd,[0,0]);O(this,rc,null);O(this,yu,null);O(this,Xv,null);O(this,Yv,null);O(this,ho,null);const S=this._signal=d(this,pm).signal;N(this,yu,t),N(this,Xv,e),N(this,Yv,n),N(this,wm,i),N(this,Gs,s),N(this,wd,A),N(this,Em,c),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",L=>this.updateParams(L.type,L.value),{signal:S}),window.addEventListener("pointerdown",()=>{N(this,Cm,!0)},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{N(this,Cm,!1)},{capture:!0,signal:S}),P(this,se,SI).call(this),P(this,se,LI).call(this),P(this,se,US).call(this),N(this,lo,c.annotationStorage),N(this,Kv,c.filterFactory),N(this,vd,h),N(this,Bm,f||null),N(this,Pv,p),N(this,jv,w),N(this,bm,v),N(this,Gv,x||null),this.viewParameters={realScale:hf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=B||null,this._supportsPinchToZoom=F!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const t=em.prototype,e=A=>d(A,yu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&A.hasSomethingToControl(),n=(A,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return nn(this,"_keyboardManager",new Cb([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(A,{target:l})=>!(l instanceof HTMLButtonElement)&&d(A,yu).contains(l)&&!A.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(A,{target:l})=>!(l instanceof HTMLButtonElement)&&d(A,yu).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}destroy(){var t,e,n,i,s,A,l,c,h;(t=d(this,ho))==null||t.resolve(),N(this,ho,null),(e=d(this,pm))==null||e.abort(),N(this,pm,null),this._signal=null;for(const f of d(this,Rr).values())f.destroy();d(this,Rr).clear(),d(this,Wi).clear(),d(this,ug).clear(),(n=d(this,md))==null||n.clear(),N(this,wA,null),d(this,zn).clear(),d(this,co).destroy(),(i=d(this,wm))==null||i.destroy(),(s=d(this,Gs))==null||s.destroy(),(A=d(this,wd))==null||A.destroy(),(l=d(this,ic))==null||l.hide(),N(this,ic,null),(c=d(this,xm))==null||c.destroy(),N(this,xm,null),N(this,mm,null),d(this,nc)&&(clearTimeout(d(this,nc)),N(this,nc,null)),d(this,rc)&&(clearTimeout(d(this,rc)),N(this,rc,null)),(h=this._editorUndoBar)==null||h.destroy(),N(this,Em,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,Gv)}get useNewAltTextFlow(){return d(this,jv)}get useNewAltTextWhenAddingImage(){return d(this,bm)}get hcmFilter(){return nn(this,"hcmFilter",d(this,vd)?d(this,Kv).addHCMFilter(d(this,vd).foreground,d(this,vd).background):"none")}get direction(){return nn(this,"direction",getComputedStyle(d(this,yu)).direction)}get _highlightColors(){return nn(this,"_highlightColors",d(this,Bm)?new Map(d(this,Bm).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return nn(this,"highlightColors",null);const e=new Map,n=!!d(this,vd);for(const[i,s]of t){const A=i.endsWith("_HCM");if(n&&A){e.set(i.replace("_HCM",""),s);continue}!n&&!A&&e.set(i,s)}return nn(this,"highlightColors",e)}get highlightColorNames(){return nn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),N(this,ud,t)}setMainHighlightColorPicker(t){N(this,xm,t)}editAltText(t,e=!1){var n;(n=d(this,wm))==null||n.editAltText(this,t,e)}hasCommentManager(){return!!d(this,Gs)}editComment(t,e,n,i){var s;(s=d(this,Gs))==null||s.showDialog(this,t,e,n,i)}selectComment(t,e){const n=d(this,Rr).get(t),i=n==null?void 0:n.getEditorByUID(e);i==null||i.toggleComment(!0,!0)}updateComment(t){var e;(e=d(this,Gs))==null||e.updateComment(t.getData())}updatePopupColor(t){var e;(e=d(this,Gs))==null||e.updatePopupColor(t)}removeComment(t){var e;(e=d(this,Gs))==null||e.removeComments([t.uid])}toggleComment(t,e,n=void 0){var i;(i=d(this,Gs))==null||i.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){var n;return t&&((n=d(this,Gs))==null?void 0:n.makeCommentColor(t,e))||null}getCommentDialogElement(){var t;return((t=d(this,Gs))==null?void 0:t.dialogElement)||null}async waitForEditorsRendered(t){if(d(this,Rr).has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),i=s=>{s.pageNumber===t&&(this._eventBus._off("editorsrendered",i),e())};this._eventBus.on("editorsrendered",i),await n}getSignature(t){var e;(e=d(this,wd))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return d(this,wd)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":N(this,bm,e);break}}onPageChanging({pageNumber:t}){N(this,ym,t-1)}focusMainContainer(){d(this,yu).focus()}findParent(t,e){for(const n of d(this,Rr).values()){const{x:i,y:s,width:A,height:l}=n.div.getBoundingClientRect();if(t>=i&&t<=i+A&&e>=s&&e<=s+l)return n}return null}disableUserSelect(t=!1){d(this,Xv).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,ug).add(t)}removeShouldRescale(t){d(this,ug).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*hf.PDF_TO_CSS_UNITS;for(const n of d(this,ug))n.onScaleChanging();(e=d(this,ud))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:A,focusOffset:l}=n,c=n.toString(),f=P(this,se,yB).call(this,n).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;n.empty();const w=P(this,se,FS).call(this,f),v=d(this,Cr)===Xe.NONE,x=()=>{const B=w==null?void 0:w.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:i,anchorOffset:s,focusNode:A,focusOffset:l,text:c});v&&this.showAllEditors("highlight",!0,!0),e&&(B==null||B.editComment())};if(v){this.switchToMode(Xe.HIGHLIGHT,x);return}x()}commentSelection(t=""){this.highlightSelection(t,!0)}getAndRemoveDataFromAnnotationStorage(t){if(!d(this,lo))return null;const e=`${Lv}${t}`,n=d(this,lo).getRawValue(e);return n&&d(this,lo).remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&d(this,lo)&&!d(this,lo).has(t.id)&&d(this,lo).setValue(t.id,t)}a11yAlert(t,e=null){const n=d(this,Yv);n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,d(this,fd)&&(N(this,fd,!1),P(this,se,Yw).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,zn))if(e.div.contains(t)){N(this,hg,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,hg))return;const[t,e]=d(this,hg);N(this,hg,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){P(this,se,US).call(this),P(this,se,LS).call(this)}removeEditListeners(){P(this,se,UI).call(this),P(this,se,NS).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of d(this,uo))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of d(this,uo))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=d(this,wA))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of d(this,zn)){const s=i.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const s of e.items)for(const A of d(this,uo))if(A.isHandlingMimeForPasting(s.type)){A.paste(s,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Ge(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const c of n){const h=await i.deserialize(c);if(!h)return;s.push(h)}const A=()=>{for(const c of s)P(this,se,TS).call(this,c);P(this,se,QS).call(this,s)},l=()=>{for(const c of s)c.remove()};this.addCommands({cmd:A,undo:l,mustExec:!0})}catch(s){Ge(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,Cr)!==Xe.NONE&&!this.isEditorHandlingKeyboard&&em._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,fd)&&(N(this,fd,!1),P(this,se,Yw).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(t){t?(P(this,se,_I).call(this),P(this,se,LS).call(this),P(this,se,Aa).call(this,{isEditing:d(this,Cr)!==Xe.NONE,isEmpty:P(this,se,Ww).call(this),hasSomethingToUndo:d(this,co).hasSomethingToUndo(),hasSomethingToRedo:d(this,co).hasSomethingToRedo(),hasSelectedEditor:!1})):(P(this,se,FI).call(this),P(this,se,NS).call(this),P(this,se,Aa).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,uo)){N(this,uo,t);for(const e of d(this,uo))P(this,se,du).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,L5).id}get currentLayer(){return d(this,Rr).get(d(this,ym))}getLayer(t){return d(this,Rr).get(t)}get currentPageIndex(){return d(this,ym)}addLayer(t){d(this,Rr).set(t.pageIndex,t),d(this,gd)?t.enable():t.disable()}removeLayer(t){d(this,Rr).delete(t.pageIndex)}async updateMode(t,e=null,n=!1,i=!1,s=!1){var A,l,c,h,f,p;if(d(this,Cr)!==t&&!(d(this,ho)&&(await d(this,ho).promise,!d(this,ho)))){if(N(this,ho,Promise.withResolvers()),(A=d(this,ud))==null||A.commitOrRemove(),d(this,Cr)===Xe.POPUP&&((l=d(this,Gs))==null||l.hideSidebar()),(c=d(this,Gs))==null||c.destroyPopup(),N(this,Cr,t),t===Xe.NONE){this.setEditingState(!1),P(this,se,TI).call(this);for(const w of d(this,Wi).values())w.hideStandaloneCommentButton();(h=this._editorUndoBar)==null||h.hide(),this.toggleComment(null),d(this,ho).resolve();return}for(const w of d(this,Wi).values())w.addStandaloneCommentButton();t===Xe.SIGNATURE&&await((f=d(this,wd))==null?void 0:f.loadSignatures()),this.setEditingState(!0),await P(this,se,NI).call(this),this.unselectAll();for(const w of d(this,Rr).values())w.updateMode(t);if(t===Xe.POPUP){d(this,mm)||N(this,mm,await d(this,Em).getAnnotationsByType(new Set(d(this,uo).map(x=>x._editorType))));const w=new Set,v=[];for(const x of d(this,Wi).values()){const{annotationElementId:B,hasComment:F,deleted:S}=x;B&&w.add(B),F&&!S&&v.push(x.getData())}for(const x of d(this,mm)){const{id:B,popupRef:F,contentsObj:S}=x;F&&(S!=null&&S.str)&&!w.has(B)&&!d(this,hd).has(B)&&v.push(x)}(p=d(this,Gs))==null||p.showSidebar(v)}if(!e){n&&this.addNewEditorFromKeyboard(),d(this,ho).resolve();return}for(const w of d(this,Wi).values())w.uid===e?(this.setSelected(w),s?w.editComment():i?w.enterInEditMode():w.focus()):w.unselect();d(this,ho).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==d(this,Cr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(d(this,uo)){switch(t){case Bn.CREATE:this.currentLayer.addNewEditor(e);return;case Bn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,Vv)||N(this,Vv,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of d(this,zn))n.updateParams(t,e);else for(const n of d(this,uo))n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var s;for(const A of d(this,Wi).values())A.editorType===t&&A.show(e);(((s=d(this,Vv))==null?void 0:s.get(Bn.HIGHLIGHT_SHOW_ALL))??!0)!==e&&P(this,se,du).call(this,[[Bn.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,zv)!==t){N(this,zv,t);for(const e of d(this,Rr).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}*getEditors(t){for(const e of d(this,Wi).values())e.pageIndex===t&&(yield e)}getEditor(t){return d(this,Wi).get(t)}addEditor(t){d(this,Wi).set(t.id,t)}removeEditor(t){var e,n;t.div.contains(document.activeElement)&&(d(this,nc)&&clearTimeout(d(this,nc)),N(this,nc,setTimeout(()=>{this.focusMainContainer(),N(this,nc,null)},0))),d(this,Wi).delete(t.id),t.annotationElementId&&((e=d(this,md))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!d(this,hd).has(t.annotationElementId))&&((n=d(this,lo))==null||n.remove(t.id))}addDeletedAnnotationElement(t){d(this,hd).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,hd).has(t)}removeDeletedAnnotationElement(t){d(this,hd).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,wA)!==t&&(N(this,wA,t),t&&P(this,se,du).call(this,t.propertiesToUpdate))}updateUI(t){d(this,se,QI)===t&&P(this,se,du).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){P(this,se,du).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(d(this,zn).has(t)){d(this,zn).delete(t),t.unselect(),P(this,se,Aa).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,zn).add(t),t.select(),P(this,se,du).call(this,t.propertiesToUpdate),P(this,se,Aa).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=d(this,ud))==null||e.commitOrRemove();for(const n of d(this,zn))n!==t&&n.unselect();d(this,zn).clear(),d(this,zn).add(t),t.select(),P(this,se,du).call(this,t.propertiesToUpdate),P(this,se,Aa).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,zn).has(t)}get firstSelectedEditor(){return d(this,zn).values().next().value}unselect(t){t.unselect(),d(this,zn).delete(t),P(this,se,Aa).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,zn).size!==0}get isEnterHandled(){return d(this,zn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;d(this,co).undo(),P(this,se,Aa).call(this,{hasSomethingToUndo:d(this,co).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:P(this,se,Ww).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){d(this,co).redo(),P(this,se,Aa).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,co).hasSomethingToRedo(),isEmpty:P(this,se,Ww).call(this)})}addCommands(t){d(this,co).add(t),P(this,se,Aa).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:P(this,se,Ww).call(this)})}cleanUndoStack(t){d(this,co).cleanType(t)}delete(){var s;this.commitOrRemove();const t=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...d(this,zn)],n=()=>{var A;(A=this._editorUndoBar)==null||A.show(i,e.length===1?e[0].editorType:e.length);for(const l of e)l.remove()},i=()=>{for(const A of e)P(this,se,TS).call(this,A)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=d(this,wA))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,wA)||this.hasSelection}selectAll(){for(const t of d(this,zn))t.commit();P(this,se,QS).call(this,d(this,Wi).values())}unselectAll(){var t;if(!(d(this,wA)&&(d(this,wA).commitOrRemove(),d(this,Cr)!==Xe.NONE))&&!((t=d(this,ud))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of d(this,zn))e.unselect();d(this,zn).clear(),P(this,se,Aa).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;d(this,yd)[0]+=t,d(this,yd)[1]+=e;const[i,s]=d(this,yd),A=[...d(this,zn)],l=1e3;d(this,rc)&&clearTimeout(d(this,rc)),N(this,rc,setTimeout(()=>{N(this,rc,null),d(this,yd)[0]=d(this,yd)[1]=0,this.addCommands({cmd:()=>{for(const c of A)d(this,Wi).has(c.id)&&(c.translateInPage(i,s),c.translationDone())},undo:()=>{for(const c of A)d(this,Wi).has(c.id)&&(c.translateInPage(-i,-s),c.translationDone())},mustExec:!1})},l));for(const c of A)c.translateInPage(t,e),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),N(this,ec,new Map);for(const t of d(this,zn))d(this,ec).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,ec))return!1;this.disableUserSelect(!1);const t=d(this,ec);N(this,ec,null);let e=!1;for(const[{x:i,y:s,pageIndex:A},l]of t)l.newX=i,l.newY=s,l.newPageIndex=A,e||(e=i!==l.savedX||s!==l.savedY||A!==l.savedPageIndex);if(!e)return!1;const n=(i,s,A,l)=>{if(d(this,Wi).has(i.id)){const c=d(this,Rr).get(l);c?i._setParentAndPosition(c,s,A):(i.pageIndex=l,i.x=s,i.y=A)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:A,newPageIndex:l}]of t)n(i,s,A,l)},undo:()=>{for(const[i,{savedX:s,savedY:A,savedPageIndex:l}]of t)n(i,s,A,l)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,ec))for(const n of d(this,ec).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,zn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,wA)===t}getActive(){return d(this,wA)}getMode(){return d(this,Cr)}isEditingMode(){return d(this,Cr)!==Xe.NONE}get imageManager(){return nn(this,"imageManager",new SS)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let h=0,f=e.rangeCount;h<f;h++)if(!t.contains(e.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:A}=t.getBoundingClientRect();let l;switch(t.getAttribute("data-main-rotation")){case"90":l=(h,f,p,w)=>({x:(f-i)/A,y:1-(h+p-n)/s,width:w/A,height:p/s});break;case"180":l=(h,f,p,w)=>({x:1-(h+p-n)/s,y:1-(f+w-i)/A,width:p/s,height:w/A});break;case"270":l=(h,f,p,w)=>({x:1-(f+w-i)/A,y:(h-n)/s,width:w/A,height:p/s});break;default:l=(h,f,p,w)=>({x:(h-n)/s,y:(f-i)/A,width:p/s,height:w/A});break}const c=[];for(let h=0,f=e.rangeCount;h<f;h++){const p=e.getRangeAt(h);if(!p.collapsed)for(const{x:w,y:v,width:x,height:B}of p.getClientRects())x===0||B===0||c.push(l(w,v,x,B))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,vm)||N(this,vm,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,vm))==null||e.delete(t)}renderAnnotationElement(t){var i;const e=(i=d(this,vm))==null?void 0:i.get(t.data.id);if(!e)return;const n=d(this,lo).getRawValue(e);n&&(d(this,Cr)===Xe.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){var s;const i=(s=d(this,md))==null?void 0:s.get(t);i&&(i.setCanvas(e,n),d(this,md).delete(t))}addMissingCanvas(t,e){(d(this,md)||N(this,md,new Map)).set(t,e)}};pm=new WeakMap,wA=new WeakMap,mm=new WeakMap,Wi=new WeakMap,Rr=new WeakMap,wm=new WeakMap,lo=new WeakMap,vm=new WeakMap,co=new WeakMap,Gs=new WeakMap,cd=new WeakMap,ud=new WeakMap,ym=new WeakMap,hd=new WeakMap,ec=new WeakMap,uo=new WeakMap,ug=new WeakMap,Pv=new WeakMap,jv=new WeakMap,bm=new WeakMap,Kv=new WeakMap,nc=new WeakMap,dd=new WeakMap,Bm=new WeakMap,fd=new WeakMap,ic=new WeakMap,L5=new WeakMap,gd=new WeakMap,Cm=new WeakMap,zv=new WeakMap,pd=new WeakMap,hg=new WeakMap,xm=new WeakMap,md=new WeakMap,Gv=new WeakMap,Cr=new WeakMap,zn=new WeakMap,vu=new WeakMap,wd=new WeakMap,vd=new WeakMap,Vv=new WeakMap,Em=new WeakMap,qv=new WeakMap,yd=new WeakMap,rc=new WeakMap,yu=new WeakMap,Xv=new WeakMap,Yv=new WeakMap,ho=new WeakMap,se=new WeakSet,yB=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},FS=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of d(this,Rr).values())if(n.hasTextLayer(t))return n;return null},xI=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=P(this,se,yB).call(this,t).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(d(this,ic)||N(this,ic,new _z(this)),d(this,ic).show(n,i,this.direction==="ltr"))},EI=function(){var s,A,l;const t=document.getSelection();if(!t||t.isCollapsed){d(this,vu)&&((s=d(this,ic))==null||s.hide(),N(this,vu,null),P(this,se,Aa).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,vu))return;const i=P(this,se,yB).call(this,t).closest(".textLayer");if(!i){d(this,vu)&&((A=d(this,ic))==null||A.hide(),N(this,vu,null),P(this,se,Aa).call(this,{hasSelectedText:!1}));return}if((l=d(this,ic))==null||l.hide(),N(this,vu,e),P(this,se,Aa).call(this,{hasSelectedText:!0}),!(d(this,Cr)!==Xe.HIGHLIGHT&&d(this,Cr)!==Xe.NONE)&&(d(this,Cr)===Xe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),N(this,fd,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=d(this,Cr)===Xe.HIGHLIGHT?P(this,se,FS).call(this,i):null;if(c==null||c.toggleDrawing(),d(this,Cm)){const h=new AbortController,f=this.combinedSignal(h),p=w=>{w.type==="pointerup"&&w.button!==0||(h.abort(),c==null||c.toggleDrawing(!0),w.type==="pointerup"&&P(this,se,Yw).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}else c==null||c.toggleDrawing(!0),P(this,se,Yw).call(this,"main_toolbar")}},Yw=function(t=""){d(this,Cr)===Xe.HIGHLIGHT?this.highlightSelection(t):d(this,Pv)&&P(this,se,xI).call(this)},SI=function(){document.addEventListener("selectionchange",P(this,se,EI).bind(this),{signal:this._signal})},_I=function(){if(d(this,dd))return;N(this,dd,new AbortController);const t=this.combinedSignal(d(this,dd));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},FI=function(){var t;(t=d(this,dd))==null||t.abort(),N(this,dd,null)},US=function(){if(d(this,pd))return;N(this,pd,new AbortController);const t=this.combinedSignal(d(this,pd));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},UI=function(){var t;(t=d(this,pd))==null||t.abort(),N(this,pd,null)},LS=function(){if(d(this,cd))return;N(this,cd,new AbortController);const t=this.combinedSignal(d(this,cd));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},NS=function(){var t;(t=d(this,cd))==null||t.abort(),N(this,cd,null)},LI=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Aa=function(t){Object.entries(t).some(([n,i])=>d(this,qv)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,qv),t)}),d(this,Cr)===Xe.HIGHLIGHT&&t.hasSelectedEditor===!1&&P(this,se,du).call(this,[[Bn.HIGHLIGHT_FREE,!0]]))},du=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},NI=async function(){if(!d(this,gd)){N(this,gd,!0);const t=[];for(const e of d(this,Rr).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,Wi).values())e.enable()}},TI=function(){if(this.unselectAll(),d(this,gd)){N(this,gd,!1);for(const t of d(this,Rr).values())t.disable();for(const t of d(this,Wi).values())t.disable()}},TS=function(t){const e=d(this,Rr).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},QI=function(){let t=null;for(t of d(this,zn));return t},Ww=function(){if(d(this,Wi).size===0)return!0;if(d(this,Wi).size===1)for(const t of d(this,Wi).values())return t.isEmpty();return!1},QS=function(t){for(const e of d(this,zn))e.unselect();d(this,zn).clear();for(const e of t)e.isEmpty()||(d(this,zn).add(e),e.select());P(this,se,Aa).call(this,{hasSelectedEditor:this.hasSelection})},Wt(em,"TRANSLATE_SMALL",1),Wt(em,"TRANSLATE_BIG",10);let Sp=em;var ns,sc,Jo,Sm,ac,vA,_m,Ac,za,bu,dg,oc,bd,hl,$w,bB;const oa=class oa{constructor(t){O(this,hl);O(this,ns,null);O(this,sc,!1);O(this,Jo,null);O(this,Sm,null);O(this,ac,null);O(this,vA,null);O(this,_m,!1);O(this,Ac,null);O(this,za,null);O(this,bu,null);O(this,dg,null);O(this,oc,!1);N(this,za,t),N(this,oc,t._uiManager.useNewAltTextFlow),d(oa,bd)||N(oa,bd,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){oa._l10n??(oa._l10n=t)}async render(){const t=N(this,Jo,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=N(this,Sm,document.createElement("span"));t.append(e),d(this,oc)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(oa,bd).missing),e.setAttribute("data-l10n-id",d(oa,bd)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=d(this,za)._uiManager._signal;t.addEventListener("contextmenu",Eo,{signal:n}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),d(this,za)._uiManager.editAltText(d(this,za)),d(this,oc)&&d(this,za)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,hl,$w)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(N(this,_m,!0),i(s))},{signal:n}),await P(this,hl,bB).call(this),t}finish(){d(this,Jo)&&(d(this,Jo).focus({focusVisible:d(this,_m)}),N(this,_m,!1))}isEmpty(){return d(this,oc)?d(this,ns)===null:!d(this,ns)&&!d(this,sc)}hasData(){return d(this,oc)?d(this,ns)!==null||!!d(this,bu):this.isEmpty()}get guessedText(){return d(this,bu)}async setGuessedText(t){d(this,ns)===null&&(N(this,bu,t),N(this,dg,await oa._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),P(this,hl,bB).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,oc)||d(this,ns)){(e=d(this,Ac))==null||e.remove(),N(this,Ac,null);return}if(!d(this,Ac)){const n=N(this,Ac,document.createElement("div"));n.className="noAltTextBadge",d(this,za).div.append(n)}d(this,Ac).classList.toggle("hidden",!t)}serialize(t){let e=d(this,ns);return!t&&d(this,bu)===e&&(e=d(this,dg)),{altText:e,decorative:d(this,sc),guessedText:d(this,bu),textWithDisclaimer:d(this,dg)}}get data(){return{altText:d(this,ns),decorative:d(this,sc)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(N(this,bu,n),N(this,dg,i)),!(d(this,ns)===t&&d(this,sc)===e)&&(s||(N(this,ns,t),N(this,sc,e)),P(this,hl,bB).call(this))}toggle(t=!1){d(this,Jo)&&(!t&&d(this,vA)&&(clearTimeout(d(this,vA)),N(this,vA,null)),d(this,Jo).disabled=!t)}shown(){d(this,za)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,hl,$w)}})}destroy(){var t,e;(t=d(this,Jo))==null||t.remove(),N(this,Jo,null),N(this,Sm,null),N(this,ac,null),(e=d(this,Ac))==null||e.remove(),N(this,Ac,null)}};ns=new WeakMap,sc=new WeakMap,Jo=new WeakMap,Sm=new WeakMap,ac=new WeakMap,vA=new WeakMap,_m=new WeakMap,Ac=new WeakMap,za=new WeakMap,bu=new WeakMap,dg=new WeakMap,oc=new WeakMap,bd=new WeakMap,hl=new WeakSet,$w=function(){return d(this,ns)&&"added"||d(this,ns)===null&&this.guessedText&&"review"||"missing"},bB=async function(){var i,s,A;const t=d(this,Jo);if(!t)return;if(d(this,oc)){if(t.classList.toggle("done",!!d(this,ns)),t.setAttribute("data-l10n-id",d(oa,bd)[d(this,hl,$w)]),(i=d(this,Sm))==null||i.setAttribute("data-l10n-id",d(oa,bd)[`${d(this,hl,$w)}-label`]),!d(this,ns)){(s=d(this,ac))==null||s.remove();return}}else{if(!d(this,ns)&&!d(this,sc)){t.classList.remove("done"),(A=d(this,ac))==null||A.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,ac);if(!e){N(this,ac,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,za).id}`;const l=100,c=d(this,za)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(d(this,vA)),N(this,vA,null)},{once:!0}),t.addEventListener("mouseenter",()=>{N(this,vA,setTimeout(()=>{N(this,vA,null),d(this,ac).classList.add("show"),d(this,za)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),t.addEventListener("mouseleave",()=>{var h;d(this,vA)&&(clearTimeout(d(this,vA)),N(this,vA,null)),(h=d(this,ac))==null||h.classList.remove("show")},{signal:c})}d(this,sc)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,ns)),e.parentNode||t.append(e);const n=d(this,za).getElementForAltText();n==null||n.setAttribute("aria-describedby",e.id)},O(oa,bd,null),Wt(oa,"_l10n",null);let g5=oa;var ws,fo,fg,wi,Wv,gg,Zo,pg,mg,wg,$v,IS;class Z2{constructor(t){O(this,$v);O(this,ws,null);O(this,fo,null);O(this,fg,!1);O(this,wi,null);O(this,Wv,null);O(this,gg,null);O(this,Zo,null);O(this,pg,null);O(this,mg,!1);O(this,wg,null);N(this,wi,t)}renderForToolbar(){const t=N(this,fo,document.createElement("button"));return t.className="comment",P(this,$v,IS).call(this,t,!1)}renderForStandalone(){const t=N(this,ws,document.createElement("button"));t.className="annotationCommentButton";const e=d(this,wi).commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(d(this,wi)._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const i=d(this,wi).commentButtonColor;i&&(n.backgroundColor=i)}return P(this,$v,IS).call(this,t,!0)}focusButton(){setTimeout(()=>{var t;(t=d(this,ws)??d(this,fo))==null||t.focus()},0)}onUpdatedColor(){if(!d(this,ws))return;const t=d(this,wi).commentButtonColor;t&&(d(this,ws).style.backgroundColor=t),d(this,wi)._uiManager.updatePopupColor(d(this,wi))}get commentButtonWidth(){var t;return(((t=d(this,ws))==null?void 0:t.getBoundingClientRect().width)??0)/d(this,wi).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(d(this,wg))return d(this,wg);if(!d(this,ws))return null;const{x:t,y:e,height:n}=d(this,ws).getBoundingClientRect(),{x:i,y:s,width:A,height:l}=d(this,wi).parent.boundingClientRect;return[(t-i)/A,(e+n-s)/l]}set commentPopupPositionInLayer(t){N(this,wg,t)}hasDefaultPopupPosition(){return d(this,wg)===null}removeStandaloneCommentButton(){var t;(t=d(this,ws))==null||t.remove(),N(this,ws,null)}removeToolbarCommentButton(){var t;(t=d(this,fo))==null||t.remove(),N(this,fo,null)}setCommentButtonStates({selected:t,hasPopup:e}){d(this,ws)&&(d(this,ws).classList.toggle("selected",t),d(this,ws).ariaExpanded=e)}edit(t){const e=this.commentPopupPositionInLayer;let n,i;if(e)[n,i]=e;else{[n,i]=d(this,wi).commentButtonPosition;const{width:f,height:p,x:w,y:v}=d(this,wi);n=w+n*f,i=v+i*p}const s=d(this,wi).parent.boundingClientRect,{x:A,y:l,width:c,height:h}=s;d(this,wi)._uiManager.editComment(d(this,wi),A+n*c,l+i*h,{...t,parentDimensions:s})}finish(){d(this,fo)&&(d(this,fo).focus({focusVisible:d(this,fg)}),N(this,fg,!1))}isDeleted(){return d(this,mg)||d(this,Zo)===""}isEmpty(){return d(this,Zo)===null}hasBeenEdited(){return this.isDeleted()||d(this,Zo)!==d(this,Wv)}serialize(){return this.data}get data(){return{text:d(this,Zo),richText:d(this,gg),date:d(this,pg),deleted:this.isDeleted()}}set data(t){if(t!==d(this,Zo)&&N(this,gg,null),t===null){N(this,Zo,""),N(this,mg,!0);return}N(this,Zo,t),N(this,pg,new Date),N(this,mg,!1)}setInitialText(t,e=null){N(this,Wv,t),this.data=t,N(this,pg,null),N(this,gg,e)}shown(){}destroy(){var t,e;(t=d(this,fo))==null||t.remove(),N(this,fo,null),(e=d(this,ws))==null||e.remove(),N(this,ws,null),N(this,Zo,""),N(this,gg,null),N(this,pg,null),N(this,wi,null),N(this,fg,!1),N(this,mg,!1)}}ws=new WeakMap,fo=new WeakMap,fg=new WeakMap,wi=new WeakMap,Wv=new WeakMap,gg=new WeakMap,Zo=new WeakMap,pg=new WeakMap,mg=new WeakMap,wg=new WeakMap,$v=new WeakSet,IS=function(t,e){if(!d(this,wi)._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[d(this,wi)._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=d(this,wi)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",Eo,{signal:n}),e&&(t.addEventListener("focusin",s=>{d(this,wi)._focusEventsAllowed=!1,er(s)},{capture:!0,signal:n}),t.addEventListener("focusout",s=>{d(this,wi)._focusEventsAllowed=!0,er(s)},{capture:!0,signal:n})),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),t===d(this,fo)?this.edit():d(this,wi).toggleComment(!0)};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(N(this,fg,!0),i(s))},{signal:n}),t.addEventListener("pointerenter",()=>{d(this,wi).toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{d(this,wi).toggleComment(!1,!1)},{signal:n}),t};var Fm,vg,Jv,Zv,ty,ey,ny,Bu,yg,Cu,bg,xu,df,II,DI,kI;const L4=class L4{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:A=null,signal:l}){O(this,df);O(this,Fm);O(this,vg,!1);O(this,Jv,null);O(this,Zv);O(this,ty);O(this,ey);O(this,ny);O(this,Bu,null);O(this,yg);O(this,Cu,null);O(this,bg);O(this,xu,null);N(this,Fm,t),N(this,Jv,n),N(this,Zv,e),N(this,ty,i),N(this,ey,s),N(this,ny,A),N(this,bg,new AbortController),N(this,yg,AbortSignal.any([l,d(this,bg).signal])),t.addEventListener("touchstart",P(this,df,II).bind(this),{passive:!1,signal:d(this,yg)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Sc.pixelRatio}destroy(){var t,e;(t=d(this,bg))==null||t.abort(),N(this,bg,null),(e=d(this,Bu))==null||e.abort(),N(this,Bu,null)}};Fm=new WeakMap,vg=new WeakMap,Jv=new WeakMap,Zv=new WeakMap,ty=new WeakMap,ey=new WeakMap,ny=new WeakMap,Bu=new WeakMap,yg=new WeakMap,Cu=new WeakMap,bg=new WeakMap,xu=new WeakMap,df=new WeakSet,II=function(t){var i,s,A;if((i=d(this,Zv))!=null&&i.call(this))return;if(t.touches.length===1){if(d(this,Bu))return;const l=N(this,Bu,new AbortController),c=AbortSignal.any([d(this,yg),l.signal]),h=d(this,Fm),f={capture:!0,signal:c,passive:!1},p=w=>{var v;w.pointerType==="touch"&&((v=d(this,Bu))==null||v.abort(),N(this,Bu,null))};h.addEventListener("pointerdown",w=>{w.pointerType==="touch"&&(er(w),p(w))},f),h.addEventListener("pointerup",p,f),h.addEventListener("pointercancel",p,f);return}if(!d(this,xu)){N(this,xu,new AbortController);const l=AbortSignal.any([d(this,yg),d(this,xu).signal]),c=d(this,Fm),h={signal:l,capture:!1,passive:!1};c.addEventListener("touchmove",P(this,df,DI).bind(this),h);const f=P(this,df,kI).bind(this);c.addEventListener("touchend",f,h),c.addEventListener("touchcancel",f,h),h.capture=!0,c.addEventListener("pointerdown",er,h),c.addEventListener("pointermove",er,h),c.addEventListener("pointercancel",er,h),c.addEventListener("pointerup",er,h),(s=d(this,ty))==null||s.call(this)}if(er(t),t.touches.length!==2||(A=d(this,Jv))!=null&&A.call(this)){N(this,Cu,null);return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),N(this,Cu,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY})},DI=function(t){var k;if(!d(this,Cu)||t.touches.length!==2)return;er(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:i,screenY:s}=e,{screenX:A,screenY:l}=n,c=d(this,Cu),{touch0X:h,touch0Y:f,touch1X:p,touch1Y:w}=c,v=p-h,x=w-f,B=A-i,F=l-s,S=Math.hypot(B,F)||1,L=Math.hypot(v,x)||1;if(!d(this,vg)&&Math.abs(L-S)<=L4.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=s,c.touch1X=A,c.touch1Y=l,!d(this,vg)){N(this,vg,!0);return}const T=[(i+A)/2,(s+l)/2];(k=d(this,ey))==null||k.call(this,T,L,S)},kI=function(t){var e;t.touches.length>=2||(d(this,xu)&&(d(this,xu).abort(),N(this,xu,null),(e=d(this,ny))==null||e.call(this)),d(this,Cu)&&(er(t),N(this,Cu,null),N(this,vg,!1)))};let p5=L4;var Bg,tl,ki,Ai,Eu,Um,Bd,iy,vs,Cg,Su,lc,Cd,ry,xg,yA,sy,Eg,_u,cc,Lm,Nm,go,Sg,ay,N5,Qe,DS,Ay,kS,BB,OI,RI,OS,CB,RS,MI,HI,PI,MS,jI,HS,KI,zI,GI,PS,Jw;const qe=class qe{constructor(t){O(this,Qe);O(this,Bg,null);O(this,tl,null);O(this,ki,null);O(this,Ai,null);O(this,Eu,null);O(this,Um,!1);O(this,Bd,null);O(this,iy,"");O(this,vs,null);O(this,Cg,null);O(this,Su,null);O(this,lc,null);O(this,Cd,null);O(this,ry,"");O(this,xg,!1);O(this,yA,null);O(this,sy,!1);O(this,Eg,!1);O(this,_u,!1);O(this,cc,null);O(this,Lm,0);O(this,Nm,0);O(this,go,null);O(this,Sg,null);Wt(this,"isSelected",!1);Wt(this,"_isCopy",!1);Wt(this,"_editToolbar",null);Wt(this,"_initialOptions",Object.create(null));Wt(this,"_initialData",null);Wt(this,"_isVisible",!0);Wt(this,"_uiManager",null);Wt(this,"_focusEventsAllowed",!0);O(this,ay,!1);O(this,N5,qe._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:A}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,A];const[l,c]=this.parentDimensions;this.x=t.x/l,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=qe.prototype._resizeWithKeyboard,e=Sp.TRANSLATE_SMALL,n=Sp.TRANSLATE_BIG;return nn(this,"_resizerKeyboardManager",new Cb([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],qe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return nn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Lz({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(qe._l10n??(qe._l10n=t),qe._l10nResizer||(qe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),qe._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);qe._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ui("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,ay)}set _isDraggable(t){var e;N(this,ay,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,N5)}setParent(t){var e;t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(P(this,Qe,Jw).call(this),(e=d(this,lc))==null||e.remove(),N(this,lc,null)),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,xg)?N(this,xg,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[s,A]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/s,this.y=(e+i)/A,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i),this._onTranslated()}translate(t,e){P(this,Qe,DS).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,yA)||N(this,yA,[this.x,this.y,this.width,this.height]),P(this,Qe,DS).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){d(this,yA)||N(this,yA,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=t/i,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:w}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,w)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:A,y:l}=this;const[c,h]=this.getBaseTranslation();A+=c,l+=h;const{style:f}=n;f.left=`${(100*A).toFixed(2)}%`,f.top=`${(100*l).toFixed(2)}%`,this._onTranslating(A,l),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!d(this,yA)&&(d(this,yA)[0]!==this.x||d(this,yA)[1]!==this.y)}get _hasBeenResized(){return!!d(this,yA)&&(d(this,yA)[2]!==this.width||d(this,yA)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=qe,i=n/t,s=n/e;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,i]}=this;let{x:s,y:A,width:l,height:c}=this;if(l*=n,c*=i,s*=n,A*=i,this._mustFixPosition)switch(t){case 0:s=fa(s,0,n-l),A=fa(A,0,i-c);break;case 90:s=fa(s,0,n-c),A=fa(A,l,i);break;case 180:s=fa(s,l,n),A=fa(A,c,i);break;case 270:s=fa(s,c,n),A=fa(A,0,i-l);break}this.x=s/=n,this.y=A/=i;const[h,f]=this.getBaseTranslation();s+=h,A+=f,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*A).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return P(n=qe,Ay,kS).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return P(n=qe,Ay,kS).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=d(this,ki))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||d(this,Eg))return this._editToolbar;this._editToolbar=new xS(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var t;(t=this._editToolbar)==null||t.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var t;(t=this._editToolbar)==null||t.removeButton("comment")}removeEditToolbar(){var t,e;(t=this._editToolbar)==null||t.remove(),this._editToolbar=null,(e=d(this,ki))==null||e.destroy()}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return d(this,ki)||(g5.initialize(qe._l10n),N(this,ki,new g5(this)),d(this,Bg)&&(d(this,ki).data=d(this,Bg),N(this,Bg,null))),d(this,ki)}get altTextData(){var t;return(t=d(this,ki))==null?void 0:t.data}set altTextData(t){d(this,ki)&&(d(this,ki).data=t)}get guessedAltText(){var t;return(t=d(this,ki))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,ki))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,ki))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,ki)&&!d(this,ki).isEmpty()}hasAltTextData(){var t;return((t=d(this,ki))==null?void 0:t.hasData())??!1}focusCommentButton(){var t;(t=d(this,Ai))==null||t.focusButton()}addCommentButton(){return d(this,Ai)||N(this,Ai,new Z2(this))}addStandaloneCommentButton(){if(d(this,Eu)){this._uiManager.isEditingMode()&&d(this,Eu).classList.remove("hidden");return}this.hasComment&&(N(this,Eu,d(this,Ai).renderForStandalone()),this.div.append(d(this,Eu)))}removeStandaloneCommentButton(){d(this,Ai).removeStandaloneCommentButton(),N(this,Eu,null)}hideStandaloneCommentButton(){var t;(t=d(this,Eu))==null||t.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:i}}=d(this,Ai);return{text:e,richText:t,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){d(this,Ai)||N(this,Ai,new Z2(this)),d(this,Ai).data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(d(this,Ai)||N(this,Ai,new Z2(this)),d(this,Ai).setInitialText(t,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var t;return(t=d(this,Ai))==null?void 0:t.hasBeenEdited()}get hasDeletedComment(){var t;return(t=d(this,Ai))==null?void 0:t.isDeleted()}get hasComment(){return!!d(this,Ai)&&!d(this,Ai).isEmpty()&&!d(this,Ai).isDeleted()}async editComment(t){d(this,Ai)||N(this,Ai,new Z2(this)),d(this,Ai).edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){d(this,Ai).setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,i]=t.rect,[s]=this.pageDimensions,[A]=this.pageTranslation,l=A+s+1,c=i-100,h=l+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,h,i]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){d(this,Ai).data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var A;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=d(this,Um)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),P(this,Qe,HS).call(this);const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),BI(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(d(this,Sg)||N(this,Sg,new p5({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:P(this,Qe,MI).bind(this),onPinching:P(this,Qe,HI).bind(this),onPinchEnd:P(this,Qe,PI).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(A=this._uiManager._editorUndoBar)==null||A.hide(),t}pointerdown(t){const{isMac:e}=Fs.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(N(this,xg,!0),this._isDraggable){P(this,Qe,jI).call(this,t);return}P(this,Qe,MS).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){d(this,cc)&&clearTimeout(d(this,cc)),N(this,cc,setTimeout(()=>{var t;N(this,cc,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const i=this.parentScale,[s,A]=this.pageDimensions,[l,c]=this.pageTranslation,h=t/i,f=e/i,p=this.x*s,w=this.y*A,v=this.width*s,x=this.height*A;switch(n){case 0:return[p+h+l,A-w-f-x+c,p+h+v+l,A-w-f+c];case 90:return[p+f+l,A-w+h+c,p+f+x+l,A-w+h+v+c];case 180:return[p-h-v+l,A-w+f+c,p-h+l,A-w+f+x+c];case 270:return[p-f-x+l,A-w-h-v+c,p-f+l,A-w-h+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,s,A]=t,l=s-n,c=A-i;switch(this.rotation){case 0:return[n,e-A,l,c];case 90:return[n,e-i,c,l];case 180:return[s,e-i,l,c];case 270:return[s,e-A,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&qe._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var t;(t=d(this,Ai))==null||t.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:i,deleted:s,richText:A},uid:l,pageIndex:c,creationDate:h,modificationDate:f}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:A,contentsObj:{str:t},creationDate:h,modificationDate:n||f,popupRef:!s,color:e,opacity:i}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),N(this,Eg,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),N(this,Eg,!1),!0):!1}isInEditMode(){return d(this,Eg)}shouldGetKeyboardEvents(){return d(this,_u)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:A}=window;return e<A&&i>0&&t<s&&n>0}rebuild(){P(this,Qe,HS).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});i.rotation=t.rotation,N(i,Bg,t.accessibilityData),i._isCopy=t.isCopy||!1;const[s,A]=i.pageDimensions,[l,c,h,f]=i.getRectInCurrentCoords(t.rect,A);return i.x=l/s,i.y=c/A,i.width=h/s,i.height=f/A,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=d(this,Cd))==null||t.abort(),N(this,Cd,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,cc)&&(clearTimeout(d(this,cc)),N(this,cc,null)),P(this,Qe,Jw).call(this),this.removeEditToolbar(),d(this,go)){for(const n of d(this,go).values())clearTimeout(n);N(this,go,null)}this.parent=null,(e=d(this,Sg))==null||e.destroy(),N(this,Sg,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(P(this,Qe,OI).call(this),d(this,vs).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,i,s,A]=this.getPDFRect();return[qe._round(n+(s-n)*t),qe._round(i+(A-i)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return d(this,Ai).commentPopupPositionInLayer}set commentPopupPosition(t){d(this,Ai).commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return d(this,Ai).hasDefaultPopupPosition()}get commentButtonWidth(){return d(this,Ai).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){d(this,Ai).setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),N(this,Su,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,vs).children;if(!d(this,tl)){N(this,tl,Array.from(e));const A=P(this,Qe,KI).bind(this),l=P(this,Qe,zI).bind(this),c=this._uiManager._signal;for(const h of d(this,tl)){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",A,{signal:c}),h.addEventListener("blur",l,{signal:c}),h.addEventListener("focus",P(this,Qe,GI).bind(this,f),{signal:c}),h.setAttribute("data-l10n-id",qe._l10nResizer[f])}}const n=d(this,tl)[0];let i=0;for(const A of e){if(A===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(d(this,tl).length/4);if(s!==i){if(s<i)for(let l=0;l<i-s;l++)d(this,vs).append(d(this,vs).firstChild);else if(s>i)for(let l=0;l<s-i;l++)d(this,vs).firstChild.before(d(this,vs).lastChild);let A=0;for(const l of e){const h=d(this,tl)[A++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",qe._l10nResizer[h])}}P(this,Qe,PS).call(this,0),N(this,_u,!0),d(this,vs).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,_u)&&P(this,Qe,RS).call(this,d(this,ry),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){P(this,Qe,Jw).call(this),this.div.focus()}select(){var t,e,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(e=this._editToolbar)==null||e.show(),(n=d(this,ki))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var t;return(t=this.div)==null?void 0:t.focus({preventScroll:!0})},0)}unselect(){var t,e,n,i,s;this.isSelected&&(this.isSelected=!1,(t=d(this,vs))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=d(this,ki))==null||s.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return d(this,sy)}set isEditing(t){N(this,sy,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,go)||N(this,go,new Map);const{action:n}=t;let i=d(this,go).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),d(this,go).delete(n),d(this,go).size===0&&N(this,go,null)},qe._telemetryTimeout),d(this,go).set(n,i);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),N(this,Um,!1)}disable(){this.div&&(this.div.tabIndex=-1),N(this,Um,!0)}updateFakeAnnotationElement(t){if(!d(this,lc)&&!this.deleted){N(this,lc,t.addFakeAnnotation(this));return}if(this.deleted){d(this,lc).remove(),N(this,lc,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&d(this,lc).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Bg=new WeakMap,tl=new WeakMap,ki=new WeakMap,Ai=new WeakMap,Eu=new WeakMap,Um=new WeakMap,Bd=new WeakMap,iy=new WeakMap,vs=new WeakMap,Cg=new WeakMap,Su=new WeakMap,lc=new WeakMap,Cd=new WeakMap,ry=new WeakMap,xg=new WeakMap,yA=new WeakMap,sy=new WeakMap,Eg=new WeakMap,_u=new WeakMap,cc=new WeakMap,Lm=new WeakMap,Nm=new WeakMap,go=new WeakMap,Sg=new WeakMap,ay=new WeakMap,N5=new WeakMap,Qe=new WeakSet,DS=function([t,e],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/t,this.y+=i/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Ay=new WeakSet,kS=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},BB=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},OI=function(){if(d(this,vs))return;N(this,vs,document.createElement("div")),d(this,vs).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const i=document.createElement("div");d(this,vs).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",P(this,Qe,RI).bind(this,n),{signal:e}),i.addEventListener("contextmenu",Eo,{signal:e}),i.tabIndex=-1}this.div.prepend(d(this,vs))},RI=function(t,e){var f;e.preventDefault();const{isMac:n}=Fs.platform;if(e.button!==0||e.ctrlKey&&n)return;(f=d(this,ki))==null||f.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,N(this,Cg,[e.screenX,e.screenY]);const s=new AbortController,A=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",P(this,Qe,RS).bind(this,t),{passive:!0,capture:!0,signal:A}),window.addEventListener("touchmove",er,{passive:!1,signal:A}),window.addEventListener("contextmenu",Eo,{signal:A}),N(this,Su,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const h=()=>{var p;s.abort(),this.parent.togglePointerEvents(!0),(p=d(this,ki))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=l,this.div.style.cursor=c,P(this,Qe,CB).call(this)};window.addEventListener("pointerup",h,{signal:A}),window.addEventListener("blur",h,{signal:A})},OS=function(t,e,n,i){this.width=n,this.height=i,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()},CB=function(){if(!d(this,Su))return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=d(this,Su);N(this,Su,null);const s=this.x,A=this.y,l=this.width,c=this.height;s===t&&A===e&&l===n&&c===i||this.addCommands({cmd:P(this,Qe,OS).bind(this,s,A,l,c),undo:P(this,Qe,OS).bind(this,t,e,n,i),mustExec:!0})},RS=function(t,e){const[n,i]=this.parentDimensions,s=this.x,A=this.y,l=this.width,c=this.height,h=qe.MIN_SIZE/n,f=qe.MIN_SIZE/i,p=P(this,Qe,BB).call(this,this.rotation),w=(q,rt)=>[p[0]*q+p[2]*rt,p[1]*q+p[3]*rt],v=P(this,Qe,BB).call(this,360-this.rotation),x=(q,rt)=>[v[0]*q+v[2]*rt,v[1]*q+v[3]*rt];let B,F,S=!1,L=!1;switch(t){case"topLeft":S=!0,B=(q,rt)=>[0,0],F=(q,rt)=>[q,rt];break;case"topMiddle":B=(q,rt)=>[q/2,0],F=(q,rt)=>[q/2,rt];break;case"topRight":S=!0,B=(q,rt)=>[q,0],F=(q,rt)=>[0,rt];break;case"middleRight":L=!0,B=(q,rt)=>[q,rt/2],F=(q,rt)=>[0,rt/2];break;case"bottomRight":S=!0,B=(q,rt)=>[q,rt],F=(q,rt)=>[0,0];break;case"bottomMiddle":B=(q,rt)=>[q/2,rt],F=(q,rt)=>[q/2,0];break;case"bottomLeft":S=!0,B=(q,rt)=>[0,rt],F=(q,rt)=>[q,0];break;case"middleLeft":L=!0,B=(q,rt)=>[0,rt/2],F=(q,rt)=>[q,rt/2];break}const T=B(l,c),k=F(l,c);let R=w(...k);const M=qe._round(s+R[0]),j=qe._round(A+R[1]);let V=1,et=1,ut,H;if(e.fromKeyboard)({deltaX:ut,deltaY:H}=e);else{const{screenX:q,screenY:rt}=e,[lt,yt]=d(this,Cg);[ut,H]=this.screenToPageTranslation(q-lt,rt-yt),d(this,Cg)[0]=q,d(this,Cg)[1]=rt}if([ut,H]=x(ut/n,H/i),S){const q=Math.hypot(l,c);V=et=Math.max(Math.min(Math.hypot(k[0]-T[0]-ut,k[1]-T[1]-H)/q,1/l,1/c),h/l,f/c)}else L?V=fa(Math.abs(k[0]-T[0]-ut),h,1)/l:et=fa(Math.abs(k[1]-T[1]-H),f,1)/c;const G=qe._round(l*V),tt=qe._round(c*et);R=w(...F(G,tt));const it=M-R[0],mt=j-R[1];d(this,yA)||N(this,yA,[this.x,this.y,this.width,this.height]),this.width=G,this.height=tt,this.x=it,this.y=mt,this.setDims(),this.fixAndSetPosition(),this._onResizing()},MI=function(){var t;N(this,Su,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=d(this,ki))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},HI=function(t,e,n){let s=.7*(n/e)+1-.7;if(s===1)return;const A=P(this,Qe,BB).call(this,this.rotation),l=(M,j)=>[A[0]*M+A[2]*j,A[1]*M+A[3]*j],[c,h]=this.parentDimensions,f=this.x,p=this.y,w=this.width,v=this.height,x=qe.MIN_SIZE/c,B=qe.MIN_SIZE/h;s=Math.max(Math.min(s,1/w,1/v),x/w,B/v);const F=qe._round(w*s),S=qe._round(v*s);if(F===w&&S===v)return;d(this,yA)||N(this,yA,[f,p,w,v]);const L=l(w/2,v/2),T=qe._round(f+L[0]),k=qe._round(p+L[1]),R=l(F/2,S/2);this.x=T-R[0],this.y=k-R[1],this.width=F,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()},PI=function(){var t;(t=d(this,ki))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),P(this,Qe,CB).call(this)},MS=function(t){const{isMac:e}=Fs.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},jI=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),A={capture:!0,passive:!1,signal:s},l=h=>{i.abort(),N(this,Bd,null),N(this,xg,!1),this._uiManager.endDragSession()||P(this,Qe,MS).call(this,h),n&&this._onStopDragging()};e&&(N(this,Lm,t.clientX),N(this,Nm,t.clientY),N(this,Bd,t.pointerId),N(this,iy,t.pointerType),window.addEventListener("pointermove",h=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:w}=h;if(w!==d(this,Bd)){er(h);return}const[v,x]=this.screenToPageTranslation(f-d(this,Lm),p-d(this,Nm));N(this,Lm,f),N(this,Nm,p),this._uiManager.dragSelectedEditors(v,x)},A),window.addEventListener("touchmove",er,A),window.addEventListener("pointerdown",h=>{h.pointerType===d(this,iy)&&(d(this,Sg)||h.isPrimary)&&l(h),er(h)},A));const c=h=>{if(!d(this,Bd)||d(this,Bd)===h.pointerId){l(h);return}er(h)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},HS=function(){if(d(this,Cd)||!this.div)return;N(this,Cd,new AbortController);const t=this._uiManager.combinedSignal(d(this,Cd));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},KI=function(t){qe._resizerKeyboardManager.exec(this,t)},zI=function(t){var e;d(this,_u)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,vs)&&P(this,Qe,Jw).call(this)},GI=function(t){N(this,ry,d(this,_u)?t:"")},PS=function(t){if(d(this,tl))for(const e of d(this,tl))e.tabIndex=t},Jw=function(){N(this,_u,!1),P(this,Qe,PS).call(this,-1),P(this,Qe,CB).call(this)},O(qe,Ay),Wt(qe,"_l10n",null),Wt(qe,"_l10nResizer",null),Wt(qe,"_borderLineWidth",-1),Wt(qe,"_colorManager",new _S),Wt(qe,"_zIndex",1),Wt(qe,"_telemetryTimeout",1e3);let yi=qe;class Lz extends yi{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const hN=3285377520,ro=4294901760,Jl=65535;class VI{constructor(t){this.h1=t?t&4294967295:hN,this.h2=t?t&4294967295:hN}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let B=0,F=t.length;B<F;B++){const S=t.charCodeAt(B);S<=255?e[n++]=S:(e[n++]=S>>>8,e[n++]=S&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,A=new Uint32Array(e.buffer,0,i);let l=0,c=0,h=this.h1,f=this.h2;const p=3432918353,w=461845907,v=p&Jl,x=w&Jl;for(let B=0;B<i;B++)B&1?(l=A[B],l=l*p&ro|l*v&Jl,l=l<<15|l>>>17,l=l*w&ro|l*x&Jl,h^=l,h=h<<13|h>>>19,h=h*5+3864292196):(c=A[B],c=c*p&ro|c*v&Jl,c=c<<15|c>>>17,c=c*w&ro|c*x&Jl,f^=c,f=f<<13|f>>>19,f=f*5+3864292196);switch(l=0,s){case 3:l^=e[i*4+2]<<16;case 2:l^=e[i*4+1]<<8;case 1:l^=e[i*4],l=l*p&ro|l*v&Jl,l=l<<15|l>>>17,l=l*w&ro|l*x&Jl,i&1?h^=l:f^=l}this.h1=h,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ro|t*36045&Jl,e=e*4283543511&ro|((e<<16|t>>>16)*2950163797&ro)>>>16,t^=e>>>1,t=t*444984403&ro|t*60499&Jl,e=e*3301882366&ro|((e<<16|t>>>16)*3120437893&ro)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const jS=Object.freeze({map:null,hash:"",transfer:void 0});var _g,Fg,Fu,ys,T5,qI;class b4{constructor(){O(this,T5);O(this,_g,!1);O(this,Fg,null);O(this,Fu,null);O(this,ys,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=d(this,ys).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return d(this,ys).get(t)}remove(t){const e=d(this,ys).get(t);if(e!==void 0&&(e instanceof yi&&d(this,Fu).delete(e.annotationElementId),d(this,ys).delete(t),d(this,ys).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of d(this,ys).values())if(n instanceof yi)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=d(this,ys).get(t);let i=!1;if(n!==void 0)for(const[s,A]of Object.entries(e))n[s]!==A&&(i=!0,n[s]=A);else i=!0,d(this,ys).set(t,e);i&&P(this,T5,qI).call(this),e instanceof yi&&((d(this,Fu)||N(this,Fu,new Map)).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return d(this,ys).has(t)}get size(){return d(this,ys).size}resetModified(){d(this,_g)&&(N(this,_g,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new XI(this)}get serializable(){if(d(this,ys).size===0)return jS;const t=new Map,e=new VI,n=[],i=Object.create(null);let s=!1;for(const[A,l]of d(this,ys)){const c=l instanceof yi?l.serialize(!1,i):l;c&&(t.set(A,c),e.update(`${A}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const A of t.values())A.bitmap&&n.push(A.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:jS}get editorStats(){let t=null;const e=new Map;let n=0,i=0;for(const s of d(this,ys).values()){if(!(s instanceof yi)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const A=s.telemetryFinalData;if(!A)continue;const{type:l}=A;e.has(l)||e.set(l,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=t[l]||(t[l]=new Map);for(const[h,f]of Object.entries(A)){if(h==="type")continue;let p=c.get(h);p||(p=new Map,c.set(h,p));const w=p.get(f)??0;p.set(f,w+1)}}if((i>0||n>0)&&(t||(t=Object.create(null)),t.comments={deleted:i,edited:n}),!t)return null;for(const[s,A]of e)t[s]=A.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){N(this,Fg,null)}updateEditor(t,e){var i;const n=(i=d(this,Fu))==null?void 0:i.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){var e;return((e=d(this,Fu))==null?void 0:e.get(t))||null}get modifiedIds(){if(d(this,Fg))return d(this,Fg);const t=[];if(d(this,Fu))for(const e of d(this,Fu).values())e.serialize()&&t.push(e.annotationElementId);return N(this,Fg,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return d(this,ys).entries()}}_g=new WeakMap,Fg=new WeakMap,Fu=new WeakMap,ys=new WeakMap,T5=new WeakSet,qI=function(){d(this,_g)||(N(this,_g,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var oy;class XI extends b4{constructor(e){super();O(this,oy);const{map:n,hash:i,transfer:s}=e.serializable,A=structuredClone(n,s?{transfer:s}:null);N(this,oy,{map:A,hash:i,transfer:s})}get print(){ui("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,oy)}get modifiedIds(){return nn(this,"modifiedIds",{ids:new Set,hash:""})}}oy=new WeakMap;var Tm;class Nz{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){O(this,Tm,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,Tm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||d(this,Tm).has(t.loadedName))){if(Cn(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:A}=t,l=new FontFace(i,s,A);this.addNativeFontFace(l);try{await l.load(),d(this,Tm).add(i),n==null||n(t)}catch{Ge(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}ui("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Ge(`Failed to load font '${n.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return nn(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return nn(this,"isSyncFontLoadingSupported",da||Fs.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Cn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:e,callback:t};return n.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return nn(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(k,R){return k.charCodeAt(R)<<24|k.charCodeAt(R+1)<<16|k.charCodeAt(R+2)<<8|k.charCodeAt(R+3)&255}function i(k,R,M,j){const V=k.substring(0,R),et=k.substring(R+M);return V+j+et}let s,A;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let h=0;function f(k,R){if(++h>30){Ge("Load test font never loaded."),R();return}if(c.font="30px "+k,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(f.bind(null,k,R))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=i(w,976,p.length,p);const x=16,B=1482184792;let F=n(w,x);for(s=0,A=p.length-3;s<A;s+=4)F=F-B+n(p,s)|0;s<p.length&&(F=F-B+n(p+"XXX",s)|0),w=i(w,x,4,uz(F));const S=`url(data:font/opentype;base64,${btoa(w)});`,L=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(L);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const k of[t.loadedName,p]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=k,T.append(R)}this._document.body.append(T),f(p,()=>{T.remove(),e.complete()})}}Tm=new WeakMap;var Wn;class Tz{constructor(t,e=null,n,i){O(this,Wn);this.compiledGlyphs=Object.create(null),N(this,Wn,t),this._inspectFont=e,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${fI(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let i;try{i=t.get(n)}catch(A){Ge(`getPathGenerator - ignoring character: "${A}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=s}get black(){return d(this,Wn).black}get bold(){return d(this,Wn).bold}get disableFontFace(){return d(this,Wn).disableFontFace??!1}get fontExtraProperties(){return d(this,Wn).fontExtraProperties??!1}get isInvalidPDFjsFont(){return d(this,Wn).isInvalidPDFjsFont}get isType3Font(){return d(this,Wn).isType3Font}get italic(){return d(this,Wn).italic}get missingFile(){return d(this,Wn).missingFile}get remeasure(){return d(this,Wn).remeasure}get vertical(){return d(this,Wn).vertical}get ascent(){return d(this,Wn).ascent}get defaultWidth(){return d(this,Wn).defaultWidth}get descent(){return d(this,Wn).descent}get bbox(){return d(this,Wn).bbox}get fontMatrix(){return d(this,Wn).fontMatrix}get fallbackName(){return d(this,Wn).fallbackName}get loadedName(){return d(this,Wn).loadedName}get mimetype(){return d(this,Wn).mimetype}get name(){return d(this,Wn).name}get data(){return d(this,Wn).data}clearData(){d(this,Wn).clearData()}get cssFontInfo(){return d(this,Wn).cssFontInfo}get systemFontInfo(){return d(this,Wn).systemFontInfo}get defaultVMetrics(){return d(this,Wn).defaultVMetrics}}Wn=new WeakMap;function Qz(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(da)return r;const t=URL.parse(r,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Iz(r){if(da&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return vb(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function tB(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const KS=r=>typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0,Dz=r=>typeof r=="object"&&typeof(r==null?void 0:r.name)=="string",kz=pz.bind(null,KS,Dz);var Uu,Q5;class Oz{constructor(){O(this,Uu,new Map);O(this,Q5,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};d(this,Q5).then(()=>{for(const[i]of d(this,Uu))i.call(this,n)})}addEventListener(t,e,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Ge("LoopbackPort - cannot use an `aborted` signal.");return}const A=()=>this.removeEventListener(t,e);i=()=>s.removeEventListener("abort",A),s.addEventListener("abort",A)}d(this,Uu).set(e,i)}removeEventListener(t,e){const n=d(this,Uu).get(e);n==null||n(),d(this,Uu).delete(e)}terminate(){for(const[,t]of d(this,Uu))t==null||t();d(this,Uu).clear()}}Uu=new WeakMap,Q5=new WeakMap;const eB={DATA:1,ERROR:2},br={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function dN(){}function ja(r){if(r instanceof uf||r instanceof yS||r instanceof sN||r instanceof d5||r instanceof vE)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||ui('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new uf(r.message);case"InvalidPDFException":return new yS(r.message);case"PasswordException":return new sN(r.message,r.code);case"ResponseException":return new d5(r.message,r.status,r.missing);case"UnknownErrorException":return new vE(r.message,r.details)}return new vE(r.message,r.toString())}var Qm,xo,YI,WI,$I,xB;class Zw{constructor(t,e,n){O(this,xo);O(this,Qm,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",P(this,xo,YI).bind(this),{signal:d(this,Qm).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(A){s.reject(A)}return s.promise}sendWithStream(t,e,n,i){const s=this.streamId++,A=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:A,targetName:l,action:t,streamId:s,data:e,desiredSize:h.desiredSize},i),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,c.postMessage({sourceName:A,targetName:l,stream:br.PULL,streamId:s,desiredSize:h.desiredSize}),f.promise},cancel:h=>{Cn(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:A,targetName:l,stream:br.CANCEL,streamId:s,reason:ja(h)}),f.promise}},n)}destroy(){var t;(t=d(this,Qm))==null||t.abort(),N(this,Qm,null)}}Qm=new WeakMap,xo=new WeakSet,YI=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){P(this,xo,$I).call(this,t);return}if(t.callback){const n=t.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===eB.DATA)i.resolve(t.data);else if(t.callback===eB.ERROR)i.reject(ja(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,i=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(A){s.postMessage({sourceName:n,targetName:i,callback:eB.DATA,callbackId:t.callbackId,data:A})},function(A){s.postMessage({sourceName:n,targetName:i,callback:eB.ERROR,callbackId:t.callbackId,reason:ja(A)})});return}if(t.streamId){P(this,xo,WI).call(this,t);return}e(t.data)},WI=function(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,s=this.comObj,A=this,l=this.actionHandler[t.action],c={enqueue(h,f=1,p){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=f,w>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:br.ENQUEUE,streamId:e,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:br.CLOSE,streamId:e}),delete A.streamSinks[e])},error(h){Cn(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:br.ERROR,streamId:e,reason:ja(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[e]=c,Promise.try(l,t.data,c).then(function(){s.postMessage({sourceName:n,targetName:i,stream:br.START_COMPLETE,streamId:e,success:!0})},function(h){s.postMessage({sourceName:n,targetName:i,stream:br.START_COMPLETE,streamId:e,reason:ja(h)})})},$I=function(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,s=this.comObj,A=this.streamControllers[e],l=this.streamSinks[e];switch(t.stream){case br.START_COMPLETE:t.success?A.startCall.resolve():A.startCall.reject(ja(t.reason));break;case br.PULL_COMPLETE:t.success?A.pullCall.resolve():A.pullCall.reject(ja(t.reason));break;case br.PULL:if(!l){s.postMessage({sourceName:n,targetName:i,stream:br.PULL_COMPLETE,streamId:e,success:!0});break}l.desiredSize<=0&&t.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=t.desiredSize,Promise.try(l.onPull||dN).then(function(){s.postMessage({sourceName:n,targetName:i,stream:br.PULL_COMPLETE,streamId:e,success:!0})},function(h){s.postMessage({sourceName:n,targetName:i,stream:br.PULL_COMPLETE,streamId:e,reason:ja(h)})});break;case br.ENQUEUE:if(Cn(A,"enqueue should have stream controller"),A.isClosed)break;A.controller.enqueue(t.chunk);break;case br.CLOSE:if(Cn(A,"close should have stream controller"),A.isClosed)break;A.isClosed=!0,A.controller.close(),P(this,xo,xB).call(this,A,e);break;case br.ERROR:Cn(A,"error should have stream controller"),A.controller.error(ja(t.reason)),P(this,xo,xB).call(this,A,e);break;case br.CANCEL_COMPLETE:t.success?A.cancelCall.resolve():A.cancelCall.reject(ja(t.reason)),P(this,xo,xB).call(this,A,e);break;case br.CANCEL:if(!l)break;const c=ja(t.reason);Promise.try(l.onCancel||dN,c).then(function(){s.postMessage({sourceName:n,targetName:i,stream:br.CANCEL_COMPLETE,streamId:e,success:!0})},function(h){s.postMessage({sourceName:n,targetName:i,stream:br.CANCEL_COMPLETE,streamId:e,reason:ja(h)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},xB=async function(t,e){var n,i,s;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(i=t.pullCall)==null?void 0:i.promise,(s=t.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[e]};var ly;class JI{constructor({enableHWA:t=!1}){O(this,ly,!1);N(this,ly,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!d(this,ly)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ui("Abstract method `_createCanvas` called.")}}ly=new WeakMap;class Rz extends JI{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class ZI{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ui("Abstract method `_fetch` called.")}}class fN extends ZI{async _fetch(t){const e=await yb(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):vb(e)}}class t6{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,s){return"none"}destroy(t=!1){}}var Ug,Im,Lu,Nu,Vs,Lg,Ng,he,Ks,tv,V0,EB,q0,e6,zS,X0,ev,nv,GS,iv;class Mz extends t6{constructor({docId:e,ownerDocument:n=globalThis.document}){super();O(this,he);O(this,Ug);O(this,Im);O(this,Lu);O(this,Nu);O(this,Vs);O(this,Lg);O(this,Ng,0);N(this,Nu,e),N(this,Vs,n)}addFilter(e){if(!e)return"none";let n=d(this,he,Ks).get(e);if(n)return n;const[i,s,A]=P(this,he,EB).call(this,e),l=e.length===1?i:`${i}${s}${A}`;if(n=d(this,he,Ks).get(l),n)return d(this,he,Ks).set(e,n),n;const c=`g_${d(this,Nu)}_transfer_map_${Ir(this,Ng)._++}`,h=P(this,he,q0).call(this,c);d(this,he,Ks).set(e,h),d(this,he,Ks).set(l,h);const f=P(this,he,X0).call(this,c);return P(this,he,nv).call(this,i,s,A,f),h}addHCMFilter(e,n){var x;const i=`${e}-${n}`,s="base";let A=d(this,he,tv).get(s);if((A==null?void 0:A.key)===i||(A?((x=A.filter)==null||x.remove(),A.key=i,A.url="none",A.filter=null):(A={key:i,url:"none",filter:null},d(this,he,tv).set(s,A)),!e||!n))return A.url;const l=P(this,he,iv).call(this,e);e=fe.makeHexColor(...l);const c=P(this,he,iv).call(this,n);if(n=fe.makeHexColor(...c),d(this,he,V0).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return A.url;const h=new Array(256);for(let B=0;B<=255;B++){const F=B/255;h[B]=F<=.03928?F/12.92:((F+.055)/1.055)**2.4}const f=h.join(","),p=`g_${d(this,Nu)}_hcm_filter`,w=A.filter=P(this,he,X0).call(this,p);P(this,he,nv).call(this,f,f,f,w),P(this,he,zS).call(this,w);const v=(B,F)=>{const S=l[B]/255,L=c[B]/255,T=new Array(F+1);for(let k=0;k<=F;k++)T[k]=S+k/F*(L-S);return T.join(",")};return P(this,he,nv).call(this,v(0,5),v(1,5),v(2,5),w),A.url=P(this,he,q0).call(this,p),A.url}addAlphaFilter(e){let n=d(this,he,Ks).get(e);if(n)return n;const[i]=P(this,he,EB).call(this,[e]),s=`alpha_${i}`;if(n=d(this,he,Ks).get(s),n)return d(this,he,Ks).set(e,n),n;const A=`g_${d(this,Nu)}_alpha_map_${Ir(this,Ng)._++}`,l=P(this,he,q0).call(this,A);d(this,he,Ks).set(e,l),d(this,he,Ks).set(s,l);const c=P(this,he,X0).call(this,A);return P(this,he,GS).call(this,i,c),l}addLuminosityFilter(e){let n=d(this,he,Ks).get(e||"luminosity");if(n)return n;let i,s;if(e?([i]=P(this,he,EB).call(this,[e]),s=`luminosity_${i}`):s="luminosity",n=d(this,he,Ks).get(s),n)return d(this,he,Ks).set(e,n),n;const A=`g_${d(this,Nu)}_luminosity_map_${Ir(this,Ng)._++}`,l=P(this,he,q0).call(this,A);d(this,he,Ks).set(e,l),d(this,he,Ks).set(s,l);const c=P(this,he,X0).call(this,A);return P(this,he,e6).call(this,c),e&&P(this,he,GS).call(this,i,c),l}addHighlightHCMFilter(e,n,i,s,A){var L;const l=`${n}-${i}-${s}-${A}`;let c=d(this,he,tv).get(e);if((c==null?void 0:c.key)===l||(c?((L=c.filter)==null||L.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},d(this,he,tv).set(e,c)),!n||!i))return c.url;const[h,f]=[n,i].map(P(this,he,iv).bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),w=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,x]=[s,A].map(P(this,he,iv).bind(this));w<p&&([p,w,v,x]=[w,p,x,v]),d(this,he,V0).style.color="";const B=(T,k,R)=>{const M=new Array(256),j=(w-p)/R,V=T/255,et=(k-T)/(255*R);let ut=0;for(let H=0;H<=R;H++){const G=Math.round(p+H*j),tt=V+H*et;for(let it=ut;it<=G;it++)M[it]=tt;ut=G+1}for(let H=ut;H<256;H++)M[H]=M[ut-1];return M.join(",")},F=`g_${d(this,Nu)}_hcm_${e}_filter`,S=c.filter=P(this,he,X0).call(this,F);return P(this,he,zS).call(this,S),P(this,he,nv).call(this,B(v[0],x[0],5),B(v[1],x[1],5),B(v[2],x[2],5),S),c.url=P(this,he,q0).call(this,F),c.url}destroy(e=!1){var n,i,s,A;e&&((n=d(this,Lg))!=null&&n.size)||((i=d(this,Lu))==null||i.parentNode.parentNode.remove(),N(this,Lu,null),(s=d(this,Im))==null||s.clear(),N(this,Im,null),(A=d(this,Lg))==null||A.clear(),N(this,Lg,null),N(this,Ng,0))}}Ug=new WeakMap,Im=new WeakMap,Lu=new WeakMap,Nu=new WeakMap,Vs=new WeakMap,Lg=new WeakMap,Ng=new WeakMap,he=new WeakSet,Ks=function(){return d(this,Im)||N(this,Im,new Map)},tv=function(){return d(this,Lg)||N(this,Lg,new Map)},V0=function(){if(!d(this,Lu)){const e=d(this,Vs).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=d(this,Vs).createElementNS(hu,"svg");i.setAttribute("width",0),i.setAttribute("height",0),N(this,Lu,d(this,Vs).createElementNS(hu,"defs")),e.append(i),i.append(d(this,Lu)),d(this,Vs).body.append(e)}return d(this,Lu)},EB=function(e){if(e.length===1){const h=e[0],f=new Array(256);for(let w=0;w<256;w++)f[w]=h[w]/255;const p=f.join(",");return[p,p,p]}const[n,i,s]=e,A=new Array(256),l=new Array(256),c=new Array(256);for(let h=0;h<256;h++)A[h]=n[h]/255,l[h]=i[h]/255,c[h]=s[h]/255;return[A.join(","),l.join(","),c.join(",")]},q0=function(e){if(d(this,Ug)===void 0){N(this,Ug,"");const n=d(this,Vs).URL;n!==d(this,Vs).baseURI&&(cC(n)?Ge('#createUrl: ignore "data:"-URL for performance reasons.'):N(this,Ug,uI(n,"")))}return`url(${d(this,Ug)}#${e})`},e6=function(e){const n=d(this,Vs).createElementNS(hu,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},zS=function(e){const n=d(this,Vs).createElementNS(hu,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},X0=function(e){const n=d(this,Vs).createElementNS(hu,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),d(this,he,V0).append(n),n},ev=function(e,n,i){const s=d(this,Vs).createElementNS(hu,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),e.append(s)},nv=function(e,n,i,s){const A=d(this,Vs).createElementNS(hu,"feComponentTransfer");s.append(A),P(this,he,ev).call(this,A,"feFuncR",e),P(this,he,ev).call(this,A,"feFuncG",n),P(this,he,ev).call(this,A,"feFuncB",i)},GS=function(e,n){const i=d(this,Vs).createElementNS(hu,"feComponentTransfer");n.append(i),P(this,he,ev).call(this,i,"feFuncA",e)},iv=function(e){return d(this,he,V0).style.color=e,Bb(getComputedStyle(d(this,he,V0)).getPropertyValue("color"))};class n6{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ui("Abstract method `_fetch` called.")}}class gN extends n6{async _fetch(t){const e=await yb(t,"arraybuffer");return new Uint8Array(e)}}class i6{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){ui("Abstract method `_fetch` called.")}}class pN extends i6{async _fetch(t){const e=await yb(t,"arraybuffer");return new Uint8Array(e)}}da&&Ge("Please use the `legacy` build in Node.js environments.");async function B4(r){const e=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(e)}class Hz extends t6{}class Pz extends JI{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class jz extends ZI{async _fetch(t){return B4(t)}}class Kz extends n6{async _fetch(t){return B4(t)}}class zz extends i6{async _fetch(t){return B4(t)}}const O0="__forcedDependency",{floor:mN,ceil:wN}=Math;function nB(r,t,e,n,i,s){r[t*4+0]=Math.min(r[t*4+0],e),r[t*4+1]=Math.min(r[t*4+1],n),r[t*4+2]=Math.max(r[t*4+2],i),r[t*4+3]=Math.max(r[t*4+3],s)}const VS=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Dm,xd;class Gz{constructor(t,e){O(this,Dm);O(this,xd);N(this,Dm,t),N(this,xd,e)}get length(){return d(this,Dm).length}isEmpty(t){return d(this,Dm)[t]===VS}minX(t){return d(this,xd)[t*4+0]/256}minY(t){return d(this,xd)[t*4+1]/256}maxX(t){return(d(this,xd)[t*4+2]+1)/256}maxY(t){return(d(this,xd)[t*4+3]+1)/256}}Dm=new WeakMap,xd=new WeakMap;const iB=(r,t)=>{if(!r)return;let e=r.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},r.set(t,e)),e};var Ga,Va,Tg,el,Qg,Tu,Gn,$n,Qu,qa,cy,km,Ig,Dg,Iu,qs,uc,uy,qS;class Vz{constructor(t,e,n=!1){O(this,uy);O(this,Ga,{__proto__:null});O(this,Va,{__proto__:null,transform:[],moveText:[],sameLineText:[],[O0]:[]});O(this,Tg,new Map);O(this,el,[]);O(this,Qg,[]);O(this,Tu,[[1,0,0,1,0,0]]);O(this,Gn,[-1/0,-1/0,1/0,1/0]);O(this,$n,new Float64Array([1/0,1/0,-1/0,-1/0]));O(this,Qu,-1);O(this,qa,new Set);O(this,cy,new Map);O(this,km,new Map);O(this,Ig);O(this,Dg);O(this,Iu);O(this,qs);O(this,uc);N(this,Ig,t.width),N(this,Dg,t.height),P(this,uy,qS).call(this,e),n&&N(this,uc,new Map)}growOperationsCount(t){t>=d(this,qs).length&&P(this,uy,qS).call(this,t,d(this,qs))}save(t){return N(this,Ga,{__proto__:d(this,Ga)}),N(this,Va,{__proto__:d(this,Va),transform:{__proto__:d(this,Va).transform},moveText:{__proto__:d(this,Va).moveText},sameLineText:{__proto__:d(this,Va).sameLineText},[O0]:{__proto__:d(this,Va)[O0]}}),N(this,Gn,{__proto__:d(this,Gn)}),d(this,el).push(t),this}restore(t){var i;const e=Object.getPrototypeOf(d(this,Ga));if(e===null)return this;N(this,Ga,e),N(this,Va,Object.getPrototypeOf(d(this,Va))),N(this,Gn,Object.getPrototypeOf(d(this,Gn)));const n=d(this,el).pop();return n!==void 0&&((i=iB(d(this,uc),t))==null||i.dependencies.add(n),d(this,qs)[t]=d(this,qs)[n]),this}recordOpenMarker(t){return d(this,el).push(t),this}getOpenMarker(){return d(this,el).length===0?null:d(this,el).at(-1)}recordCloseMarker(t){var n;const e=d(this,el).pop();return e!==void 0&&((n=iB(d(this,uc),t))==null||n.dependencies.add(e),d(this,qs)[t]=d(this,qs)[e]),this}beginMarkedContent(t){return d(this,Qg).push(t),this}endMarkedContent(t){var n;const e=d(this,Qg).pop();return e!==void 0&&((n=iB(d(this,uc),t))==null||n.dependencies.add(e),d(this,qs)[t]=d(this,qs)[e]),this}pushBaseTransform(t){return d(this,Tu).push(fe.multiplyByDOMMatrix(d(this,Tu).at(-1),t.getTransform())),this}popBaseTransform(){return d(this,Tu).length>1&&d(this,Tu).pop(),this}recordSimpleData(t,e){return d(this,Ga)[t]=e,this}recordIncrementalData(t,e){return d(this,Va)[t].push(e),this}resetIncrementalData(t,e){return d(this,Va)[t].length=0,this}recordNamedData(t,e){return d(this,Tg).set(t,e),this}recordSimpleDataFromNamed(t,e,n){d(this,Ga)[t]=d(this,Tg).get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(O0,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in d(this,Ga)&&this.recordFutureForcedDependency(e,d(this,Ga)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of d(this,qa))this.recordFutureForcedDependency(O0,t);return this}resetBBox(t){return d(this,Qu)!==t&&(N(this,Qu,t),d(this,$n)[0]=1/0,d(this,$n)[1]=1/0,d(this,$n)[2]=-1/0,d(this,$n)[3]=-1/0),this}recordClipBox(t,e,n,i,s,A){const l=fe.multiplyByDOMMatrix(d(this,Tu).at(-1),e.getTransform()),c=[1/0,1/0,-1/0,-1/0];fe.axialAlignedBoundingBox([n,s,i,A],l,c);const h=fe.intersect(d(this,Gn),c);return h?(d(this,Gn)[0]=h[0],d(this,Gn)[1]=h[1],d(this,Gn)[2]=h[2],d(this,Gn)[3]=h[3]):(d(this,Gn)[0]=d(this,Gn)[1]=1/0,d(this,Gn)[2]=d(this,Gn)[3]=-1/0),this}recordBBox(t,e,n,i,s,A){const l=d(this,Gn);if(l[0]===1/0)return this;const c=fe.multiplyByDOMMatrix(d(this,Tu).at(-1),e.getTransform());if(l[0]===-1/0)return fe.axialAlignedBoundingBox([n,s,i,A],c,d(this,$n)),this;const h=[1/0,1/0,-1/0,-1/0];return fe.axialAlignedBoundingBox([n,s,i,A],c,h),d(this,$n)[0]=Math.min(d(this,$n)[0],Math.max(h[0],l[0])),d(this,$n)[1]=Math.min(d(this,$n)[1],Math.max(h[1],l[1])),d(this,$n)[2]=Math.max(d(this,$n)[2],Math.min(h[2],l[2])),d(this,$n)[3]=Math.max(d(this,$n)[3],Math.min(h[3],l[3])),this}recordCharacterBBox(t,e,n,i=1,s=0,A=0,l){const c=n.bbox;let h,f;if(c&&(h=c[2]!==c[0]&&c[3]!==c[1]&&d(this,km).get(n),h!==!1&&(f=[0,0,0,0],fe.axialAlignedBoundingBox(c,n.fontMatrix,f),(i!==1||s!==0||A!==0)&&fe.scaleMinMax([i,0,0,-i,s,A],f),h)))return this.recordBBox(t,e,f[0],f[2],f[1],f[3]);if(!l)return this.recordFullPageBBox(t);const p=l();return c&&f&&h===void 0&&(h=f[0]<=s-p.actualBoundingBoxLeft&&f[2]>=s+p.actualBoundingBoxRight&&f[1]<=A-p.actualBoundingBoxAscent&&f[3]>=A+p.actualBoundingBoxDescent,d(this,km).set(n,h),h)?this.recordBBox(t,e,f[0],f[2],f[1],f[3]):this.recordBBox(t,e,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,A-p.actualBoundingBoxAscent,A+p.actualBoundingBoxDescent)}recordFullPageBBox(t){return d(this,$n)[0]=Math.max(0,d(this,Gn)[0]),d(this,$n)[1]=Math.max(0,d(this,Gn)[1]),d(this,$n)[2]=Math.min(d(this,Ig),d(this,Gn)[2]),d(this,$n)[3]=Math.min(d(this,Dg),d(this,Gn)[3]),this}getSimpleIndex(t){return d(this,Ga)[t]}recordDependencies(t,e){const n=d(this,qa),i=d(this,Ga),s=d(this,Va);for(const A of e)A in d(this,Ga)?n.add(i[A]):A in s&&s[A].forEach(n.add,n);return this}recordNamedDependency(t,e){return d(this,Tg).has(e)&&d(this,qa).add(d(this,Tg).get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[O0]),d(this,uc)){const n=iB(d(this,uc),t),{dependencies:i}=n;d(this,qa).forEach(i.add,i),d(this,el).forEach(i.add,i),d(this,Qg).forEach(i.add,i),i.delete(t),n.isRenderingOperation=!0}if(d(this,Qu)===t){const n=mN(d(this,$n)[0]*256/d(this,Ig)),i=mN(d(this,$n)[1]*256/d(this,Dg)),s=wN(d(this,$n)[2]*256/d(this,Ig)),A=wN(d(this,$n)[3]*256/d(this,Dg));nB(d(this,Iu),t,n,i,s,A);for(const l of d(this,qa))l!==t&&nB(d(this,Iu),l,n,i,s,A);for(const l of d(this,el))l!==t&&nB(d(this,Iu),l,n,i,s,A);for(const l of d(this,Qg))l!==t&&nB(d(this,Iu),l,n,i,s,A);e||(d(this,qa).clear(),N(this,Qu,-1))}return this}recordShowTextOperation(t,e=!1){const n=Array.from(d(this,qa));this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(t,e=!1){return d(this,Qu)===t&&(N(this,Qu,-1),d(this,Gn)[0]=Math.max(d(this,Gn)[0],d(this,$n)[0]),d(this,Gn)[1]=Math.max(d(this,Gn)[1],d(this,$n)[1]),d(this,Gn)[2]=Math.min(d(this,Gn)[2],d(this,$n)[2]),d(this,Gn)[3]=Math.min(d(this,Gn)[3],d(this,$n)[3]),e||d(this,qa).clear()),this}_takePendingDependencies(){const t=d(this,qa);return N(this,qa,new Set),t}_extractOperation(t){const e=d(this,cy).get(t);return d(this,cy).delete(t),e}_pushPendingDependencies(t){for(const e of t)d(this,qa).add(e)}take(){return d(this,km).clear(),new Gz(d(this,qs),d(this,Iu))}takeDebugMetadata(){return d(this,uc)}}Ga=new WeakMap,Va=new WeakMap,Tg=new WeakMap,el=new WeakMap,Qg=new WeakMap,Tu=new WeakMap,Gn=new WeakMap,$n=new WeakMap,Qu=new WeakMap,qa=new WeakMap,cy=new WeakMap,km=new WeakMap,Ig=new WeakMap,Dg=new WeakMap,Iu=new WeakMap,qs=new WeakMap,uc=new WeakMap,uy=new WeakSet,qS=function(t,e){const n=new ArrayBuffer(t*4);N(this,Iu,new Uint8ClampedArray(n)),N(this,qs,new Uint32Array(n)),e&&e.length>0?(d(this,qs).set(e),d(this,qs).fill(VS,e.length)):d(this,qs).fill(VS)};var oi,$i,nl,Om,Rm;const N4=class N4{constructor(t,e,n){O(this,oi);O(this,$i);O(this,nl);O(this,Om,0);O(this,Rm,0);if(t instanceof N4&&d(t,nl)===!!n)return t;N(this,oi,t),N(this,$i,e),N(this,nl,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(t){return Ir(this,Rm)._++,d(this,oi).save(d(this,$i)),this}restore(t){return d(this,Rm)>0&&(d(this,oi).restore(d(this,$i)),Ir(this,Rm)._--),this}recordOpenMarker(t){return Ir(this,Om)._++,this}getOpenMarker(){return d(this,Om)>0?d(this,$i):d(this,oi).getOpenMarker()}recordCloseMarker(t){return Ir(this,Om)._--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return d(this,oi).pushBaseTransform(t),this}popBaseTransform(){return d(this,oi).popBaseTransform(),this}recordSimpleData(t,e){return d(this,oi).recordSimpleData(t,d(this,$i)),this}recordIncrementalData(t,e){return d(this,oi).recordIncrementalData(t,d(this,$i)),this}resetIncrementalData(t,e){return d(this,oi).resetIncrementalData(t,d(this,$i)),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return d(this,oi).recordSimpleDataFromNamed(t,e,d(this,$i)),this}recordFutureForcedDependency(t,e){return d(this,oi).recordFutureForcedDependency(t,d(this,$i)),this}inheritSimpleDataAsFutureForcedDependencies(t){return d(this,oi).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return d(this,oi).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return d(this,nl)||d(this,oi).resetBBox(d(this,$i)),this}recordClipBox(t,e,n,i,s,A){return d(this,nl)||d(this,oi).recordClipBox(d(this,$i),e,n,i,s,A),this}recordBBox(t,e,n,i,s,A){return d(this,nl)||d(this,oi).recordBBox(d(this,$i),e,n,i,s,A),this}recordCharacterBBox(t,e,n,i,s,A,l){return d(this,nl)||d(this,oi).recordCharacterBBox(d(this,$i),e,n,i,s,A,l),this}recordFullPageBBox(t){return d(this,nl)||d(this,oi).recordFullPageBBox(d(this,$i)),this}getSimpleIndex(t){return d(this,oi).getSimpleIndex(t)}recordDependencies(t,e){return d(this,oi).recordDependencies(d(this,$i),e),this}recordNamedDependency(t,e){return d(this,oi).recordNamedDependency(d(this,$i),e),this}recordOperation(t){return d(this,oi).recordOperation(d(this,$i),!0),this}recordShowTextOperation(t){return d(this,oi).recordShowTextOperation(d(this,$i),!0),this}bboxToClipBoxDropOperation(t){return d(this,nl)||d(this,oi).bboxToClipBoxDropOperation(d(this,$i),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};oi=new WeakMap,$i=new WeakMap,nl=new WeakMap,Om=new WeakMap,Rm=new WeakMap;let m5=N4;const so={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},xs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function XS(r,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],e,n),r.clip(i)}class C4{isModifyingCurrentTransform(){return!1}getPattern(){ui("Abstract method `getPattern` called.")}}class qz extends C4{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let s;if(i===xs.STROKE||i===xs.FILL){const A=e.current.getClippedPathBoundingBox(i,Ki(t))||[0,0,0,0],l=Math.ceil(A[2]-A[0])||1,c=Math.ceil(A[3]-A[1])||1,h=e.cachedCanvases.getCanvas("pattern",l,c),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-A[0],-A[1]),n=fe.transform(n,[1,0,0,1,A[0],A[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),XS(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=t.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(n);s.setTransform(p)}else XS(t,this._bbox),s=this._createGradient(t);return s}}function BE(r,t,e,n,i,s,A,l){const c=t.coords,h=t.colors,f=r.data,p=r.width*4;let w;c[e+1]>c[n+1]&&(w=e,e=n,n=w,w=s,s=A,A=w),c[n+1]>c[i+1]&&(w=n,n=i,i=w,w=A,A=l,l=w),c[e+1]>c[n+1]&&(w=e,e=n,n=w,w=s,s=A,A=w);const v=(c[e]+t.offsetX)*t.scaleX,x=(c[e+1]+t.offsetY)*t.scaleY,B=(c[n]+t.offsetX)*t.scaleX,F=(c[n+1]+t.offsetY)*t.scaleY,S=(c[i]+t.offsetX)*t.scaleX,L=(c[i+1]+t.offsetY)*t.scaleY;if(x>=L)return;const T=h[s],k=h[s+1],R=h[s+2],M=h[A],j=h[A+1],V=h[A+2],et=h[l],ut=h[l+1],H=h[l+2],G=Math.round(x),tt=Math.round(L);let it,mt,q,rt,lt,yt,Et,st;for(let I=G;I<=tt;I++){if(I<F){const gt=I<x?0:(x-I)/(x-F);it=v-(v-B)*gt,mt=T-(T-M)*gt,q=k-(k-j)*gt,rt=R-(R-V)*gt}else{let gt;I>L?gt=1:F===L?gt=0:gt=(F-I)/(F-L),it=B-(B-S)*gt,mt=M-(M-et)*gt,q=j-(j-ut)*gt,rt=V-(V-H)*gt}let X;I<x?X=0:I>L?X=1:X=(x-I)/(x-L),lt=v-(v-S)*X,yt=T-(T-et)*X,Et=k-(k-ut)*X,st=R-(R-H)*X;const nt=Math.round(Math.min(it,lt)),at=Math.round(Math.max(it,lt));let ht=p*I+nt*4;for(let gt=nt;gt<=at;gt++)X=(it-gt)/(it-lt),X<0?X=0:X>1&&(X=1),f[ht++]=mt-(mt-yt)*X|0,f[ht++]=q-(q-Et)*X|0,f[ht++]=rt-(rt-st)*X|0,f[ht++]=255}}function Xz(r,t,e){const n=t.coords,i=t.colors;let s,A;switch(t.type){case"lattice":const l=t.verticesPerRow,c=Math.floor(n.length/l)-1,h=l-1;for(s=0;s<c;s++){let f=s*l;for(let p=0;p<h;p++,f++)BE(r,e,n[f],n[f+1],n[f+l],i[f],i[f+1],i[f+l]),BE(r,e,n[f+l+1],n[f+1],n[f+l],i[f+l+1],i[f+1],i[f+l])}break;case"triangles":for(s=0,A=n.length;s<A;s+=3)BE(r,e,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class Yz extends C4{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-l,f=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(h*t[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),v=h/p,x=f/w,B={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/v,scaleY:1/x},F=p+4,S=w+4,L=n.getCanvas("mesh",F,S),T=L.context,k=T.createImageData(p,w);if(e){const M=k.data;for(let j=0,V=M.length;j<V;j+=4)M[j]=e[0],M[j+1]=e[1],M[j+2]=e[2],M[j+3]=255}for(const M of this._figures)Xz(k,M,B);return T.putImageData(k,2,2),{canvas:L.canvas,offsetX:l-2*v,offsetY:c-2*x,scaleX:v,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,i){XS(t,this._bbox);const s=new Float32Array(2);if(i===xs.SHADING)fe.singularValueDecompose2dScale(Ki(t),s);else if(this.matrix){fe.singularValueDecompose2dScale(this.matrix,s);const[l,c]=s;fe.singularValueDecompose2dScale(e.baseTransform,s),s[0]*=l,s[1]*=c}else fe.singularValueDecompose2dScale(e.baseTransform,s);const A=this._createMeshCanvas(s,i===xs.SHADING?null:this._background,e.cachedCanvases);return i!==xs.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(A.offsetX,A.offsetY),t.scale(A.scaleX,A.scaleY),t.createPattern(A.canvas,"no-repeat")}}class Wz extends C4{getPattern(){return"hotpink"}}function $z(r){switch(r[0]){case"RadialAxial":return new qz(r);case"Mesh":return new Yz(r);case"Dummy":return new Wz}throw new Error(`Unknown IR type: ${r[0]}`)}const vN={COLORED:1,UNCOLORED:2},I5=class I5{constructor(t,e,n,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(t,e){var yt,Et;const{bbox:n,operatorList:i,paintType:s,tilingType:A,color:l,canvasGraphicsFactory:c}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),lC("TilingType: "+A);const p=n[0],w=n[1],v=n[2],x=n[3],B=v-p,F=x-w,S=new Float32Array(2);fe.singularValueDecompose2dScale(this.matrix,S);const[L,T]=S;fe.singularValueDecompose2dScale(this.baseTransform,S);const k=L*S[0],R=T*S[1];let M=B,j=F,V=!1,et=!1;const ut=Math.ceil(h*k),H=Math.ceil(f*R),G=Math.ceil(B*k),tt=Math.ceil(F*R);ut>=G?M=h:V=!0,H>=tt?j=f:et=!0;const it=this.getSizeAndScale(M,this.ctx.canvas.width,k),mt=this.getSizeAndScale(j,this.ctx.canvas.height,R),q=t.cachedCanvases.getCanvas("pattern",it.size,mt.size),rt=q.context,lt=c.createCanvasGraphics(rt,e);if(lt.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(lt,s,l),rt.translate(-it.scale*p,-mt.scale*w),lt.transform(0,it.scale,0,0,mt.scale,0,0),rt.save(),(yt=lt.dependencyTracker)==null||yt.save(),this.clipBbox(lt,p,w,v,x),lt.baseTransform=Ki(lt.ctx),lt.executeOperatorList(i),lt.endDrawing(),(Et=lt.dependencyTracker)==null||Et.restore(),rt.restore(),V||et){const st=q.canvas;V&&(M=h),et&&(j=f);const I=this.getSizeAndScale(M,this.ctx.canvas.width,k),X=this.getSizeAndScale(j,this.ctx.canvas.height,R),nt=I.size,at=X.size,ht=t.cachedCanvases.getCanvas("pattern-workaround",nt,at),gt=ht.context,ft=V?Math.floor(B/h):0,Ct=et?Math.floor(F/f):0;for(let qt=0;qt<=ft;qt++)for(let jt=0;jt<=Ct;jt++)gt.drawImage(st,nt*qt,at*jt,nt,at,0,0,nt,at);return{canvas:ht.canvas,scaleX:I.scale,scaleY:X.scale,offsetX:p,offsetY:w}}return{canvas:q.canvas,scaleX:it.scale,scaleY:mt.scale,offsetX:p,offsetY:w}}getSizeAndScale(t,e,n){const i=Math.max(I5.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*n);return s>=i?s=i:n=s/t,{scale:n,size:s}}clipBbox(t,e,n,i,s){const A=i-e,l=s-n;t.ctx.rect(e,n,A,l),fe.axialAlignedBoundingBox([e,n,i,s],Ki(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,s=t.current;switch(e){case vN.COLORED:const{fillStyle:A,strokeStyle:l}=this.ctx;i.fillStyle=s.fillColor=A,i.strokeStyle=s.strokeColor=l;break;case vN.UNCOLORED:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new cz(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,i,s){let A=n;i!==xs.SHADING&&(A=fe.transform(A,e.baseTransform),this.matrix&&(A=fe.transform(A,this.matrix)));const l=this.createPatternCanvas(e,s);let c=new DOMMatrix(A);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const h=t.createPattern(l.canvas,"repeat");return h.setTransform(c),h}};Wt(I5,"MAX_PATTERN_SIZE",3e3);let YS=I5;function Jz({src:r,srcPos:t=0,dest:e,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:A=!1}){const l=Fs.isLittleEndian?4278190080:255,[c,h]=A?[s,l]:[l,s],f=n>>3,p=n&7,w=r.length;e=new Uint32Array(e.buffer);let v=0;for(let x=0;x<i;x++){for(const F=t+f;t<F;t++){const S=t<w?r[t]:255;e[v++]=S&128?h:c,e[v++]=S&64?h:c,e[v++]=S&32?h:c,e[v++]=S&16?h:c,e[v++]=S&8?h:c,e[v++]=S&4?h:c,e[v++]=S&2?h:c,e[v++]=S&1?h:c}if(p===0)continue;const B=t<w?r[t++]:255;for(let F=0;F<p;F++)e[v++]=B&1<<7-F?h:c}return{srcPos:t,destPos:v}}const yN=16,bN=100,Zz=15,BN=10,$a=16,CE=new DOMMatrix,kA=new Float32Array(2),tm=new Float32Array([1/0,1/0,-1/0,-1/0]);function tG(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},r.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},r.transform=function(e,n,i,s,A,l){t.transform(e,n,i,s,A,l),this.__originalTransform(e,n,i,s,A,l)},r.setTransform=function(e,n,i,s,A,l){t.setTransform(e,n,i,s,A,l),this.__originalSetTransform(e,n,i,s,A,l)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(e){t.rotate(e),this.__originalRotate(e)},r.clip=function(e){t.clip(e),this.__originalClip(e)},r.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},r.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},r.bezierCurveTo=function(e,n,i,s,A,l){t.bezierCurveTo(e,n,i,s,A,l),this.__originalBezierCurveTo(e,n,i,s,A,l)},r.rect=function(e,n,i,s){t.rect(e,n,i,s),this.__originalRect(e,n,i,s)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class eG{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function rB(r,t,e,n,i,s,A,l,c,h){const[f,p,w,v,x,B]=Ki(r);if(p===0&&w===0){const L=A*f+x,T=Math.round(L),k=l*v+B,R=Math.round(k),M=(A+c)*f+x,j=Math.abs(Math.round(M)-T)||1,V=(l+h)*v+B,et=Math.abs(Math.round(V)-R)||1;return r.setTransform(Math.sign(f),0,0,Math.sign(v),T,R),r.drawImage(t,e,n,i,s,0,0,j,et),r.setTransform(f,p,w,v,x,B),[j,et]}if(f===0&&v===0){const L=l*w+x,T=Math.round(L),k=A*p+B,R=Math.round(k),M=(l+h)*w+x,j=Math.abs(Math.round(M)-T)||1,V=(A+c)*p+B,et=Math.abs(Math.round(V)-R)||1;return r.setTransform(0,Math.sign(p),Math.sign(w),0,T,R),r.drawImage(t,e,n,i,s,0,0,et,j),r.setTransform(f,p,w,v,x,B),[et,j]}r.drawImage(t,e,n,i,s,A,l,c,h);const F=Math.hypot(f,p),S=Math.hypot(w,v);return[F*c,S*h]}class CN{constructor(t,e,n){Wt(this,"alphaIsShape",!1);Wt(this,"fontSize",0);Wt(this,"fontSizeScale",1);Wt(this,"textMatrix",null);Wt(this,"textMatrixScale",1);Wt(this,"fontMatrix",vS);Wt(this,"leading",0);Wt(this,"x",0);Wt(this,"y",0);Wt(this,"lineX",0);Wt(this,"lineY",0);Wt(this,"charSpacing",0);Wt(this,"wordSpacing",0);Wt(this,"textHScale",1);Wt(this,"textRenderingMode",ms.FILL);Wt(this,"textRise",0);Wt(this,"fillColor","#000000");Wt(this,"strokeColor","#000000");Wt(this,"patternFill",!1);Wt(this,"patternStroke",!1);Wt(this,"fillAlpha",1);Wt(this,"strokeAlpha",1);Wt(this,"lineWidth",1);Wt(this,"activeSMask",null);Wt(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=tm.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=xs.FILL,e=null){const n=this.minMax.slice();if(t===xs.STROKE){e||ui("Stroke bounding box must include transform."),fe.singularValueDecompose2dScale(e,kA);const i=kA[0]*this.lineWidth/2,s=kA[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const t=fe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(tm,0)}getClippedPathBoundingBox(t=xs.FILL,e=null){return fe.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function xN(r,t){if(t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,n=t.width,i=e%$a,s=(e-i)/$a,A=i===0?s:s+1,l=r.createImageData(n,$a);let c=0,h;const f=t.data,p=l.data;let w,v,x,B;if(t.kind===mB.GRAYSCALE_1BPP){const F=f.byteLength,S=new Uint32Array(p.buffer,0,p.byteLength>>2),L=S.length,T=n+7>>3,k=4294967295,R=Fs.isLittleEndian?4278190080:255;for(w=0;w<A;w++){for(x=w<s?$a:i,h=0,v=0;v<x;v++){const M=F-c;let j=0;const V=M>T?n:M*8-7,et=V&-8;let ut=0,H=0;for(;j<et;j+=8)H=f[c++],S[h++]=H&128?k:R,S[h++]=H&64?k:R,S[h++]=H&32?k:R,S[h++]=H&16?k:R,S[h++]=H&8?k:R,S[h++]=H&4?k:R,S[h++]=H&2?k:R,S[h++]=H&1?k:R;for(;j<V;j++)ut===0&&(H=f[c++],ut=128),S[h++]=H&ut?k:R,ut>>=1}for(;h<L;)S[h++]=0;r.putImageData(l,0,w*$a)}}else if(t.kind===mB.RGBA_32BPP){for(v=0,B=n*$a*4,w=0;w<s;w++)p.set(f.subarray(c,c+B)),c+=B,r.putImageData(l,0,v),v+=$a;w<A&&(B=n*i*4,p.set(f.subarray(c,c+B)),r.putImageData(l,0,v))}else if(t.kind===mB.RGB_24BPP)for(x=$a,B=n*x,w=0;w<A;w++){for(w>=s&&(x=i,B=n*x),h=0,v=B;v--;)p[h++]=f[c++],p[h++]=f[c++],p[h++]=f[c++],p[h++]=255;r.putImageData(l,0,w*$a)}else throw new Error(`bad image kind: ${t.kind}`)}function EN(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,i=e%$a,s=(e-i)/$a,A=i===0?s:s+1,l=r.createImageData(n,$a);let c=0;const h=t.data,f=l.data;for(let p=0;p<A;p++){const w=p<s?$a:i;({srcPos:c}=Jz({src:h,srcPos:c,dest:f,width:n,height:w,nonBlackColor:0})),r.putImageData(l,0,p*$a)}}function Iw(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)r[n]!==void 0&&(t[n]=r[n]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function sB(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}function SN(r,t){if(t)return!0;fe.singularValueDecompose2dScale(r,kA);const e=Math.fround(Sc.pixelRatio*hf.PDF_TO_CSS_UNITS);return kA[0]<=e&&kA[1]<=e}const nG=["butt","round","square"],iG=["miter","round","bevel"],rG={},_N={};var dl,WS,$S,JS;const T4=class T4{constructor(t,e,n,i,s,{optionalContentConfig:A,markedContentStack:l=null},c,h,f){O(this,dl);this.ctx=t,this.current=new CN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=A,this.cachedCanvases=new eG(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(t,e,n=null){var i;return typeof e=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,A=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,A),this.ctx.fillStyle=l,n){const c=this.cachedCanvases.getCanvas("transparent",s,A);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Ki(this.compositeCtx))}this.ctx.save(),sB(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Ki(this.ctx)}executeOperatorList(t,e,n,i,s){var S;const A=t.argsArray,l=t.fnArray;let c=e||0;const h=A.length;if(h===c)return c;const f=h-c>BN&&typeof n=="function",p=f?Date.now()+Zz:0;let w=0;const v=this.commonObjs,x=this.objs;let B,F;for(;;){if(i!==void 0&&c===i.nextBreakPoint)return i.breakIt(c,n),c;if(!s||s(c))if(B=l[c],F=A[c]??null,B!==Nv.dependency)F===null?this[B](c):this[B](c,...F);else for(const L of F){(S=this.dependencyTracker)==null||S.recordNamedData(L,c);const T=L.startsWith("g_")?v:x;if(!T.has(L))return T.get(L,n),c}if(c++,c===h)return c;if(f&&++w>BN){if(Date.now()>p)return n(),c;w=0}}}endDrawing(){P(this,dl,WS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),P(this,dl,$S).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,i=t.height??t.displayHeight;let s=Math.max(Math.hypot(e[0],e[1]),1),A=Math.max(Math.hypot(e[2],e[3]),1),l=n,c=i,h="prescale1",f,p;for(;s>2&&l>1||A>2&&c>1;){let w=l,v=c;s>2&&l>1&&(w=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/w),A>2&&c>1&&(v=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,A/=c/v),f=this.cachedCanvases.getCanvas(h,w,v),p=f.context,p.clearRect(0,0,w,v),p.drawImage(t,0,0,l,c,0,0,w,v),t=f.canvas,l=w,c=v,h=h==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:c}}_createMaskCanvas(t,e){var ut,H;const n=this.ctx,{width:i,height:s}=e,A=this.current.fillColor,l=this.current.patternFill,c=Ki(n);let h,f,p,w;if((e.bitmap||e.data)&&e.count>1){const G=e.bitmap||e.data.buffer;f=JSON.stringify(l?c:[c.slice(0,4),A]),h=this._cachedBitmapsMap.get(G),h||(h=new Map,this._cachedBitmapsMap.set(G,h));const tt=h.get(f);if(tt&&!l){const it=Math.round(Math.min(c[0],c[2])+c[4]),mt=Math.round(Math.min(c[1],c[3])+c[5]);return(ut=this.dependencyTracker)==null||ut.recordDependencies(t,so.transformAndFill),{canvas:tt,offsetX:it,offsetY:mt}}p=tt}p||(w=this.cachedCanvases.getCanvas("maskCanvas",i,s),EN(w.context,e));let v=fe.transform(c,[1/i,0,0,-1/s,0,0]);v=fe.transform(v,[1,0,0,1,0,-s]);const x=tm.slice();fe.axialAlignedBoundingBox([0,0,i,s],v,x);const[B,F,S,L]=x,T=Math.round(S-B)||1,k=Math.round(L-F)||1,R=this.cachedCanvases.getCanvas("fillCanvas",T,k),M=R.context,j=B,V=F;M.translate(-j,-V),M.transform(...v),p||(p=this._scaleImage(w.canvas,$l(M)),p=p.img,h&&l&&h.set(f,p)),M.imageSmoothingEnabled=SN(Ki(M),e.interpolate),rB(M,p,0,0,p.width,p.height,0,0,i,s),M.globalCompositeOperation="source-in";const et=fe.transform($l(M),[1,0,0,1,-j,-V]);return M.fillStyle=l?A.getPattern(n,this,et,xs.FILL,t):A,M.fillRect(0,0,i,s),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,R.canvas)),(H=this.dependencyTracker)==null||H.recordDependencies(t,so.transformAndFill),{canvas:R.canvas,offsetX:Math.round(j),offsetY:Math.round(V)}}setLineWidth(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",t),this.ctx.lineCap=nG[e]}setLineJoin(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",t),this.ctx.lineJoin=iG[e]}setMiterLimit(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",t);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var n,i,s,A,l;for(const[c,h]of e)switch(c){case"LW":this.setLineWidth(t,h);break;case"LC":this.setLineCap(t,h);break;case"LJ":this.setLineJoin(t,h);break;case"ML":this.setMiterLimit(t,h);break;case"D":this.setDash(t,h[0],h[1]);break;case"RI":this.setRenderingIntent(t,h);break;case"FL":this.setFlatness(t,h);break;case"Font":this.setFont(t,h[0],h[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=h;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=h;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=h;break;case"SMask":(A=this.dependencyTracker)==null||A.recordSimpleData("SMask",t),this.current.activeSMask=h?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(l=this.dependencyTracker)==null||l.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(h);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx;const A=this.ctx=s.context;A.setTransform(this.suspendedCtx.getTransform()),Iw(this.suspendedCtx,A),tG(A,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Iw(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const s=i[0],A=i[1],l=i[2]-s,c=i[3]-A;l===0||c===0||(this.genericComposeSMask(e.context,n,l,c,e.subtype,e.backdrop,e.transferMap,s,A,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,s,A,l,c,h,f,p){let w=t.canvas,v=c-f,x=h-p;if(A)if(v<0||x<0||v+n>w.width||x+i>w.height){const F=this.cachedCanvases.getCanvas("maskExtension",n,i),S=F.context;S.drawImage(w,-v,-x),S.globalCompositeOperation="destination-atop",S.fillStyle=A,S.fillRect(0,0,n,i),S.globalCompositeOperation="source-over",w=F.canvas,v=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const F=new Path2D;F.rect(v,x,n,i),t.clip(F),t.globalCompositeOperation="destination-atop",t.fillStyle=A,t.fillRect(v,x,n,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?e.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(l));const B=new Path2D;B.rect(c,h,n,i),e.clip(B),e.globalCompositeOperation="destination-in",e.drawImage(w,v,x,n,i,c,h,n,i),e.restore()}save(t){var n;this.inSMaskMode&&Iw(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),(n=this.dependencyTracker)==null||n.save(t)}restore(t){var e;if((e=this.dependencyTracker)==null||e.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Iw(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,i,s,A,l){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",t),this.ctx.transform(e,n,i,s,A,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,i){let[s]=n;if(!i){s||(s=n[0]=new Path2D),this[e](t,s);return}if(this.dependencyTracker!==null){const A=e===Nv.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,i[0]-A,i[2]+A,i[1]-A,i[3]+A).recordDependencies(t,["transform"])}if(!(s instanceof Path2D)){const A=n[0]=new Path2D;for(let l=0,c=s.length;l<c;)switch(s[l++]){case J2.moveTo:A.moveTo(s[l++],s[l++]);break;case J2.lineTo:A.lineTo(s[l++],s[l++]);break;case J2.curveTo:A.bezierCurveTo(s[l++],s[l++],s[l++],s[l++],s[l++],s[l++]);break;case J2.closePath:A.closePath();break;default:Ge(`Unrecognized drawing path operator: ${s[l-1]}`);break}s=A}fe.axialAlignedBoundingBox(i,Ki(this.ctx),this.current.minMax),this[e](t,s),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){var A;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const l=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,$l(i),xs.STROKE,t),l){const c=new Path2D;c.addPath(e,i.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),i.restore()}else this.rescaleAndStroke(e,!0);(A=this.dependencyTracker)==null||A.recordDependencies(t,so.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(xs.STROKE,Ki(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){var h,f,p;const i=this.ctx,s=this.current.fillColor,A=this.current.patternFill;let l=!1;if(A){const w=s.isModifyingCurrentTransform()?i.getTransform():null;if((h=this.dependencyTracker)==null||h.save(t),i.save(),i.fillStyle=s.getPattern(i,this,$l(i),xs.FILL,t),w){const v=new Path2D;v.addPath(e,i.getTransform().invertSelf().multiplySelf(w)),e=v}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill(e,"evenodd"),this.pendingEOFill=!1):i.fill(e)),(f=this.dependencyTracker)==null||f.recordDependencies(t,so.fill),l&&(i.restore(),(p=this.dependencyTracker)==null||p.restore(t)),n&&this.consumePath(t,e,c)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var n;this.ctx.fill(e),(n=this.dependencyTracker)==null||n.recordDependencies(t,so.rawFillPath).recordOperation(t)}clip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=rG}eoClip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=_N}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(e=this.dependencyTracker)==null||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;e!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",t),i.recordCloseMarker(t)}if(e!==void 0){const i=new Path2D,s=n.getTransform().invertSelf();for(const{transform:A,x:l,y:c,fontSize:h,path:f}of e)f&&i.addPath(f,new DOMMatrix(A).preMultiplySelf(s).translate(l,c).scale(h,-h));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){var p,w;(p=this.dependencyTracker)==null||p.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||vS,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ge("Invalid font matrix for font "+e),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const A=i.loadedName||"sans-serif",l=((w=i.systemFontInfo)==null?void 0:w.css)||`"${A}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const h=i.italic?"italic":"normal";let f=n;n<yN?f=yN:n>bN&&(f=bN),this.current.fontSizeScale=n/f,this.ctx.font=`${h} ${c} ${f}px ${l}`}setTextRenderingMode(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){var e;this.moveText(t,0,this.current.leading),(e=this.dependencyTracker)==null||e.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}paintChar(t,e,n,i,s,A){var S,L,T,k;const l=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,w=f&ms.FILL_STROKE_MASK,v=!!(f&ms.ADD_TO_PATH_FLAG),x=c.patternFill&&!h.missingFile,B=c.patternStroke&&!h.missingFile;let F;if((h.disableFontFace||v||x||B)&&!h.missingFile&&(F=h.getPathGenerator(this.commonObjs,e)),F&&(h.disableFontFace||x||B)){l.save(),l.translate(n,i),l.scale(p,-p),(S=this.dependencyTracker)==null||S.recordCharacterBBox(t,l,h);let R;if(w===ms.FILL||w===ms.FILL_STROKE)if(s){R=l.getTransform(),l.setTransform(...s);const M=P(this,dl,JS).call(this,F,R,s);l.fill(M)}else l.fill(F);if(w===ms.STROKE||w===ms.FILL_STROKE)if(A){R||(R=l.getTransform()),l.setTransform(...A);const{a:M,b:j,c:V,d:et}=R,ut=fe.inverseTransform(A),H=fe.transform([M,j,V,et,0,0],ut);fe.singularValueDecompose2dScale(H,kA),l.lineWidth*=Math.max(kA[0],kA[1])/p,l.stroke(P(this,dl,JS).call(this,F,R,A))}else l.lineWidth/=p,l.stroke(F);l.restore()}else(w===ms.FILL||w===ms.FILL_STROKE)&&(l.fillText(e,n,i),(L=this.dependencyTracker)==null||L.recordCharacterBBox(t,l,h,p,n,i,()=>l.measureText(e))),(w===ms.STROKE||w===ms.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(t,l,h,p,n,i,()=>l.measureText(e)).recordDependencies(t,so.stroke)),l.strokeText(e,n,i));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ki(l),x:n,y:i,fontSize:p,path:F}),(k=this.dependencyTracker)==null||k.recordCharacterBBox(t,l,h,p,n,i))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return nn(this,"isFontSubpixelAAEnabled",n)}showText(t,e){var V,et,ut,H;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,so.showText).resetBBox(t),this.current.textRenderingMode&ms.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(t,e),(V=this.dependencyTracker)==null||V.recordShowTextOperation(t);return}const s=n.fontSize;if(s===0){(et=this.dependencyTracker)==null||et.recordOperation(t);return}const A=this.ctx,l=n.fontSizeScale,c=n.charSpacing,h=n.wordSpacing,f=n.fontDirection,p=n.textHScale*f,w=e.length,v=i.vertical,x=v?1:-1,B=i.defaultVMetrics,F=s*n.fontMatrix[0],S=n.textRenderingMode===ms.FILL&&!i.disableFontFace&&!n.patternFill;A.save(),n.textMatrix&&A.transform(...n.textMatrix),A.translate(n.x,n.y+n.textRise),f>0?A.scale(p,-1):A.scale(p,1);let L,T;if(n.patternFill){A.save();const G=n.fillColor.getPattern(A,this,$l(A),xs.FILL,t);L=Ki(A),A.restore(),A.fillStyle=G}if(n.patternStroke){A.save();const G=n.strokeColor.getPattern(A,this,$l(A),xs.STROKE,t);T=Ki(A),A.restore(),A.strokeStyle=G}let k=n.lineWidth;const R=n.textMatrixScale;if(R===0||k===0){const G=n.textRenderingMode&ms.FILL_STROKE_MASK;(G===ms.STROKE||G===ms.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=R;if(l!==1&&(A.scale(l,l),k/=l),A.lineWidth=k,i.isInvalidPDFjsFont){const G=[];let tt=0;for(const mt of e)G.push(mt.unicode),tt+=mt.width;const it=G.join("");if(A.fillText(it,0,0),this.dependencyTracker!==null){const mt=A.measureText(it);this.dependencyTracker.recordBBox(t,this.ctx,-mt.actualBoundingBoxLeft,mt.actualBoundingBoxRight,-mt.actualBoundingBoxAscent,mt.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=tt*F*p,A.restore(),this.compose();return}let M=0,j;for(j=0;j<w;++j){const G=e[j];if(typeof G=="number"){M+=x*G*s/1e3;continue}let tt=!1;const it=(G.isSpace?h:0)+c,mt=G.fontChar,q=G.accent;let rt,lt,yt=G.width;if(v){const I=G.vmetric||B,X=-(G.vmetric?I[1]:yt*.5)*F,nt=I[2]*F;yt=I?-I[0]:yt,rt=X/l,lt=(M+nt)/l}else rt=M/l,lt=0;let Et;if(i.remeasure&&yt>0){Et=A.measureText(mt);const I=Et.width*1e3/s*l;if(yt<I&&this.isFontSubpixelAAEnabled){const X=yt/I;tt=!0,A.save(),A.scale(X,1),rt/=X}else yt!==I&&(rt+=(yt-I)/2e3*s/l)}if(this.contentVisible&&(G.isInFont||i.missingFile)){if(S&&!q)A.fillText(mt,rt,lt),(ut=this.dependencyTracker)==null||ut.recordCharacterBBox(t,A,Et?{bbox:null}:i,s/l,rt,lt,()=>Et??A.measureText(mt));else if(this.paintChar(t,mt,rt,lt,L,T),q){const I=rt+s*q.offset.x/l,X=lt-s*q.offset.y/l;this.paintChar(t,q.fontChar,I,X,L,T)}}const st=v?yt*F-it*f:yt*F+it*f;M+=st,tt&&A.restore()}v?n.y-=M:n.x+=M*p,A.restore(),this.compose(),(H=this.dependencyTracker)==null||H.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,i=this.current,s=i.font,A=i.fontSize,l=i.fontDirection,c=s.vertical?1:-1,h=i.charSpacing,f=i.wordSpacing,p=i.textHScale*l,w=i.fontMatrix||vS,v=e.length,x=i.textRenderingMode===ms.INVISIBLE;let B,F,S,L;if(x||A===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(p,l);const T=this.dependencyTracker;for(this.dependencyTracker=T?new m5(T,t):null,B=0;B<v;++B){if(F=e[B],typeof F=="number"){L=c*F*A/1e3,this.ctx.translate(L,0),i.x+=L*p;continue}const k=(F.isSpace?f:0)+h,R=s.charProcOperatorList[F.operatorListId];R?this.contentVisible&&(this.save(),n.scale(A,A),n.transform(...w),this.executeOperatorList(R),this.restore()):Ge(`Type3 character "${F.operatorListId}" is not available.`);const M=[F.width,0];fe.applyTransform(M,w),S=M[0]*A+k,n.translate(S,0),i.x+=S*p}n.restore(),T&&(this.dependencyTracker=T)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,i,s,A,l){var h;const c=new Path2D;c.rect(i,s,A-i,l-s),this.ctx.clip(c),(h=this.dependencyTracker)==null||h.recordBBox(t,this.ctx,i,A,s,l).recordClipBox(t,this.ctx,i,A,s,l),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const i=this.baseTransform||Ki(this.ctx),s={createCanvasGraphics:(A,l)=>new T4(A,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new m5(this.dependencyTracker,l,!0):null)};n=new YS(e,this.ctx,s,i)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=$z(this.getObject(t,e)),this.cachedPatterns.set(e,i)),n&&(i.matrix=n),i}shadingFill(t,e){var A;if(!this.contentVisible)return;const n=this.ctx;this.save(t);const i=this._getPattern(t,e);n.fillStyle=i.getPattern(n,this,$l(n),xs.SHADING,t);const s=$l(n);if(s){const{width:l,height:c}=n.canvas,h=tm.slice();fe.axialAlignedBoundingBox([0,0,l,c],s,h);const[f,p,w,v]=h;this.ctx.fillRect(f,p,w-f,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(A=this.dependencyTracker)==null||A.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,so.transform).recordDependencies(t,so.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){ui("Should not call beginInlineImage")}beginImageData(){ui("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){var i;if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Ki(this.ctx),n)){fe.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,A,l,c]=n,h=new Path2D;h.rect(s,A,l-s,c-A),this.ctx.clip(h),(i=this.dependencyTracker)==null||i.recordClipBox(t,this.ctx,s,l,A,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var T;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||lC("TODO: Support non-isolated groups."),e.knockout&&Ge("Knockout groups not supported.");const i=Ki(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=tm.slice();fe.axialAlignedBoundingBox(e.bbox,Ki(n),s);const A=[0,0,n.canvas.width,n.canvas.height];s=fe.intersect(s,A)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-l,1),f=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const w=this.cachedCanvases.getCanvas(p,h,f),v=w.context;v.translate(-l,-c),v.transform(...i);let x=new Path2D;const[B,F,S,L]=e.bbox;if(x.rect(B,F,S-B,L-F),e.matrix){const k=new Path2D;k.addPath(x,new DOMMatrix(e.matrix)),x=k}v.clip(x),e.smask&&this.smaskStack.push({canvas:w.canvas,context:v,offsetX:l,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(l,c),n.save()),Iw(n,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){var s;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const A=Ki(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...A);const l=tm.slice();fe.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],A,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,i,s,A){if(P(this,dl,WS).call(this),sB(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const l=n[2]-n[0],c=n[3]-n[1];if(A&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=c,fe.singularValueDecompose2dScale(Ki(this.ctx),kA);const{viewportScale:h}=this,f=Math.ceil(l*this.outputScaleX*h),p=Math.ceil(c*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:w,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,w),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(kA[0],0,0,-kA[1],0,c*kA[1]),sB(this.ctx)}else{sB(this.ctx),this.endPath(t);const h=new Path2D;h.rect(n[0],n[1],l,c),this.ctx.clip(h)}}this.current=new CN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...i),this.transform(t,...s)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),P(this,dl,$S).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var l;if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const i=this.ctx,s=this._createMaskCanvas(t,e),A=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(A,s.offsetX,s.offsetY),(l=this.dependencyTracker)==null||l.resetBBox(t).recordBBox(t,this.ctx,s.offsetX,s.offsetX+A.width,s.offsetY,s.offsetY+A.height).recordOperation(t),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,i=0,s=0,A,l){var p,w,v;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const c=this.ctx;c.save();const h=Ki(c);c.transform(n,i,s,A,0,0);const f=this._createMaskCanvas(t,e);c.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]),(p=this.dependencyTracker)==null||p.resetBBox(t);for(let x=0,B=l.length;x<B;x+=2){const F=fe.transform(h,[n,i,s,A,l[x],l[x+1]]);c.drawImage(f.canvas,F[4],F[5]),(w=this.dependencyTracker)==null||w.recordBBox(t,this.ctx,F[4],F[4]+f.canvas.width,F[5],F[5]+f.canvas.height)}c.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var A,l,c;if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(A=this.dependencyTracker)==null||A.resetBBox(t).recordDependencies(t,so.transformAndFill);for(const h of e){const{data:f,width:p,height:w,transform:v}=h,x=this.cachedCanvases.getCanvas("maskCanvas",p,w),B=x.context;B.save();const F=this.getObject(t,f,h);EN(B,F),B.globalCompositeOperation="source-in",B.fillStyle=s?i.getPattern(B,this,$l(n),xs.FILL,t):i,B.fillRect(0,0,p,w),B.restore(),n.save(),n.transform(...v),n.scale(1,-1),rB(n,x.canvas,0,0,p,w,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(t,n,0,p,0,w),n.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){Ge("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,i,s){if(!this.contentVisible)return;const A=this.getObject(t,e);if(!A){Ge("Dependent image isn't ready yet");return}const l=A.width,c=A.height,h=[];for(let f=0,p=s.length;f<p;f+=2)h.push({transform:[n,0,0,i,s[f],s[f+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(t,A,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:i}=t,s=this.cachedCanvases.getCanvas("inlineImage",n,i),A=s.context;return A.filter=this.current.transferMaps,A.drawImage(e,0,0),A.filter="none",s.canvas}paintInlineImageXObject(t,e){var h;if(!this.contentVisible)return;const n=e.width,i=e.height,s=this.ctx;this.save(t);const{filter:A}=s;A!=="none"&&A!==""&&(s.filter="none"),s.scale(1/n,-1/i);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,i).context;xN(p,e),l=this.applyTransferMapsToCanvas(p)}const c=this._scaleImage(l,$l(s));s.imageSmoothingEnabled=SN(Ki(s),e.interpolate),(h=this.dependencyTracker)==null||h.resetBBox(t).recordBBox(t,s,0,n,-i,0).recordDependencies(t,so.imageXObject).recordOperation(t),rB(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,n,i),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){var A,l,c;if(!this.contentVisible)return;const i=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const h=e.width,f=e.height,w=this.cachedCanvases.getCanvas("inlineImage",h,f).context;xN(w,e),s=this.applyTransferMapsToCanvas(w)}(A=this.dependencyTracker)==null||A.resetBBox(t);for(const h of n)i.save(),i.transform(...h.transform),i.scale(1,-1),rB(i,s,h.x,h.y,h.w,h.h,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(t,i,0,1,-1,0),i.restore();(c=this.dependencyTracker)==null||c.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&((e=this.dependencyTracker)==null||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,so.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;(e=this.dependencyTracker)==null||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){var A,l;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===_N?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null,(A=this.dependencyTracker)==null||A.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):(l=this.dependencyTracker)==null||l.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Ki(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:s}=this.ctx.getTransform();let A,l;if(n===0&&i===0){const c=Math.abs(e),h=Math.abs(s);if(c===h)if(t===0)A=l=1/c;else{const f=c*t;A=l=f<1?1/f:1}else if(t===0)A=1/c,l=1/h;else{const f=c*t,p=h*t;A=f<1?1/f:1,l=p<1?1/p:1}}else{const c=Math.abs(e*s-n*i),h=Math.hypot(e,n),f=Math.hypot(i,s);if(t===0)A=f/c,l=h/c;else{const p=t*c;A=f>p?f/p:1,l=h>p?h/p:1}}this._cachedScaleForStroking[0]=A,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:i}}=this,[s,A]=this.getScaleForStroking();if(s===A){n.lineWidth=(i||1)*s,n.stroke(t);return}const l=n.getLineDash();e&&n.save(),n.scale(s,A),CE.a=1/s,CE.d=1/A;const c=new Path2D;if(c.addPath(t,CE),l.length>0){const h=Math.max(s,A);n.setLineDash(l.map(f=>f/h)),n.lineDashOffset/=h}n.lineWidth=i||1,n.stroke(c),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};dl=new WeakSet,WS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$S=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},JS=function(t,e,n){const i=new Path2D;return i.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),i};let um=T4;for(const r in Nv)um.prototype[r]!==void 0&&(um.prototype[Nv[r]]=um.prototype[r]);var Mm,Hm,hy,Pm,SB;const nm=class nm{constructor(t){O(this,Pm);O(this,Mm);O(this,Hm);O(this,hy);N(this,Mm,t),N(this,Hm,new DataView(d(this,Mm))),N(this,hy,new TextDecoder)}static write(t){const e=new TextEncoder,n={};let i=0;for(const h of nm.strings){const f=e.encode(t[h]);n[h]=f,i+=4+f.length}const s=new ArrayBuffer(i),A=new Uint8Array(s),l=new DataView(s);let c=0;for(const h of nm.strings){const f=n[h],p=f.length;l.setUint32(c,p),A.set(f,c+4),c+=4+p}return Cn(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return P(this,Pm,SB).call(this,0)}get fontWeight(){return P(this,Pm,SB).call(this,1)}get italicAngle(){return P(this,Pm,SB).call(this,2)}};Mm=new WeakMap,Hm=new WeakMap,hy=new WeakMap,Pm=new WeakSet,SB=function(t){Cn(t<nm.strings.length,"Invalid string index");let e=0;for(let i=0;i<t;i++)e+=d(this,Hm).getUint32(e)+4;const n=d(this,Hm).getUint32(e);return d(this,hy).decode(new Uint8Array(d(this,Mm),e+4,n))},Wt(nm,"strings",["fontFamily","fontWeight","italicAngle"]);let w5=nm;var Ed,hc,kg,Og,rv;const im=class im{constructor(t){O(this,Og);O(this,Ed);O(this,hc);O(this,kg);N(this,Ed,t),N(this,hc,new DataView(d(this,Ed))),N(this,kg,new TextDecoder)}static write(t){const e=new TextEncoder,n={};let i=0;for(const w of im.strings){const v=e.encode(t[w]);n[w]=v,i+=4+v.length}i+=4;let s,A,l=1+i;t.style&&(s=e.encode(t.style.style),A=e.encode(t.style.weight),l+=4+s.length+4+A.length);const c=new ArrayBuffer(l),h=new Uint8Array(c),f=new DataView(c);let p=0;f.setUint8(p++,t.guessFallback?1:0),f.setUint32(p,0),p+=4,i=0;for(const w of im.strings){const v=n[w],x=v.length;i+=4+x,f.setUint32(p,x),h.set(v,p+4),p+=4+x}return f.setUint32(p-i-4,i),t.style&&(f.setUint32(p,s.length),h.set(s,p+4),p+=4+s.length,f.setUint32(p,A.length),h.set(A,p+4),p+=4+A.length),Cn(p<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(p)}get guessFallback(){return d(this,hc).getUint8(0)!==0}get css(){return P(this,Og,rv).call(this,0)}get loadedName(){return P(this,Og,rv).call(this,1)}get baseFontName(){return P(this,Og,rv).call(this,2)}get src(){return P(this,Og,rv).call(this,3)}get style(){let t=1;t+=4+d(this,hc).getUint32(t);const e=d(this,hc).getUint32(t),n=d(this,kg).decode(new Uint8Array(d(this,Ed),t+4,e));t+=4+e;const i=d(this,hc).getUint32(t),s=d(this,kg).decode(new Uint8Array(d(this,Ed),t+4,i));return{style:n,weight:s}}};Ed=new WeakMap,hc=new WeakMap,kg=new WeakMap,Og=new WeakSet,rv=function(t){Cn(t<im.strings.length,"Invalid string index");let e=5;for(let i=0;i<t;i++)e+=d(this,hc).getUint32(e)+4;const n=d(this,hc).getUint32(e);return d(this,kg).decode(new Uint8Array(d(this,Ed),e+4,n))},Wt(im,"strings",["css","loadedName","baseFontName","src"]);let v5=im;var jm,Km,zm,Gm,bA,dc,dy,Jn,tr,Xo,_B,sv;const Ye=class Ye{constructor({data:t,extra:e}){O(this,tr);O(this,dc);O(this,dy);O(this,Jn);N(this,dc,t),N(this,dy,new TextDecoder),N(this,Jn,new DataView(d(this,dc))),e&&Object.assign(this,e)}get black(){return P(this,tr,Xo).call(this,0)}get bold(){return P(this,tr,Xo).call(this,1)}get disableFontFace(){return P(this,tr,Xo).call(this,2)}get fontExtraProperties(){return P(this,tr,Xo).call(this,3)}get isInvalidPDFjsFont(){return P(this,tr,Xo).call(this,4)}get isType3Font(){return P(this,tr,Xo).call(this,5)}get italic(){return P(this,tr,Xo).call(this,6)}get missingFile(){return P(this,tr,Xo).call(this,7)}get remeasure(){return P(this,tr,Xo).call(this,8)}get vertical(){return P(this,tr,Xo).call(this,9)}get ascent(){return P(this,tr,_B).call(this,0)}get defaultWidth(){return P(this,tr,_B).call(this,1)}get descent(){return P(this,tr,_B).call(this,2)}get bbox(){let t=d(Ye,Km);if(d(this,Jn).getUint8(t)===0)return;t+=1;const n=[];for(let i=0;i<4;i++)n.push(d(this,Jn).getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=d(Ye,zm);if(d(this,Jn).getUint8(t)===0)return;t+=1;const n=[];for(let i=0;i<6;i++)n.push(d(this,Jn).getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=d(Ye,Gm);if(d(this,Jn).getUint8(t)===0)return;t+=1;const n=[];for(let i=0;i<3;i++)n.push(d(this,Jn).getInt16(t,!0)),t+=2;return n}get fallbackName(){return P(this,tr,sv).call(this,0)}get loadedName(){return P(this,tr,sv).call(this,1)}get mimetype(){return P(this,tr,sv).call(this,2)}get name(){return P(this,tr,sv).call(this,3)}get data(){let t=d(Ye,bA);const e=d(this,Jn).getUint32(t);t+=4+e;const n=d(this,Jn).getUint32(t);t+=4+n;const i=d(this,Jn).getUint32(t);t+=4+i;const s=d(this,Jn).getUint32(t);if(s!==0)return new Uint8Array(d(this,dc),t+4,s)}clearData(){let t=d(Ye,bA);const e=d(this,Jn).getUint32(t);t+=4+e;const n=d(this,Jn).getUint32(t);t+=4+n;const i=d(this,Jn).getUint32(t);t+=4+i;const s=d(this,Jn).getUint32(t);new Uint8Array(d(this,dc),t+4,s).fill(0),d(this,Jn).setUint32(t,0)}get cssFontInfo(){let t=d(Ye,bA);const e=d(this,Jn).getUint32(t);t+=4+e;const n=d(this,Jn).getUint32(t);t+=4+n;const i=d(this,Jn).getUint32(t);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(d(this,dc),t+4,i)),new w5(s.buffer)}get systemFontInfo(){let t=d(Ye,bA);const e=d(this,Jn).getUint32(t);t+=4+e;const n=d(this,Jn).getUint32(t);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(d(this,dc),t+4,n)),new v5(i.buffer)}static write(t){const e=t.systemFontInfo?v5.write(t.systemFontInfo):null,n=t.cssFontInfo?w5.write(t.cssFontInfo):null,i=new TextEncoder,s={};let A=0;for(const B of Ye.strings)s[B]=i.encode(t[B]),A+=4+s[B].length;const l=d(Ye,bA)+4+A+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),c=new ArrayBuffer(l),h=new Uint8Array(c),f=new DataView(c);let p=0;const w=Ye.bools.length;let v=0,x=0;for(let B=0;B<w;B++){const F=t[Ye.bools[B]];v|=(F===void 0?0:F?2:1)<<x,x+=2,(x===8||B===w-1)&&(f.setUint8(p++,v),v=0,x=0)}Cn(p===d(Ye,jm),"FontInfo.write: Boolean properties offset mismatch");for(const B of Ye.numbers)f.setFloat64(p,t[B]),p+=8;if(Cn(p===d(Ye,Km),"FontInfo.write: Number properties offset mismatch"),t.bbox){f.setUint8(p++,4);for(const B of t.bbox)f.setInt16(p,B,!0),p+=2}else f.setUint8(p++,0),p+=8;if(Cn(p===d(Ye,zm),"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){f.setUint8(p++,6);for(const B of t.fontMatrix)f.setFloat64(p,B,!0),p+=8}else f.setUint8(p++,0),p+=48;if(Cn(p===d(Ye,Gm),"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){f.setUint8(p++,1);for(const B of t.defaultVMetrics)f.setInt16(p,B,!0),p+=2}else f.setUint8(p++,0),p+=6;Cn(p===d(Ye,bA),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(d(Ye,bA),0),p+=4;for(const B of Ye.strings){const F=s[B],S=F.length;f.setUint32(p,S),h.set(F,p+4),p+=4+S}if(f.setUint32(d(Ye,bA),p-d(Ye,bA)-4),!e)f.setUint32(p,0),p+=4;else{const B=e.byteLength;f.setUint32(p,B),Cn(p+4+B<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),h.set(new Uint8Array(e),p+4),p+=4+B}if(!n)f.setUint32(p,0),p+=4;else{const B=n.byteLength;f.setUint32(p,B),Cn(p+4+B<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),h.set(new Uint8Array(n),p+4),p+=4+B}return t.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,t.data.length),h.set(t.data,p+4),p+=4+t.data.length),Cn(p<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(p)}};jm=new WeakMap,Km=new WeakMap,zm=new WeakMap,Gm=new WeakMap,bA=new WeakMap,dc=new WeakMap,dy=new WeakMap,Jn=new WeakMap,tr=new WeakSet,Xo=function(t){Cn(t<Ye.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,i=d(this,Jn).getUint8(e)>>n&3;return i===0?void 0:i===2},_B=function(t){return Cn(t<Ye.numbers.length,"Invalid number index"),d(this,Jn).getFloat64(d(Ye,jm)+t*8)},sv=function(t){Cn(t<Ye.strings.length,"Invalid string index");let e=d(Ye,bA)+4;for(let s=0;s<t;s++)e+=d(this,Jn).getUint32(e)+4;const n=d(this,Jn).getUint32(e),i=new Uint8Array(n);return i.set(new Uint8Array(d(this,dc),e+4,n)),d(this,dy).decode(i)},Wt(Ye,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Wt(Ye,"numbers",["ascent","defaultWidth","descent"]),Wt(Ye,"strings",["fallbackName","loadedName","mimetype","name"]),O(Ye,jm,Math.ceil(Ye.bools.length*2/8)),O(Ye,Km,d(Ye,jm)+Ye.numbers.length*8),O(Ye,zm,d(Ye,Km)+1+8),O(Ye,Gm,d(Ye,zm)+1+48),O(Ye,bA,d(Ye,Gm)+1+6);let ZS=Ye;var fy,gy;class ul{static get workerPort(){return d(this,fy)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");N(this,fy,t)}static get workerSrc(){return d(this,gy)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");N(this,gy,t)}}fy=new WeakMap,gy=new WeakMap,O(ul,fy,null),O(ul,gy,"");var Vm,py;class sG{constructor({parsedData:t,rawData:e}){O(this,Vm);O(this,py);N(this,Vm,t),N(this,py,e)}getRaw(){return d(this,py)}get(t){return d(this,Vm).get(t)??null}[Symbol.iterator](){return d(this,Vm).entries()}}Vm=new WeakMap,py=new WeakMap;const Y0=Symbol("INTERNAL");var my,wy,vy,qm;class aG{constructor(t,{name:e,intent:n,usage:i,rbGroups:s}){O(this,my,!1);O(this,wy,!1);O(this,vy,!1);O(this,qm,!0);N(this,my,!!(t&DA.DISPLAY)),N(this,wy,!!(t&DA.PRINT)),this.name=e,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(d(this,vy))return d(this,qm);if(!d(this,qm))return!1;const{print:t,view:e}=this.usage;return d(this,my)?(e==null?void 0:e.viewState)!=="OFF":d(this,wy)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==Y0&&ui("Internal method `_setVisible` called."),N(this,vy,n),N(this,qm,e)}}my=new WeakMap,wy=new WeakMap,vy=new WeakMap,qm=new WeakMap;var Sd,Zn,Xm,Ym,yy,t_;class AG{constructor(t,e=DA.DISPLAY){O(this,yy);O(this,Sd,null);O(this,Zn,new Map);O(this,Xm,null);O(this,Ym,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,N(this,Ym,t.order);for(const n of t.groups)d(this,Zn).set(n.id,new aG(e,n));if(t.baseState==="OFF")for(const n of d(this,Zn).values())n._setVisible(Y0,!1);for(const n of t.on)d(this,Zn).get(n)._setVisible(Y0,!0);for(const n of t.off)d(this,Zn).get(n)._setVisible(Y0,!1);N(this,Xm,this.getHash())}}isVisible(t){if(d(this,Zn).size===0)return!0;if(!t)return lC("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,Zn).has(t.id)?d(this,Zn).get(t.id).visible:(Ge(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return P(this,yy,t_).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,Zn).has(e))return Ge(`Optional content group not found: ${e}`),!0;if(d(this,Zn).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,Zn).has(e))return Ge(`Optional content group not found: ${e}`),!0;if(!d(this,Zn).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,Zn).has(e))return Ge(`Optional content group not found: ${e}`),!0;if(!d(this,Zn).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,Zn).has(e))return Ge(`Optional content group not found: ${e}`),!0;if(d(this,Zn).get(e).visible)return!1}return!0}return Ge(`Unknown optional content policy ${t.policy}.`),!0}return Ge(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var s;const i=d(this,Zn).get(t);if(!i){Ge(`Optional content group not found: ${t}`);return}if(n&&e&&i.rbGroups.length)for(const A of i.rbGroups)for(const l of A)l!==t&&((s=d(this,Zn).get(l))==null||s._setVisible(Y0,!1,!0));i._setVisible(Y0,!!e,!0),N(this,Sd,null)}setOCGState({state:t,preserveRB:e}){let n;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=d(this,Zn).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,e);break;case"OFF":this.setVisibility(i,!1,e);break;case"Toggle":this.setVisibility(i,!s.visible,e);break}}N(this,Sd,null)}get hasInitialVisibility(){return d(this,Xm)===null||this.getHash()===d(this,Xm)}getOrder(){return d(this,Zn).size?d(this,Ym)?d(this,Ym).slice():[...d(this,Zn).keys()]:null}getGroup(t){return d(this,Zn).get(t)||null}getHash(){if(d(this,Sd)!==null)return d(this,Sd);const t=new VI;for(const[e,n]of d(this,Zn))t.update(`${e}:${n.visible}`);return N(this,Sd,t.hexdigest())}[Symbol.iterator](){return d(this,Zn).entries()}}Sd=new WeakMap,Zn=new WeakMap,Xm=new WeakMap,Ym=new WeakMap,yy=new WeakSet,t_=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const s=t[i];let A;if(Array.isArray(s))A=P(this,yy,t_).call(this,s);else if(d(this,Zn).has(s))A=d(this,Zn).get(s).visible;else return Ge(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!A)return!1;break;case"Or":if(A)return!0;break;case"Not":return!A;default:return!0}}return n==="And"};class oG{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Cn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:A,contentDispositionFilename:l}=t;if(this._queuedChunks=[],this._progressiveDone=A,this._contentDispositionFilename=l,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((c,h)=>{this._onReceiveData({begin:c,chunk:h})}),t.addProgressListener((c,h)=>{this._onProgress({loaded:c,total:h})}),t.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(n),!0)});Cn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,i,s;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Cn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new lG(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new cG(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class lG{constructor(t,e,n=!1,i=null){this._stream=t,this._done=n||!1,this._filename=y4(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class cG{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function uG(r){let t=!0,e=n("filename\\*","i").exec(r);if(e){e=e[1];let f=l(e);return f=unescape(f),f=c(f),f=h(f),s(f)}if(e=A(r),e){const f=h(e);return s(f)}if(e=n("filename","i").exec(r),e){e=e[1];let f=l(e);return f=h(f),s(f)}function n(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const w=new TextDecoder(f,{fatal:!0}),v=vb(p);p=w.decode(v),t=!1}catch{}}return p}function s(f){return t&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),t&&(f=i("iso-8859-1",f))),f}function A(f){const p=[];let w;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(w=v.exec(f))!==null;){let[,B,F,S]=w;if(B=parseInt(B,10),B in p){if(B===0)break;continue}p[B]=[F,S]}const x=[];for(let B=0;B<p.length&&B in p;++B){let[F,S]=p[B];S=l(S),F&&(S=unescape(S),B===0&&(S=c(S))),x.push(S)}return x.join("")}function l(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let w=0;w<p.length;++w){const v=p[w].indexOf('"');v!==-1&&(p[w]=p[w].slice(0,v),p.length=w+1),p[w]=p[w].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function c(f){const p=f.indexOf("'");if(p===-1)return f;const w=f.slice(0,p),x=f.slice(p+1).replace(/^[^']*'/,"");return i(w,x)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,w,v,x){if(v==="q"||v==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(B,F){return String.fromCharCode(parseInt(F,16))}),i(w,x);try{x=atob(x)}catch{}return i(w,x)})}return""}function r6(r,t){const e=new Headers;if(!r||!t||typeof t!="object")return e;for(const n in t){const i=t[n];i!==void 0&&e.append(n,i)}return e}function uC(r){var t;return((t=URL.parse(r))==null?void 0:t.origin)??null}function s6({responseHeaders:r,isHttp:t,rangeChunkSize:e,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*e)||n||!t||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function a6(r){const t=r.get("Content-Disposition");if(t){let e=uG(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(y4(e))return e}return null}function xb(r,t){return new d5(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r,r===404||r===0&&t.startsWith("file:"))}function A6(r){return r===200||r===206}function o6(r,t,e){return{method:"GET",headers:r,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function l6(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Ge(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class hG{constructor(t){Wt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=r6(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Cn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new dG(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new fG(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class dG{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,o6(n,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=uC(s.url),!A6(s.status))throw xb(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const A=s.headers,{allowRangeRequests:l,suggestedLength:c}=s6({responseHeaders:A,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=a6(A),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new uf("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:l6(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class fG{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range",`bytes=${e}-${n-1}`);const A=i.url;fetch(A,o6(s,this._withCredentials,this._abortController)).then(l=>{const c=uC(l.url);if(c!==t._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${t._responseOrigin}".`);if(!A6(l.status))throw xb(l.status,A);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:l6(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const xE=200,EE=206;function gG(r){const t=r.response;return typeof t!="string"?t:vb(t).buffer}class pG{constructor({url:t,httpHeaders:e,withCredentials:n}){Wt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=r6(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,A]of this.headers)e.setRequestHeader(s,A);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=EE):i.expectedStatus=xE,e.responseType="arraybuffer",Cn(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var i;const n=this.pendingRequests[t];n&&((i=n.onProgress)==null||i.call(n,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||xE;if(!(s===xE&&n.expectedStatus===EE)&&s!==n.expectedStatus){n.onError(i.status);return}const l=gG(i);if(s===EE){const c=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);h?n.onDone({begin:parseInt(h[1],10),chunk:l}):(Ge('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class mG{constructor(t){this._source=t,this._manager=new pG(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Cn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new wG(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new vG(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class wG{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=uC(e.responseURL);const n=e.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...h]=l.split(": ");return[c,h.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:A}=s6({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=A||this._contentLength,this._filename=a6(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=xb(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class vG{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=uC((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=xb(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const yG=/^[a-z][a-z0-9\-+.]+:/i;function bG(r){if(yG.test(r))return new URL(r);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(r))}class BG{constructor(t){this.source=t,this.url=bG(t.url),Cn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Cn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new CG(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new xG(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class CG{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=xb(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new uf("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class xG{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Dw=Symbol("INITIAL_DATA");var BA,by,e_;class c6{constructor(){O(this,by);O(this,BA,Object.create(null))}get(t,e=null){if(e){const i=P(this,by,e_).call(this,t);return i.promise.then(()=>e(i.data)),null}const n=d(this,BA)[t];if(!n||n.data===Dw)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=d(this,BA)[t];return!!e&&e.data!==Dw}delete(t){const e=d(this,BA)[t];return!e||e.data===Dw?!1:(delete d(this,BA)[t],!0)}resolve(t,e=null){const n=P(this,by,e_).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in d(this,BA)){const{data:n}=d(this,BA)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}N(this,BA,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,BA)){const{data:e}=d(this,BA)[t];e!==Dw&&(yield[t,e])}}}BA=new WeakMap,by=new WeakSet,e_=function(t){var e;return(e=d(this,BA))[t]||(e[t]={...Promise.withResolvers(),data:Dw})};const EG=1e5,FN=30;var TN,_d,Xa,By,Cy,Rg,Du,xy,Ey,Mg,Wm,$m,Fd,Jm,Sy,Zm,Hg,_y,Fy,t1,Pg,Uy,Ud,e1,sh,u6,h6,n_,PA,FB,i_,d6,f6;const kr=class kr{constructor({textContentSource:t,container:e,viewport:n}){O(this,sh);O(this,_d,Promise.withResolvers());O(this,Xa,null);O(this,By,!1);O(this,Cy,!!((TN=globalThis.FontInspector)!=null&&TN.enabled));O(this,Rg,null);O(this,Du,null);O(this,xy,0);O(this,Ey,0);O(this,Mg,null);O(this,Wm,null);O(this,$m,0);O(this,Fd,0);O(this,Jm,Object.create(null));O(this,Sy,[]);O(this,Zm,null);O(this,Hg,[]);O(this,_y,new WeakMap);O(this,Fy,null);var c;if(t instanceof ReadableStream)N(this,Zm,t);else if(typeof t=="object")N(this,Zm,new ReadableStream({start(h){h.enqueue(t),h.close()}}));else throw new Error('No "textContentSource" parameter specified.');N(this,Xa,N(this,Wm,e)),N(this,Fd,n.scale*Sc.pixelRatio),N(this,$m,n.rotation),N(this,Du,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:A,pageY:l}=n.rawDims;N(this,Fy,[1,0,0,-1,-A,l+s]),N(this,Ey,i),N(this,xy,s),P(c=kr,PA,d6).call(c),Ep(e,n),d(this,_d).promise.finally(()=>{d(kr,e1).delete(this),N(this,Du,null),N(this,Jm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Fs.platform;return nn(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,Mg).read().then(({value:e,done:n})=>{if(n){d(this,_d).resolve();return}d(this,Rg)??N(this,Rg,e.lang),Object.assign(d(this,Jm),e.styles),P(this,sh,u6).call(this,e.items),t()},d(this,_d).reject)};return N(this,Mg,d(this,Zm).getReader()),d(kr,e1).add(this),t(),d(this,_d).promise}update({viewport:t,onBefore:e=null}){var s;const n=t.scale*Sc.pixelRatio,i=t.rotation;if(i!==d(this,$m)&&(e==null||e(),N(this,$m,i),Ep(d(this,Wm),{rotation:i})),n!==d(this,Fd)){e==null||e(),N(this,Fd,n);const A={div:null,properties:null,ctx:P(s=kr,PA,FB).call(s,d(this,Rg))};for(const l of d(this,Hg))A.properties=d(this,_y).get(l),A.div=l,P(this,sh,n_).call(this,A)}}cancel(){var e;const t=new uf("TextLayer task cancelled.");(e=d(this,Mg))==null||e.cancel(t).catch(()=>{}),N(this,Mg,null),d(this,_d).reject(t)}get textDivs(){return d(this,Hg)}get textContentItemsStr(){return d(this,Sy)}static cleanup(){if(!(d(this,e1).size>0)){d(this,t1).clear();for(const{canvas:t}of d(this,Pg).values())t.remove();d(this,Pg).clear()}}};_d=new WeakMap,Xa=new WeakMap,By=new WeakMap,Cy=new WeakMap,Rg=new WeakMap,Du=new WeakMap,xy=new WeakMap,Ey=new WeakMap,Mg=new WeakMap,Wm=new WeakMap,$m=new WeakMap,Fd=new WeakMap,Jm=new WeakMap,Sy=new WeakMap,Zm=new WeakMap,Hg=new WeakMap,_y=new WeakMap,Fy=new WeakMap,t1=new WeakMap,Pg=new WeakMap,Uy=new WeakMap,Ud=new WeakMap,e1=new WeakMap,sh=new WeakSet,u6=function(t){var i,s;if(d(this,By))return;(s=d(this,Du)).ctx??(s.ctx=P(i=kr,PA,FB).call(i,d(this,Rg)));const e=d(this,Hg),n=d(this,Sy);for(const A of t){if(e.length>EG){Ge("Ignoring additional textDivs for performance reasons."),N(this,By,!0);return}if(A.str===void 0){if(A.type==="beginMarkedContentProps"||A.type==="beginMarkedContent"){const l=d(this,Xa);N(this,Xa,document.createElement("span")),d(this,Xa).classList.add("markedContent"),A.id&&d(this,Xa).setAttribute("id",`${A.id}`),l.append(d(this,Xa))}else A.type==="endMarkedContent"&&N(this,Xa,d(this,Xa).parentNode);continue}n.push(A.str),P(this,sh,h6).call(this,A)}},h6=function(t){var B;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,Hg).push(e);const i=fe.transform(d(this,Fy),t.transform);let s=Math.atan2(i[1],i[0]);const A=d(this,Jm)[t.fontName];A.vertical&&(s+=Math.PI/2);let l=d(this,Cy)&&A.fontSubstitution||A.fontFamily;l=kr.fontFamilyMap.get(l)||l;const c=Math.hypot(i[2],i[3]),h=c*P(B=kr,PA,f6).call(B,l,A,d(this,Rg));let f,p;s===0?(f=i[4],p=i[5]-h):(f=i[4]+h*Math.sin(s),p=i[5]-h*Math.cos(s));const w="calc(var(--total-scale-factor) *",v=e.style;d(this,Xa)===d(this,Wm)?(v.left=`${(100*f/d(this,Ey)).toFixed(2)}%`,v.top=`${(100*p/d(this,xy)).toFixed(2)}%`):(v.left=`${w}${f.toFixed(2)}px)`,v.top=`${w}${p.toFixed(2)}px)`),v.fontSize=`${w}${(d(kr,Ud)*c).toFixed(2)}px)`,v.fontFamily=l,n.fontSize=c,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,Cy)&&(e.dataset.fontName=A.fontSubstitutionLoadedName||t.fontName),s!==0&&(n.angle=s*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const F=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);F!==S&&Math.max(F,S)/Math.min(F,S)>1.5&&(x=!0)}if(x&&(n.canvasWidth=A.vertical?t.height:t.width),d(this,_y).set(e,n),d(this,Du).div=e,d(this,Du).properties=n,P(this,sh,n_).call(this,d(this,Du)),n.hasText&&d(this,Xa).append(e),n.hasEOL){const F=document.createElement("br");F.setAttribute("role","presentation"),d(this,Xa).append(F)}},n_=function(t){var l;const{div:e,properties:n,ctx:i}=t,{style:s}=e;let A="";if(d(kr,Ud)>1&&(A=`scale(${1/d(kr,Ud)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=s,{canvasWidth:h,fontSize:f}=n;P(l=kr,PA,i_).call(l,i,f*d(this,Fd),c);const{width:p}=i.measureText(e.textContent);p>0&&(A=`scaleX(${h*d(this,Fd)/p}) ${A}`)}n.angle!==0&&(A=`rotate(${n.angle}deg) ${A}`),A.length>0&&(s.transform=A)},PA=new WeakSet,FB=function(t=null){let e=d(this,Pg).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,Pg).set(t,e),d(this,Uy).set(e,{size:0,family:""})}return e},i_=function(t,e,n){const i=d(this,Uy).get(t);e===i.size&&n===i.family||(t.font=`${e}px ${n}`,i.size=e,i.family=n)},d6=function(){if(d(this,Ud)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),N(this,Ud,t.getBoundingClientRect().height),t.remove()},f6=function(t,e,n){const i=d(this,t1).get(t);if(i)return i;const s=P(this,PA,FB).call(this,n);s.canvas.width=s.canvas.height=FN,P(this,PA,i_).call(this,s,FN,t);const A=s.measureText(""),l=A.fontBoundingBoxAscent,c=Math.abs(A.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let h=.8;return l?h=l/(l+c):(Fs.platform.isFirefox&&Ge("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?h=e.ascent:e.descent&&(h=1+e.descent)),d(this,t1).set(t,h),h},O(kr,PA),O(kr,t1,new Map),O(kr,Pg,new Map),O(kr,Uy,new WeakMap),O(kr,Ud,null),O(kr,e1,new Set);let Qv=kr;const SG=100;function x4(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new r_,{docId:e}=t,n=r.url?Qz(r.url):null,i=r.data?Iz(r.data):null,s=r.httpHeaders||null,A=r.withCredentials===!0,l=r.password??null,c=r.range instanceof g6?r.range:null,h=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let f=r.worker instanceof Iv?r.worker:null;const p=r.verbosity,w=typeof r.docBaseUrl=="string"&&!cC(r.docBaseUrl)?r.docBaseUrl:null,v=tB(r.cMapUrl),x=r.cMapPacked!==!1,B=r.CMapReaderFactory||(da?jz:fN),F=tB(r.iccUrl),S=tB(r.standardFontDataUrl),L=r.StandardFontDataFactory||(da?Kz:gN),T=tB(r.wasmUrl),k=r.WasmFactory||(da?zz:pN),R=r.stopAtErrors!==!0,M=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,j=r.isEvalSupported!==!1,V=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!da,et=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!da&&(Fs.platform.isFirefox||!globalThis.chrome),ut=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,H=typeof r.disableFontFace=="boolean"?r.disableFontFace:da,G=r.fontExtraProperties===!0,tt=r.enableXfa===!0,it=r.ownerDocument||globalThis.document,mt=r.disableRange===!0,q=r.disableStream===!0,rt=r.disableAutoFetch===!0,lt=r.pdfBug===!0,yt=r.CanvasFactory||(da?Pz:Rz),Et=r.FilterFactory||(da?Hz:Mz),st=r.enableHWA===!0,I=r.useWasm!==!1,X=c?c.length:r.length??NaN,nt=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!da&&!H,at=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(B===fN&&L===gN&&k===pN&&v&&S&&T&&qw(v,document.baseURI)&&qw(S,document.baseURI)&&qw(T,document.baseURI)),ht=null;Az(p);const gt={canvasFactory:new yt({ownerDocument:it,enableHWA:st}),filterFactory:new Et({docId:e,ownerDocument:it}),cMapReaderFactory:at?null:new B({baseUrl:v,isCompressed:x}),standardFontDataFactory:at?null:new L({baseUrl:S}),wasmFactory:at?null:new k({baseUrl:T})};f||(f=Iv.create({verbosity:p,port:ul.workerPort}),t._worker=f);const ft={docId:e,apiVersion:"5.4.296",data:i,password:l,disableAutoFetch:rt,rangeChunkSize:h,length:X,docBaseUrl:w,enableXfa:tt,evaluatorOptions:{maxImageSize:M,disableFontFace:H,ignoreErrors:R,isEvalSupported:j,isOffscreenCanvasSupported:V,isImageDecoderSupported:et,canvasMaxAreaInBytes:ut,fontExtraProperties:G,useSystemFonts:nt,useWasm:I,useWorkerFetch:at,cMapUrl:v,iccUrl:F,standardFontDataUrl:S,wasmUrl:T}},Ct={ownerDocument:it,pdfBug:lt,styleElement:ht,loadingParams:{disableAutoFetch:rt,enableXfa:tt}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const qt=f.messageHandler.sendWithPromise("GetDocRequest",ft,i?[i.buffer]:null);let jt;if(c)jt=new oG(c,{disableRange:mt,disableStream:q});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Zt=qw(n)?hG:da?BG:mG;jt=new Zt({url:n,length:X,httpHeaders:s,withCredentials:A,rangeChunkSize:h,disableRange:mt,disableStream:q})}return qt.then(Zt=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const $t=new Zw(e,Zt,f.port),Gt=new UG($t,t,jt,Ct,gt,st);t._transport=Gt,$t.send("Ready",null)})}).catch(t._capability.reject),t}var D5;const k5=class k5{constructor(){Wt(this,"_capability",Promise.withResolvers());Wt(this,"_transport",null);Wt(this,"_worker",null);Wt(this,"docId",`d${Ir(k5,D5)._++}`);Wt(this,"destroyed",!1);Wt(this,"onPassword",null);Wt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,n,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};D5=new WeakMap,O(k5,D5,0);let r_=k5;var jg,Ly,Ny,Ty,Qy;class g6{constructor(t,e,n=!1,i=null){O(this,jg,Promise.withResolvers());O(this,Ly,[]);O(this,Ny,[]);O(this,Ty,[]);O(this,Qy,[]);this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(t){d(this,Qy).push(t)}addProgressListener(t){d(this,Ty).push(t)}addProgressiveReadListener(t){d(this,Ny).push(t)}addProgressiveDoneListener(t){d(this,Ly).push(t)}onDataRange(t,e){for(const n of d(this,Qy))n(t,e)}onDataProgress(t,e){d(this,jg).promise.then(()=>{for(const n of d(this,Ty))n(t,e)})}onDataProgressiveRead(t){d(this,jg).promise.then(()=>{for(const e of d(this,Ny))e(t)})}onDataProgressiveDone(){d(this,jg).promise.then(()=>{for(const t of d(this,Ly))t()})}transportReady(){d(this,jg).resolve()}requestDataRange(t,e){ui("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}jg=new WeakMap,Ly=new WeakMap,Ny=new WeakMap,Ty=new WeakMap,Qy=new WeakMap;class _G{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return nn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ku,Kg,av;class FG{constructor(t,e,n,i=!1){O(this,Kg);O(this,ku,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new AN:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new c6,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new bb({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return nn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:i="display",annotationMode:s=sd.ENABLE,transform:A=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:w=!1,recordOperations:v=!1,operationsFilter:x=null}){var et,ut,H;(et=this._stats)==null||et.time("Overall");const B=this._transport.getRenderingIntent(i,s,p,w),{renderingIntent:F,cacheKey:S}=B;N(this,ku,!1),c||(c=this._transport.getOptionalContentConfig(F));let L=this._intentStates.get(S);L||(L=Object.create(null),this._intentStates.set(S,L)),L.streamReaderCancelTimeout&&(clearTimeout(L.streamReaderCancelTimeout),L.streamReaderCancelTimeout=null);const T=!!(F&DA.PRINT);L.displayReadyCapability||(L.displayReadyCapability=Promise.withResolvers(),L.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ut=this._stats)==null||ut.time("Page Request"),this._pumpOperatorList(B));const k=!!(this._pdfBug&&((H=globalThis.StepperManager)!=null&&H.enabled)),R=!this.recordedBBoxes&&(v||k),M=G=>{var tt,it;if(L.renderTasks.delete(j),R){const mt=(tt=j.gfx)==null?void 0:tt.dependencyTracker.take();mt&&(j.stepper&&j.stepper.setOperatorBBoxes(mt,j.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=mt))}T&&N(this,ku,!0),P(this,Kg,av).call(this),G?(j.capability.reject(G),this._abortOperatorList({intentState:L,reason:G instanceof Error?G:new Error(G)})):j.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(it=globalThis.Stats)!=null&&it.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},j=new s_({callback:M,params:{canvas:e,canvasContext:t,dependencyTracker:R?new Vz(e,L.operatorList.length,k):null,viewport:n,transform:A,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:L.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:x});(L.renderTasks||(L.renderTasks=new Set)).add(j);const V=j.task;return Promise.all([L.displayReadyCapability.promise,c]).then(([G,tt])=>{var it;if(this.destroyed){M();return}if((it=this._stats)==null||it.time("Rendering"),!(tt.renderingIntent&F))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");j.initializeGraphics({transparency:G,optionalContentConfig:tt}),j.operatorListChanged()}).catch(M),V}getOperatorList({intent:t="display",annotationMode:e=sd.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var h;function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const A=this._transport.getRenderingIntent(t,e,n,i,!0);let l=this._intentStates.get(A.cacheKey);l||(l=Object.create(null),this._intentStates.set(A.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(A)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Tv.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,i){function s(){A.read().then(function({value:c,done:h}){if(h){n(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),s()},i)}const A=e.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),N(this,ku,!1),Promise.all(t)}cleanup(t=!1){N(this,ku,!0);const e=P(this,Kg,av).call(this);return t&&e&&this._stats&&(this._stats=new AN),e}_startRenderPage(t,e){var i,s;const n=this._intentStates.get(e);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&P(this,Kg,av).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:A}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:i},A).getReader(),h=this._intentStates.get(e);h.streamReader=c;const f=()=>{c.read().then(({value:p,done:w})=>{if(w){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),f())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const w of h.renderTasks)w.operatorListChanged();P(this,Kg,av).call(this)}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof v4){let i=SG;e.extraDelay>0&&e.extraDelay<1e3&&(i+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},i);return}}if(t.streamReader.cancel(new uf(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ku=new WeakMap,Kg=new WeakSet,av=function(){if(!d(this,ku)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),N(this,ku,!1),!0};var Ld,il,Ou,zg,O5,Gg,Vg,ga,UB,p6,m6,Av,n1,LB;const Di=class Di{constructor({name:t=null,port:e=null,verbosity:n=oz()}={}){O(this,ga);O(this,Ld,Promise.withResolvers());O(this,il,null);O(this,Ou,null);O(this,zg,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(d(Di,Vg).has(e))throw new Error("Cannot use more than one PDFWorker per port.");d(Di,Vg).set(e,this),P(this,ga,p6).call(this,e)}else P(this,ga,m6).call(this)}get promise(){return d(this,Ld).promise}get port(){return d(this,Ou)}get messageHandler(){return d(this,il)}destroy(){var t,e;this.destroyed=!0,(t=d(this,zg))==null||t.terminate(),N(this,zg,null),d(Di,Vg).delete(d(this,Ou)),N(this,Ou,null),(e=d(this,il))==null||e.destroy(),N(this,il,null)}static create(t){const e=d(this,Vg).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Di(t)}static get workerSrc(){if(ul.workerSrc)return ul.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return nn(this,"_setupFakeWorkerGlobal",(async()=>d(this,n1,LB)?d(this,n1,LB):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ld=new WeakMap,il=new WeakMap,Ou=new WeakMap,zg=new WeakMap,O5=new WeakMap,Gg=new WeakMap,Vg=new WeakMap,ga=new WeakSet,UB=function(){d(this,Ld).resolve(),d(this,il).send("configure",{verbosity:this.verbosity})},p6=function(t){N(this,Ou,t),N(this,il,new Zw("main","worker",t)),d(this,il).on("ready",()=>{}),P(this,ga,UB).call(this)},m6=function(){if(d(Di,Gg)||d(Di,n1,LB)){P(this,ga,Av).call(this);return}let{workerSrc:t}=Di;try{Di._isSameOrigin(window.location,t)||(t=Di._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Zw("main","worker",e),i=()=>{s.abort(),n.destroy(),e.terminate(),this.destroyed?d(this,Ld).reject(new Error("Worker was destroyed")):P(this,ga,Av).call(this)},s=new AbortController;e.addEventListener("error",()=>{d(this,zg)||i()},{signal:s.signal}),n.on("test",l=>{if(s.abort(),this.destroyed||!l){i();return}N(this,il,n),N(this,Ou,e),N(this,zg,e),P(this,ga,UB).call(this)}),n.on("ready",l=>{if(s.abort(),this.destroyed){i();return}try{A()}catch{P(this,ga,Av).call(this)}});const A=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};A();return}catch{lC("The worker has been disabled.")}P(this,ga,Av).call(this)},Av=function(){d(Di,Gg)||(Ge("Setting up fake worker."),N(Di,Gg,!0)),Di._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){d(this,Ld).reject(new Error("Worker was destroyed"));return}const e=new Oz;N(this,Ou,e);const n=`fake${Ir(Di,O5)._++}`,i=new Zw(n+"_worker",n,e);t.setup(i,e),N(this,il,new Zw(n,n+"_worker",e)),P(this,ga,UB).call(this)}).catch(t=>{d(this,Ld).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},n1=new WeakSet,LB=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},O(Di,n1),O(Di,O5,0),O(Di,Gg,!1),O(Di,Vg,new WeakMap),da&&(N(Di,Gg,!0),ul.workerSrc||(ul.workerSrc="./pdf.worker.mjs")),Di._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(e,n);return n.origin===i.origin},Di._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Di.fromPort=t=>{if(yz("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Di.create(t)};let Iv=Di;var Ru,fc,i1,r1,Mu,qg,ov;class UG{constructor(t,e,n,i,s,A){O(this,qg);O(this,Ru,new Map);O(this,fc,new Map);O(this,i1,new Map);O(this,r1,new Map);O(this,Mu,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new c6,this.fontLoader=new Nz({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=A,this.setupMessageHandler()}get annotationStorage(){return nn(this,"annotationStorage",new b4)}getRenderingIntent(t,e=sd.ENABLE,n=null,i=!1,s=!1){let A=DA.DISPLAY,l=jS;switch(t){case"any":A=DA.ANY;break;case"display":break;case"print":A=DA.PRINT;break;default:Ge(`getRenderingIntent - invalid intent: ${t}`)}const c=A&DA.PRINT&&n instanceof XI?n:this.annotationStorage;switch(e){case sd.DISABLE:A+=DA.ANNOTATIONS_DISABLE;break;case sd.ENABLE:break;case sd.ENABLE_FORMS:A+=DA.ANNOTATIONS_FORMS;break;case sd.ENABLE_STORAGE:A+=DA.ANNOTATIONS_STORAGE,l=c.serializable;break;default:Ge(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(A+=DA.IS_EDITING),s&&(A+=DA.OPLIST);const{ids:h,hash:f}=c.modifiedIds,p=[A,l.hash,f];return{renderingIntent:A,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:h}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=d(this,Mu))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of d(this,fc).values())t.push(i._destroy());d(this,fc).clear(),d(this,i1).clear(),d(this,r1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),d(this,Ru).clear(),this.filterFactory.destroy(),Qv.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new uf("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,i)=>{Cn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:A}){if(A){i.close();return}Cn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(A=>{if(!this.destroyed)throw A})}}),t.on("ReaderHeadersReady",async n=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:A}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((l=e.onProgress)==null||l.call(e,this._lastProgress)),this._fullReader.onProgress=c=>{var h;(h=e.onProgress)==null||h.call(e,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:A}}),t.on("GetRangeReader",(n,i)=>{Cn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:A,done:l}){if(l){i.close();return}Cn(A instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(A),1,[A])}).catch(A=>{i.error(A)})},i.onCancel=A=>{s.cancel(A),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new _G(n,this))}),t.on("DocException",n=>{e._capability.reject(ja(n))}),t.on("PasswordRequest",n=>{N(this,Mu,Promise.withResolvers());try{if(!e.onPassword)throw ja(n);const i=s=>{s instanceof Error?d(this,Mu).reject(s):d(this,Mu).resolve({password:s})};e.onPassword(i,n.code)}catch(i){d(this,Mu).reject(i)}return d(this,Mu).promise}),t.on("DataLoaded",n=>{var i;(i=e.onProgress)==null||i.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;d(this,fc).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,i,s])=>{var A;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in s){const p=s.error;Ge(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new ZS(s),c=this._params.pdfBug&&((A=globalThis.FontInspector)!=null&&A.enabled)?(p,w)=>globalThis.FontInspector.fontAdded(p,w):null,h=new Tz(l,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h.fontExtraProperties&&h.data&&h.clearData(),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:f}=s;Cn(f,"The imageRef must be defined.");for(const p of d(this,fc).values())for(const[,w]of p.objs)if((w==null?void 0:w.ref)===f)return w.dataLen?(this.commonObjs.resolve(n,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([n,i,s,A])=>{var c;if(this.destroyed)return;const l=d(this,fc).get(i);if(!l.objs.has(n)){if(l._intentStates.size===0){(c=A==null?void 0:A.bitmap)==null||c.close();return}switch(s){case"Image":case"Pattern":l.objs.resolve(n,A);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",n=>{var i;this.destroyed||(i=e.onProgress)==null||i.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ge("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=d(this,i1).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&d(this,r1).set(s.refStr,t);const A=new FG(e,s,this,this._params.pdfBug);return d(this,fc).set(e,A),A});return d(this,i1).set(e,i),i}getPageIndex(t){return KS(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return P(this,qg,ov).call(this,"GetFieldObjects")}hasJSActions(){return P(this,qg,ov).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return P(this,qg,ov).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return P(this,qg,ov).call(this,"GetOptionalContentConfig").then(e=>new AG(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,Ru).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(i=>{var s,A;return{info:i[0],metadata:i[1]?new sG(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((A=this._fullReader)==null?void 0:A.contentLength)??null}});return d(this,Ru).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,fc).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,Ru).clear(),this.filterFactory.destroy(!0),Qv.cleanup()}}cachedPageNumber(t){if(!KS(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,r1).get(e)??null}}Ru=new WeakMap,fc=new WeakMap,i1=new WeakMap,r1=new WeakMap,Mu=new WeakMap,qg=new WeakSet,ov=function(t,e=null){const n=d(this,Ru).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return d(this,Ru).set(t,i),i};var Nd;class LG{constructor(t){O(this,Nd,null);Wt(this,"onContinue",null);Wt(this,"onError",null);N(this,Nd,t)}get promise(){return d(this,Nd).capability.promise}cancel(t=0){d(this,Nd).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,Nd).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,Nd);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Nd=new WeakMap;var Td,Xg;const ag=class ag{constructor({callback:t,params:e,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:A,pageIndex:l,canvasFactory:c,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:w=null,enableHWA:v=!1,operationsFilter:x=null}){O(this,Td,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=A,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=h,this._pdfBug=p,this.pageColors=w,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new LG(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,h;if(this.cancelled)return;if(this._canvas){if(d(ag,Xg).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(ag,Xg).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:s,dependencyTracker:A}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new um(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,A),this.gfx.beginDrawing({transform:i,viewport:n,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(t=null,e=0){var n,i,s;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),d(this,Td)&&(window.cancelAnimationFrame(d(this,Td)),N(this,Td,null)),d(ag,Xg).delete(this._canvas),t||(t=new v4(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(s=(i=this.task).onError)==null||s.call(i,t)}operatorListChanged(){var t,e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.gfx.dependencyTracker)==null||t.growOperationsCount(this.operatorList.fnArray.length),(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?N(this,Td,window.requestAnimationFrame(()=>{N(this,Td,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(ag,Xg).delete(this._canvas),this.callback())))}};Td=new WeakMap,Xg=new WeakMap,O(ag,Xg,new WeakSet);let s_=ag;const NG="5.4.296",TG="f56dc8601";var CA,Yg,s1,Mr,Iy,a1,Hu,Dy,Qd,rl,ky,ti,a_,A_,o_,Jf,w6,nd;const Ka=class Ka{constructor({editor:t=null,uiManager:e=null}){O(this,ti);O(this,CA,null);O(this,Yg,null);O(this,s1);O(this,Mr,null);O(this,Iy,!1);O(this,a1,!1);O(this,Hu,null);O(this,Dy);O(this,Qd,null);O(this,rl,null);var n,i;t?(N(this,a1,!1),N(this,Hu,t)):N(this,a1,!0),N(this,rl,(t==null?void 0:t._uiManager)||e),N(this,Dy,d(this,rl)._eventBus),N(this,s1,((n=t==null?void 0:t.color)==null?void 0:n.toUpperCase())||((i=d(this,rl))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),d(Ka,ky)||N(Ka,ky,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return nn(this,"_keyboardManager",new Cb([[["Escape","mac+Escape"],Ka.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ka.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ka.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ka.prototype._moveToPrevious],[["Home","mac+Home"],Ka.prototype._moveToBeginning],[["End","mac+End"],Ka.prototype._moveToEnd]]))}renderButton(){const t=N(this,CA,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",d(this,Hu)&&(t.ariaControls=`${d(this,Hu).id}_colorpicker_dropdown`);const e=d(this,rl)._signal;t.addEventListener("click",P(this,ti,Jf).bind(this),{signal:e}),t.addEventListener("keydown",P(this,ti,o_).bind(this),{signal:e});const n=N(this,Yg,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=d(this,s1),t.append(n),t}renderMainDropdown(){const t=N(this,Mr,P(this,ti,a_).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===d(this,CA)){P(this,ti,Jf).call(this,t);return}const e=t.target.getAttribute("data-color");e&&P(this,ti,A_).call(this,e,t)}_moveToNext(t){var e,n;if(!d(this,ti,nd)){P(this,ti,Jf).call(this,t);return}if(t.target===d(this,CA)){(e=d(this,Mr).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=d(this,Mr))==null?void 0:e.firstChild)||t.target===d(this,CA)){d(this,ti,nd)&&this._hideDropdownFromKeyboard();return}d(this,ti,nd)||P(this,ti,Jf).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!d(this,ti,nd)){P(this,ti,Jf).call(this,t);return}(e=d(this,Mr).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,ti,nd)){P(this,ti,Jf).call(this,t);return}(e=d(this,Mr).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,Mr))==null||t.classList.add("hidden"),d(this,CA).ariaExpanded="false",(e=d(this,Qd))==null||e.abort(),N(this,Qd,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,a1)){if(!d(this,ti,nd)){(t=d(this,Hu))==null||t.unselect();return}this.hideDropdown(),d(this,CA).focus({preventScroll:!0,focusVisible:d(this,Iy)})}}updateColor(t){if(d(this,Yg)&&(d(this,Yg).style.backgroundColor=t),!d(this,Mr))return;const e=d(this,rl).highlightColors.values();for(const n of d(this,Mr).children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=d(this,CA))==null||t.remove(),N(this,CA,null),N(this,Yg,null),(e=d(this,Mr))==null||e.remove(),N(this,Mr,null)}};CA=new WeakMap,Yg=new WeakMap,s1=new WeakMap,Mr=new WeakMap,Iy=new WeakMap,a1=new WeakMap,Hu=new WeakMap,Dy=new WeakMap,Qd=new WeakMap,rl=new WeakMap,ky=new WeakMap,ti=new WeakSet,a_=function(){const t=document.createElement("div"),e=d(this,rl)._signal;t.addEventListener("contextmenu",Eo,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),d(this,Hu)&&(t.id=`${d(this,Hu).id}_colorpicker_dropdown`);for(const[n,i]of d(this,rl).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",d(Ka,ky)[n]);const A=document.createElement("span");s.append(A),A.className="swatch",A.style.backgroundColor=i,s.ariaSelected=i===d(this,s1),s.addEventListener("click",P(this,ti,A_).bind(this,i),{signal:e}),t.append(s)}return t.addEventListener("keydown",P(this,ti,o_).bind(this),{signal:e}),t},A_=function(t,e){e.stopPropagation(),d(this,Dy).dispatch("switchannotationeditorparams",{source:this,type:Bn.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},o_=function(t){Ka._keyboardManager.exec(this,t)},Jf=function(t){if(d(this,ti,nd)){this.hideDropdown();return}if(N(this,Iy,t.detail===0),d(this,Qd)||(N(this,Qd,new AbortController),window.addEventListener("pointerdown",P(this,ti,w6).bind(this),{signal:d(this,rl).combinedSignal(d(this,Qd))})),d(this,CA).ariaExpanded="true",d(this,Mr)){d(this,Mr).classList.remove("hidden");return}const e=N(this,Mr,P(this,ti,a_).call(this));d(this,CA).append(e)},w6=function(t){var e;(e=d(this,Mr))!=null&&e.contains(t.target)||this.hideDropdown()},nd=function(){return d(this,Mr)&&!d(this,Mr).classList.contains("hidden")},O(Ka,ky,null);let y5=Ka;var gc,Oy,A1,Ry;const Ag=class Ag{constructor(t){O(this,gc,null);O(this,Oy,null);O(this,A1,null);N(this,Oy,t),N(this,A1,t._uiManager),d(Ag,Ry)||N(Ag,Ry,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(d(this,gc))return d(this,gc);const{editorType:t,colorType:e,colorValue:n}=d(this,Oy),i=N(this,gc,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",d(Ag,Ry)[t]),i.addEventListener("input",()=>{d(this,A1).updateParams(e,i.value)},{signal:d(this,A1)._signal}),i}update(t){d(this,gc)&&(d(this,gc).value=t)}destroy(){var t;(t=d(this,gc))==null||t.remove(),N(this,gc,null)}hideDropdown(){}};gc=new WeakMap,Oy=new WeakMap,A1=new WeakMap,Ry=new WeakMap,O(Ag,Ry,null);let b5=Ag;function UN(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function kw(r){return Math.max(0,Math.min(255,255*r))}class LN{static CMYK_G([t,e,n,i]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=kw(t),[t,t,t]}static G_HTML([t]){const e=UN(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(kw)}static RGB_HTML(t){return`#${t.map(UN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,n+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,n,i]){return[kw(1-Math.min(1,t+i)),kw(1-Math.min(1,n+i)),kw(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const i=1-t,s=1-e,A=1-n,l=Math.min(i,s,A);return["CMYK",i,s,A,l]}}class QG{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ui("Abstract method `_createSVG` called.")}}class B5 extends QG{_createSVG(t){return document.createElementNS(hu,t)}}const IG=9,_p=new WeakSet,DG=new Date().getTimezoneOffset()*60*1e3;class NN{static create(t){switch(t.data.annotationType){case Br.LINK:return new E4(t);case Br.TEXT:return new OG(t);case Br.WIDGET:switch(t.data.fieldType){case"Tx":return new RG(t);case"Btn":return t.data.radioButton?new b6(t):t.data.checkBox?new HG(t):new PG(t);case"Ch":return new jG(t);case"Sig":return new MG(t)}return new Qp(t);case Br.POPUP:return new c_(t);case Br.FREETEXT:return new S6(t);case Br.LINE:return new zG(t);case Br.SQUARE:return new GG(t);case Br.CIRCLE:return new VG(t);case Br.POLYLINE:return new _6(t);case Br.CARET:return new XG(t);case Br.INK:return new S4(t);case Br.POLYGON:return new qG(t);case Br.HIGHLIGHT:return new F6(t);case Br.UNDERLINE:return new YG(t);case Br.SQUIGGLY:return new WG(t);case Br.STRIKEOUT:return new $G(t);case Br.STAMP:return new U6(t);case Br.FILEATTACHMENT:return new JG(t);default:return new Vi(t)}}}var Wg,o1,po,My,l_;const Q4=class Q4{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){O(this,My);O(this,Wg,null);O(this,o1,!1);O(this,po,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Q4._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:t}=this,e=(n=this.annotationStorage)==null?void 0:n.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var l;const t=(l=this.annotationStorage)==null?void 0:l.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:i}=this.data;let s=-1/0,A=-1/0;if((e==null?void 0:e.length)>=8){for(let c=0;c<e.length;c+=8)e[c+1]>A?(A=e[c+1],s=e[c+2]):e[c+1]===A&&(s=Math.max(s,e[c+2]));return[s,A]}if((n==null?void 0:n.length)>=1){for(const c of n)for(let h=0,f=c.length;h<f;h+=2)c[h+1]>A?(A=c[h+1],s=c[h]):c[h+1]===A&&(s=Math.max(s,c[h]));if(s!==1/0)return[s,A]}return i?[i[2],i[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:A}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-s)/n,t[1]=100*(t[1]-A)/i,t}get commentText(){var e,n,i;const{data:t}=this;return((n=(e=this.annotationStorage.getRawValue(`${Lv}${t.id}`))==null?void 0:e.popup)==null?void 0:n.contents)||((i=t.contentsObj)==null?void 0:i.str)||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${Lv}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){var t,e;(e=((t=d(this,po))==null?void 0:t.popup)||this.popup)==null||e.remove(),N(this,po,this.popup=null)}updateEdited(t){var s;if(!this.container)return;t.rect&&(d(this,Wg)||N(this,Wg,{rect:this.data.rect.slice(0)}));const{rect:e,popup:n}=t;e&&P(this,My,l_).call(this,e);let i=((s=d(this,po))==null?void 0:s.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=d(this,po).popup),i&&(i.updateEdited(t),n!=null&&n.deleted&&(i.remove(),N(this,po,null),this.popup=null))}resetEdited(){var t;d(this,Wg)&&(P(this,My,l_).call(this,d(this,Wg).rect),(t=d(this,po))==null||t.popup.resetEdited(),N(this,Wg,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),!(this instanceof Qp)&&!(this instanceof E4)&&(s.tabIndex=0);const{style:A}=s;if(A.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof c_){const{rotation:B}=e;return!e.hasOwnCanvas&&B!==0&&this.setRotation(B,s),s}const{width:l,height:c}=this;if(!t&&e.borderStyle.width>0){A.borderWidth=`${e.borderStyle.width}px`;const B=e.borderStyle.horizontalCornerRadius,F=e.borderStyle.verticalCornerRadius;if(B>0||F>0){const L=`calc(${B}px * var(--total-scale-factor)) / calc(${F}px * var(--total-scale-factor))`;A.borderRadius=L}else if(this instanceof b6){const L=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;A.borderRadius=L}switch(e.borderStyle.style){case z0.SOLID:A.borderStyle="solid";break;case z0.DASHED:A.borderStyle="dashed";break;case z0.BEVELED:Ge("Unimplemented border style: beveled");break;case z0.INSET:Ge("Unimplemented border style: inset");break;case z0.UNDERLINE:A.borderBottomStyle="solid";break}const S=e.borderColor||null;S?(N(this,o1,!0),A.borderColor=fe.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):A.borderWidth=0}const h=fe.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:p,pageX:w,pageY:v}=i.rawDims;A.left=`${100*(h[0]-w)/f}%`,A.top=`${100*(h[1]-v)/p}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(A.width=`${100*l/f}%`,A.height=`${100*c/p}%`):this.setRotation(x,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:A}=this;t%180!==0&&([s,A]=[A,s]),e.style.width=`${100*s/n}%`,e.style.height=`${100*A/i}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,i)=>{const s=i.detail[e],A=s[0],l=s.slice(1);i.target.style[n]=LN[`${A}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:LN[`${A}_rgb`](l)})};return nn(this,"_commonActions",{display:e=>{const{display:n}=e.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const s=t[i]||n[i];s==null||s(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,s]of Object.entries(e)){const A=n[i];if(A){const l={detail:{[i]:s},target:t};A(l),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,s]=this.data.rect.map(B=>Math.fround(B));if(t.length===8){const[B,F,S,L]=t.subarray(2,6);if(i===B&&s===F&&e===S&&n===L)return}const{style:A}=this.container;let l;if(d(this,o1)){const{borderColor:B,borderWidth:F}=A;A.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${B}" stroke-width="${F}">`],this.container.classList.add("hasBorder")}const c=i-e,h=s-n,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const w=f.createElement("defs");p.append(w);const v=f.createElement("clipPath"),x=`clippath_${this.data.id}`;v.setAttribute("id",x),v.setAttribute("clipPathUnits","objectBoundingBox"),w.append(v);for(let B=2,F=t.length;B<F;B+=8){const S=t[B],L=t[B+1],T=t[B+2],k=t[B+3],R=f.createElement("rect"),M=(T-e)/c,j=(s-L)/h,V=(S-T)/c,et=(L-k)/h;R.setAttribute("x",M),R.setAttribute("y",j),R.setAttribute("width",V),R.setAttribute("height",et),v.append(R),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${j}" width="${V}" height="${et}"/>`)}d(this,o1)&&(l.push("</g></svg>')"),A.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${x})`}_createPopup(t=null){const{data:e}=this;let n,i;t?(n={str:t.text},i=t.date):(n=e.contentsObj,i=e.modificationDate);const s=N(this,po,new c_({data:{color:e.color,titleObj:e.titleObj,modificationDate:i,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(d(this,po)||this.popup||this.data.popupRef)}get extraPopupElement(){return d(this,po)}render(){ui("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:s,id:A,exportValues:l}of i){if(s===-1||A===e)continue;const c=typeof l=="string"?l:null,h=document.querySelector(`[data-element-id="${A}"]`);if(h&&!_p.has(h)){Ge(`_getElementsByName - element not allowed: ${A}`);continue}n.push({id:A,exportValue:c,domElement:h})}return n}for(const i of document.getElementsByName(t)){const{exportValue:s}=i,A=i.getAttribute("data-element-id");A!==e&&_p.has(i)&&n.push({id:A,exportValue:s,domElement:i})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Wg=new WeakMap,o1=new WeakMap,po=new WeakMap,My=new WeakSet,l_=function(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:A,pageX:l,pageY:c}}}}=this;n==null||n.splice(0,4,...t),e.left=`${100*(t[0]-l)/s}%`,e.top=`${100*(A-t[3]+c)/A}%`,i===0?(e.width=`${100*(t[2]-t[0])/s}%`,e.height=`${100*(t[3]-t[1])/A}%`):this.setRotation(i)};let Vi=Q4;class kG extends Vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var OA,Zf,v6,y6;class E4 extends Vi{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});O(this,OA);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let s=!1;return e.url?(n.addLinkAttributes(i,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(i,e.action,e.overlaidText),s=!0):e.attachment?(P(this,OA,v6).call(this,i,e.attachment,e.overlaidText,e.attachmentDest),s=!0):e.setOCGState?(P(this,OA,y6).call(this,i,e.setOCGState,e.overlaidText),s=!0):e.dest?(this._bindLink(i,e.dest,e.overlaidText),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),s=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(e,n,i=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&P(this,OA,Zf).call(this),i&&(e.title=i)}_bindNamedAction(e,n,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(e.title=i),P(this,OA,Zf).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const A=i.get(s);A&&(e[A]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),P(this,OA,Zf).call(this)}_bindResetFormAction(e,n){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),P(this,OA,Zf).call(this),!this._fieldObjects){Ge('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{var p;i==null||i();const{fields:s,refs:A,include:l}=n,c=[];if(s.length!==0||A.length!==0){const w=new Set(A);for(const v of s){const x=this._fieldObjects[v]||[];for(const{id:B}of x)w.add(B)}for(const v of Object.values(this._fieldObjects))for(const x of v)w.has(x.id)===l&&c.push(x)}else for(const w of Object.values(this._fieldObjects))c.push(...w);const h=this.annotationStorage,f=[];for(const w of c){const{id:v}=w;switch(f.push(v),w.type){case"text":{const B=w.defaultValue||"";h.setValue(v,{value:B});break}case"checkbox":case"radiobutton":{const B=w.defaultValue===w.exportValues;h.setValue(v,{value:B});break}case"combobox":case"listbox":{const B=w.defaultValue||"";h.setValue(v,{value:B});break}default:continue}const x=document.querySelector(`[data-element-id="${v}"]`);if(x){if(!_p.has(x)){Ge(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}OA=new WeakSet,Zf=function(){this.container.setAttribute("data-internal-link","")},v6=function(e,n,i="",s=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:i&&(e.title=i),e.onclick=()=>{var A;return(A=this.downloadManager)==null||A.openOrDownloadData(n.content,n.filename,s),!1},P(this,OA,Zf).call(this)},y6=function(e,n,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(e.title=i),P(this,OA,Zf).call(this)};class OG extends Vi{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Qp extends Vi{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Fs.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,s){n.includes("mouse")?t.addEventListener(n,A=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(A),shift:A.shiftKey,modifier:this._getKeyModifier(A)}})}):t.addEventListener(n,A=>{var l;if(n==="blur"){if(!e.focused||!A.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}s&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(A)}}))})}_setEventListeners(t,e,n,i){var s,A,l;for(const[c,h]of n)(h==="Action"||(s=this.data.actions)!=null&&s[h])&&((h==="Focus"||h==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,c,h,i),h==="Focus"&&!((A=this.data.actions)!=null&&A.Blur)?this._setEventListener(t,e,"blur","Blur",null):h==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":fe.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||IG,s=t.style;let A;const l=2,c=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-l),f=Math.round(h/(wE*i))||1,p=h/f;A=Math.min(i,c(p/wE))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-l);A=Math.min(i,c(h/wE))}s.fontSize=`calc(${A}px * var(--total-scale-factor))`,s.color=fe.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class RG extends Qp{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,i){const s=this.annotationStorage;for(const A of this._getElementsByName(t.name,t.id))A.domElement&&(A.domElement[e]=n),s.setValue(A.id,{[i]:n})}render(){var i,s;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const A=t.getValue(e,{value:this.data.fieldValue});let l=A.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let h=A.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const f={userValue:l,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=h??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",h??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),_p.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:p,datetimeType:w,timeStep:v}=this.data,x=!!w&&this.enableScripting;p&&(n.title=p),this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",F=>{t.setValue(e,{value:F.target.value}),this.setPropertyOnSiblings(n,"value",F.target.value,"value"),f.formattedValue=null}),n.addEventListener("resetform",F=>{const S=this.data.defaultFieldValue??"";n.value=f.userValue=S,f.formattedValue=null});let B=F=>{const{formattedValue:S}=f;S!=null&&(F.target.value=S),F.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",S=>{var T;if(f.focused)return;const{target:L}=S;if(x&&(L.type=w,v&&(L.step=v)),f.userValue){const k=f.userValue;if(x)if(w==="time"){const R=new Date(k),M=[R.getHours(),R.getMinutes(),R.getSeconds()];L.value=M.map(j=>j.toString().padStart(2,"0")).join(":")}else L.value=new Date(k-DG).toISOString().split(w==="date"?"T":".",1)[0];else L.value=k}f.lastCommittedValue=L.value,f.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(f.focused=!0)}),n.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const L={value(T){f.userValue=T.detail.value??"",x||t.setValue(e,{value:f.userValue.toString()}),T.target.value=f.userValue},formattedValue(T){const{formattedValue:k}=T.detail;f.formattedValue=k,k!=null&&T.target!==document.activeElement&&(T.target.value=k);const R={formattedValue:k};x&&(R.value=k),t.setValue(e,R)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var j;const{charLimit:k}=T.detail,{target:R}=T;if(k===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",k);let M=f.userValue;!M||M.length<=k||(M=M.slice(0,k),R.value=f.userValue=M,t.setValue(e,{value:M}),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(L,S)}),n.addEventListener("keydown",S=>{var k;f.commitKey=1;let L=-1;if(S.key==="Escape"?L=0:S.key==="Enter"&&!this.data.multiLine?L=2:S.key==="Tab"&&(f.commitKey=3),L===-1)return;const{value:T}=S.target;f.lastCommittedValue!==T&&(f.lastCommittedValue=T,f.userValue=T,(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:L,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const F=B;B=null,n.addEventListener("blur",S=>{var k,R;if(!f.focused||!S.relatedTarget)return;(k=this.data.actions)!=null&&k.Blur||(f.focused=!1);const{target:L}=S;let{value:T}=L;if(x){if(T&&w==="time"){const M=T.split(":").map(j=>parseInt(j,10));T=new Date(2e3,0,1,M[0],M[1],M[2]||0).valueOf(),L.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();L.type="text"}f.userValue=T,f.lastCommittedValue!==T&&((R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:f.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),F(S)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",S=>{var et;f.lastCommittedValue=null;const{data:L,target:T}=S,{value:k,selectionStart:R,selectionEnd:M}=T;let j=R,V=M;switch(S.inputType){case"deleteWordBackward":{const ut=k.substring(0,R).match(/\w*[^\w]*$/);ut&&(j-=ut[0].length);break}case"deleteWordForward":{const ut=k.substring(R).match(/^[^\w]*\w*/);ut&&(V+=ut[0].length);break}case"deleteContentBackward":R===M&&(j-=1);break;case"deleteContentForward":R===M&&(V+=1);break}S.preventDefault(),(et=this.linkService.eventBus)==null||et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:k,change:L||"",willCommit:!1,selStart:j,selEnd:V}})}),this._setEventListeners(n,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(B&&n.addEventListener("blur",B),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class MG extends Qp{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class HG extends Qp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return _p.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=0,s.addEventListener("change",A=>{const{name:l,checked:c}=A.target;for(const h of this._getElementsByName(l,n)){const f=c&&h.exportValue===e.exportValue;h.domElement&&(h.domElement.checked=f),t.setValue(h.id,{value:f})}t.setValue(n,{value:c})}),s.addEventListener("resetform",A=>{const l=e.defaultFieldValue||"Off";A.target.checked=l===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",A=>{const l={value(c){c.target.checked=c.detail.value!=="Off",t.setValue(n,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,A)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class b6 extends Qp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof i=="string"&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const A of this._getElementsByName(e.fieldName,n))t.setValue(A.id,{value:!1});const s=document.createElement("input");if(_p.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",A=>{const{name:l,checked:c}=A.target;for(const h of this._getElementsByName(l,n))t.setValue(h.id,{value:!1});t.setValue(n,{value:c})}),s.addEventListener("resetform",A=>{const l=e.defaultFieldValue;A.target.checked=l!=null&&l===e.buttonValue}),this.enableScripting&&this.hasJSActions){const A=e.buttonValue;s.addEventListener("updatefromsandbox",l=>{const c={value:h=>{const f=A===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const w=f&&p.id===n;p.domElement&&(p.domElement.checked=w),t.setValue(p.id,{value:w})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class PG extends E4{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class jG extends Qp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");_p.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const w of i.options)w.selected=w.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,n.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let A=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),A=()=>{f.remove(),i.removeEventListener("input",A),A=null},i.addEventListener("input",A)}const l=f=>{const p=f?"value":"textContent",{options:w,multiple:v}=i;return v?Array.prototype.filter.call(w,x=>x.selected).map(x=>x[p]):w.selectedIndex===-1?null:w[w.selectedIndex][p]};let c=l(!1);const h=f=>{const p=f.target.options;return Array.prototype.map.call(p,w=>({displayValue:w.textContent,exportValue:w.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const p={value(w){A==null||A();const v=w.detail.value,x=new Set(Array.isArray(v)?v:[v]);for(const B of i.options)B.selected=x.has(B.value);t.setValue(e,{value:l(!0)}),c=l(!1)},multipleSelection(w){i.multiple=!0},remove(w){const v=i.options,x=w.detail.remove;v[x].selected=!1,i.remove(x),v.length>0&&Array.prototype.findIndex.call(v,F=>F.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:l(!0),items:h(w)}),c=l(!1)},clear(w){for(;i.length!==0;)i.remove(0);t.setValue(e,{value:null,items:[]}),c=l(!1)},insert(w){const{index:v,displayValue:x,exportValue:B}=w.detail.insert,F=i.children[v],S=document.createElement("option");S.textContent=x,S.value=B,F?F.before(S):i.append(S),t.setValue(e,{value:l(!0),items:h(w)}),c=l(!1)},items(w){const{items:v}=w.detail;for(;i.length!==0;)i.remove(0);for(const x of v){const{displayValue:B,exportValue:F}=x,S=document.createElement("option");S.textContent=B,S.value=F,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:l(!0),items:h(w)}),c=l(!1)},indices(w){const v=new Set(w.detail.indices);for(const x of w.target.options)x.selected=v.has(x.index);t.setValue(e,{value:l(!0)}),c=l(!1)},editable(w){w.target.disabled=!w.detail.editable}};this._dispatchEventFromSandbox(p,f)}),i.addEventListener("input",f=>{var v;const p=l(!0),w=l(!1);t.setValue(e,{value:p}),f.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:c,change:w,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){t.setValue(e,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Hy,u_;class c_ extends Vi{constructor(e){const{data:n,elements:i,parent:s}=e,A=!!s._commentManager;super(e,{isRenderable:!A&&Vi._hasPopupData(n)});O(this,Hy);if(this.elements=i,A&&Vi._hasPopupData(n)){const l=this.popup=P(this,Hy,u_).call(this);for(const c of i)c.popup=l}else this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=P(this,Hy,u_).call(this),i=[];for(const s of this.elements)s.popup=n,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${w4}${s}`).join(",")),this.container}}Hy=new WeakSet,u_=function(){return new KG({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var xA,Id,R5,M5,l1,c1,Ji,pc,Dd,$g,u1,h1,mc,EA,Pu,ju,is,Ku,kd,Py,zu,d1,Jg,Od,Xs,Rd,Ze,NB,h_,d_,f_,TB,g_,B6,C6,x6,E6,QB,IB,p_;class KG{constructor({container:t,color:e,elements:n,titleObj:i,modificationDate:s,contentsObj:A,richText:l,parent:c,rect:h,parentRect:f,open:p,commentManager:w=null}){O(this,Ze);O(this,xA,null);O(this,Id,P(this,Ze,x6).bind(this));O(this,R5,P(this,Ze,p_).bind(this));O(this,M5,P(this,Ze,IB).bind(this));O(this,l1,P(this,Ze,QB).bind(this));O(this,c1,null);O(this,Ji,null);O(this,pc,null);O(this,Dd,null);O(this,$g,null);O(this,u1,null);O(this,h1,null);O(this,mc,!1);O(this,EA,null);O(this,Pu,null);O(this,ju,null);O(this,is,null);O(this,Ku,null);O(this,kd,null);O(this,Py,null);O(this,zu,null);O(this,d1,null);O(this,Jg,null);O(this,Od,!1);O(this,Xs,null);O(this,Rd,null);N(this,Ji,t),N(this,d1,i),N(this,pc,A),N(this,zu,l),N(this,u1,c),N(this,c1,e),N(this,Py,h),N(this,h1,f),N(this,$g,n),N(this,xA,w),N(this,Xs,n[0]),N(this,Dd,f5.toDateObject(s)),this.trigger=n.flatMap(v=>v.getElementsToTriggerPopup()),w?this.renderCommentButton():(P(this,Ze,NB).call(this),d(this,Ji).hidden=!0,p&&P(this,Ze,QB).call(this))}renderCommentButton(){if(d(this,is)||(d(this,Ku)||P(this,Ze,h_).call(this),!d(this,Ku)))return;const{signal:t}=N(this,Pu,new AbortController),e=!!d(this,Xs).extraPopupElement,n=()=>{d(this,xA).toggleCommentPopup(this,!0,void 0,!e)},i=()=>{d(this,xA).toggleCommentPopup(this,!1,!0,!e)},s=()=>{d(this,xA).toggleCommentPopup(this,!1,!1)};if(e){N(this,is,d(this,Xs).container);for(const A of this.trigger)A.ariaHasPopup="dialog",A.ariaControls="commentPopup",A.addEventListener("keydown",d(this,Id),{signal:t}),A.addEventListener("click",n,{signal:t}),A.addEventListener("pointerenter",i,{signal:t}),A.addEventListener("pointerleave",s,{signal:t}),A.classList.add("popupTriggerArea")}else{const A=N(this,is,document.createElement("button"));A.className="annotationCommentButton";const l=d(this,Xs).container;A.style.zIndex=l.style.zIndex+1,A.tabIndex=0,A.ariaHasPopup="dialog",A.ariaControls="commentPopup",A.setAttribute("data-l10n-id","pdfjs-show-comment-button"),P(this,Ze,f_).call(this),P(this,Ze,d_).call(this),A.addEventListener("keydown",d(this,Id),{signal:t}),A.addEventListener("click",n,{signal:t}),A.addEventListener("pointerenter",i,{signal:t}),A.addEventListener("pointerleave",s,{signal:t}),l.after(A)}}get commentButtonColor(){const{color:t,opacity:e}=d(this,Xs).commentData;return t?d(this,u1)._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{var t;(t=d(this,is))==null||t.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:i,modificationDate:s}=d(this,Xs).commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:i,modificationDate:s}}get elementBeforePopup(){return d(this,is)}get comment(){return d(this,Rd)||N(this,Rd,d(this,Xs).commentText),d(this,Rd)}set comment(t){t!==this.comment&&(d(this,Xs).commentText=N(this,Rd,t))}get parentBoundingClientRect(){return d(this,Xs).layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){d(this,is)&&(d(this,is).classList.toggle("selected",t),d(this,is).ariaExpanded=e)}setSelectedCommentButton(t){d(this,is).classList.toggle("selected",t)}get commentPopupPosition(){if(d(this,kd))return d(this,kd);const{x:t,y:e,height:n}=d(this,is).getBoundingClientRect(),{x:i,y:s,width:A,height:l}=d(this,Xs).layer.getBoundingClientRect();return[(t-i)/A,(e+n-s)/l]}set commentPopupPosition(t){N(this,kd,t)}hasDefaultPopupPosition(){return d(this,kd)===null}get commentButtonPosition(){return d(this,Ku)}get commentButtonWidth(){return d(this,is).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=d(this,kd)||this.commentButtonPosition.map(h=>h/100),i=this.parentBoundingClientRect,{x:s,y:A,width:l,height:c}=i;d(this,xA).showDialog(null,this,s+e*l,A+n*c,{...t,parentDimensions:i})}render(){var n,i;if(d(this,EA))return;const t=N(this,EA,document.createElement("div"));if(t.className="popup",d(this,c1)){const s=t.style.outlineColor=fe.makeHexColor(...d(this,c1));t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const e=document.createElement("span");if(e.className="header",(n=d(this,d1))!=null&&n.str){const s=document.createElement("span");s.className="title",e.append(s),{dir:s.dir,str:s.textContent}=d(this,d1)}if(t.append(e),d(this,Dd)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,Dd).valueOf()})),s.dateTime=d(this,Dd).toISOString(),e.append(s)}pI({html:d(this,Ze,TB)||d(this,pc).str,dir:(i=d(this,pc))==null?void 0:i.dir,className:"popupContent"},t),d(this,Ji).append(t)}updateEdited({rect:t,popup:e,deleted:n}){var i;if(d(this,xA)){n?(this.remove(),N(this,Rd,null)):e&&(e.deleted?this.remove():(P(this,Ze,f_).call(this),N(this,Rd,e.text))),t&&(N(this,Ku,null),P(this,Ze,h_).call(this),P(this,Ze,d_).call(this));return}if(n||e!=null&&e.deleted){this.remove();return}P(this,Ze,NB).call(this),d(this,Jg)||N(this,Jg,{contentsObj:d(this,pc),richText:d(this,zu)}),t&&N(this,ju,null),e&&e.text&&(N(this,zu,P(this,Ze,C6).call(this,e.text)),N(this,Dd,f5.toDateObject(e.date)),N(this,pc,null)),(i=d(this,EA))==null||i.remove(),N(this,EA,null)}resetEdited(){var t;d(this,Jg)&&({contentsObj:Ir(this,pc)._,richText:Ir(this,zu)._}=d(this,Jg),N(this,Jg,null),(t=d(this,EA))==null||t.remove(),N(this,EA,null),N(this,ju,null))}remove(){var t,e,n;if((t=d(this,Pu))==null||t.abort(),N(this,Pu,null),(e=d(this,EA))==null||e.remove(),N(this,EA,null),N(this,Od,!1),N(this,mc,!1),(n=d(this,is))==null||n.remove(),N(this,is,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){N(this,Od,this.isVisible),d(this,Od)&&(d(this,Ji).hidden=!0)}maybeShow(){d(this,xA)||(P(this,Ze,NB).call(this),d(this,Od)&&(d(this,EA)||P(this,Ze,IB).call(this),N(this,Od,!1),d(this,Ji).hidden=!1))}get isVisible(){return d(this,xA)?!1:d(this,Ji).hidden===!1}}xA=new WeakMap,Id=new WeakMap,R5=new WeakMap,M5=new WeakMap,l1=new WeakMap,c1=new WeakMap,Ji=new WeakMap,pc=new WeakMap,Dd=new WeakMap,$g=new WeakMap,u1=new WeakMap,h1=new WeakMap,mc=new WeakMap,EA=new WeakMap,Pu=new WeakMap,ju=new WeakMap,is=new WeakMap,Ku=new WeakMap,kd=new WeakMap,Py=new WeakMap,zu=new WeakMap,d1=new WeakMap,Jg=new WeakMap,Od=new WeakMap,Xs=new WeakMap,Rd=new WeakMap,Ze=new WeakSet,NB=function(){var e;if(d(this,Pu))return;N(this,Pu,new AbortController);const{signal:t}=d(this,Pu);for(const n of this.trigger)n.addEventListener("click",d(this,l1),{signal:t}),n.addEventListener("pointerenter",d(this,M5),{signal:t}),n.addEventListener("pointerleave",d(this,R5),{signal:t}),n.classList.add("popupTriggerArea");for(const n of d(this,$g))(e=n.container)==null||e.addEventListener("keydown",d(this,Id),{signal:t})},h_=function(){const t=d(this,$g).find(e=>e.hasCommentButton);t&&N(this,Ku,t._normalizePoint(t.commentButtonPosition))},d_=function(){if(d(this,Xs).extraPopupElement&&!d(this,Xs).editor)return;this.renderCommentButton();const[t,e]=d(this,Ku),{style:n}=d(this,is);n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`},f_=function(){d(this,Xs).extraPopupElement||(this.renderCommentButton(),d(this,is).style.backgroundColor=this.commentButtonColor||"")},TB=function(){const t=d(this,zu),e=d(this,pc);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,zu).html||null},g_=function(){var t,e,n;return((n=(e=(t=d(this,Ze,TB))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},B6=function(){var t,e,n;return((n=(e=(t=d(this,Ze,TB))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},C6=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:d(this,Ze,B6),fontSize:d(this,Ze,g_)?`calc(${d(this,Ze,g_)}px * var(--total-scale-factor))`:""}};for(const s of t.split(`
`))e.push({name:"span",value:s,attributes:i});return n},x6=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,mc))&&P(this,Ze,QB).call(this)},E6=function(){if(d(this,ju)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:s}}}=d(this,u1);let A=!!d(this,h1),l=A?d(this,h1):d(this,Py);for(const x of d(this,$g))if(!l||fe.intersect(x.data.rect,l)!==null){l=x.data.rect,A=!0;break}const c=fe.normalizeRect([l[0],t[3]-l[1]+t[1],l[2],t[3]-l[3]+t[1]]),f=A?l[2]-l[0]+5:0,p=c[0]+f,w=c[1];N(this,ju,[100*(p-i)/e,100*(w-s)/n]);const{style:v}=d(this,Ji);v.left=`${d(this,ju)[0]}%`,v.top=`${d(this,ju)[1]}%`},QB=function(){if(d(this,xA)){d(this,xA).toggleCommentPopup(this,!1);return}N(this,mc,!d(this,mc)),d(this,mc)?(P(this,Ze,IB).call(this),d(this,Ji).addEventListener("click",d(this,l1)),d(this,Ji).addEventListener("keydown",d(this,Id))):(P(this,Ze,p_).call(this),d(this,Ji).removeEventListener("click",d(this,l1)),d(this,Ji).removeEventListener("keydown",d(this,Id)))},IB=function(){d(this,EA)||this.render(),this.isVisible?d(this,mc)&&d(this,Ji).classList.add("focused"):(P(this,Ze,E6).call(this),d(this,Ji).hidden=!1,d(this,Ji).style.zIndex=parseInt(d(this,Ji).style.zIndex)+1e3)},p_=function(){d(this,Ji).classList.remove("focused"),!(d(this,mc)||!this.isVisible)&&(d(this,Ji).hidden=!0,d(this,Ji).style.zIndex=parseInt(d(this,Ji).style.zIndex)-1e3)};class S6 extends Vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Xe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var jy;class zG extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,jy,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),A=N(this,jy,this.svgFactory.createElement("svg:line"));return A.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),A.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),A.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),A.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),A.setAttribute("stroke-width",e.borderStyle.width||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),s.append(A),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,jy)}addHighlightArea(){this.container.classList.add("highlightArea")}}jy=new WeakMap;var Ky;class GG extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,Ky,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),A=e.borderStyle.width,l=N(this,Ky,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",A/2),l.setAttribute("y",A/2),l.setAttribute("width",n-A),l.setAttribute("height",i-A),l.setAttribute("stroke-width",A||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Ky)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ky=new WeakMap;var zy;class VG extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,zy,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:i}=this,s=this.svgFactory.create(n,i,!0),A=e.borderStyle.width,l=N(this,zy,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",n/2),l.setAttribute("cy",i/2),l.setAttribute("rx",n/2-A/2),l.setAttribute("ry",i/2-A/2),l.setAttribute("stroke-width",A||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,zy)}addHighlightArea(){this.container.classList.add("highlightArea")}}zy=new WeakMap;var Gy;class _6 extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,Gy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:i,popupRef:s},width:A,height:l}=this;if(!n)return this.container;const c=this.svgFactory.create(A,l,!0);let h=[];for(let p=0,w=n.length;p<w;p+=2){const v=n[p]-e[0],x=e[3]-n[p+1];h.push(`${v},${x}`)}h=h.join(" ");const f=N(this,Gy,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",h),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),c.append(f),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Gy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gy=new WeakMap;class qG extends _6{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class XG extends Vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Vy,Zg,qy,m_;class S4 extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,qy);O(this,Vy,null);O(this,Zg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Xe.HIGHLIGHT:Xe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:i,borderStyle:s,popupRef:A}}=this,{transform:l,width:c,height:h}=P(this,qy,m_).call(this,n,e),f=this.svgFactory.create(c,h,!0),p=N(this,Vy,this.svgFactory.createElement("svg:g"));f.append(p),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let w=0,v=i.length;w<v;w++){const x=this.svgFactory.createElement(this.svgElementName);d(this,Zg).push(x),x.setAttribute("points",i[w].join(",")),p.append(x)}return!A&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:i,rect:s}=e,A=d(this,Vy);if(n>=0&&A.setAttribute("stroke-width",n||1),i)for(let l=0,c=d(this,Zg).length;l<c;l++)d(this,Zg)[l].setAttribute("points",i[l].join(","));if(s){const{transform:l,width:c,height:h}=P(this,qy,m_).call(this,this.data.rotation,s);A.parentElement.setAttribute("viewBox",`0 0 ${c} ${h}`),A.setAttribute("transform",l)}}getElementsToTriggerPopup(){return d(this,Zg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vy=new WeakMap,Zg=new WeakMap,qy=new WeakSet,m_=function(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class F6 extends Vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Xe.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class YG extends Vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class WG extends Vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class $G extends Vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class U6 extends Vi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Xe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Xy,Yy,w_;class JG extends Vi{constructor(e){var i;super(e,{isRenderable:!0});O(this,Yy);O(this,Xy,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",P(this,Yy,w_).bind(this)),N(this,Xy,i);const{isMac:s}=Fs.platform;return e.addEventListener("keydown",A=>{A.key==="Enter"&&(s?A.metaKey:A.ctrlKey)&&P(this,Yy,w_).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return d(this,Xy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xy=new WeakMap,Yy=new WeakSet,w_=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var f1,tp,g1,Md,Wy,ep,ff,y_,b_;const I4=class I4{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:A,structTreeLayer:l,commentManager:c,linkService:h,annotationStorage:f}){O(this,ff);O(this,f1,null);O(this,tp,null);O(this,g1,null);O(this,Md,new Map);O(this,Wy,null);O(this,ep,null);this.div=t,N(this,f1,e),N(this,tp,n),N(this,Wy,l||null),N(this,ep,h||null),N(this,g1,f||new b4),this.page=s,this.viewport=A,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=c||null}hasEditableAnnotations(){return d(this,Md).size>0}async render(t){var A,l,c;const{annotations:e}=t,n=this.div;Ep(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:d(this,ep),downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new B5,annotationStorage:d(this,g1),enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const h of e){if(h.noHTML)continue;const f=h.annotationType===Br.POPUP;if(f){const v=i.get(h.id);if(!v)continue;s.elements=v}else if(h.rect[2]===h.rect[0]||h.rect[3]===h.rect[1])continue;s.data=h;const p=NN.create(s);if(!p.isRenderable)continue;if(!f&&h.popupRef){const v=i.get(h.popupRef);v?v.push(p):i.set(h.popupRef,[p])}const w=p.render();h.hidden&&(w.style.visibility="hidden"),await P(this,ff,y_).call(this,w,h.id,s.elements),(l=(A=p.extraPopupElement)==null?void 0:A.popup)==null||l.renderCommentButton(),p._isEditable&&(d(this,Md).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}P(this,ff,b_).call(this)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:d(this,ep),svgFactory:new B5,parent:this};for(const n of t){n.borderStyle||(n.borderStyle=I4._defaultBorderStyle),e.data=n;const i=NN.create(e);if(!i.isRenderable)continue;const s=i.render();await P(this,ff,y_).call(this,s,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Ep(e,{rotation:t.rotation}),P(this,ff,b_).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,Md).values())}getEditableAnnotation(t){return d(this,Md).get(t)}addFakeAnnotation(t){var l;const{div:e}=this,{id:n,rotation:i}=t,s=new kG({data:{id:n,rect:t.getPDFRect(),rotation:i},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:d(this,ep),annotationStorage:d(this,g1)}),A=s.render();return e.append(A),(l=d(this,f1))==null||l.moveElementInDOM(e,A,A,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return nn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:z0.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};f1=new WeakMap,tp=new WeakMap,g1=new WeakMap,Md=new WeakMap,Wy=new WeakMap,ep=new WeakMap,ff=new WeakSet,y_=async function(t,e,n){var l,c;const i=t.firstChild||t,s=i.id=`${w4}${e}`,A=await((l=d(this,Wy))==null?void 0:l.getAriaAttributes(s));if(A)for(const[h,f]of A)i.setAttribute(h,f);n?n.at(-1).container.after(t):(this.div.append(t),(c=d(this,f1))==null||c.moveElementInDOM(this.div,t,i,!1))},b_=function(){var e;if(!d(this,tp))return;const t=this.div;for(const[n,i]of d(this,tp)){const s=t.querySelector(`[data-annotation-id="${n}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:A}=s;A?A.nodeName==="CANVAS"?A.replaceWith(i):A.classList.contains("annotationContent")?A.after(i):A.before(i):s.append(i);const l=d(this,Md).get(n);l&&(l._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(n,s.id,i),l._hasNoCanvas=!1):l.canvas=i)}d(this,tp).clear()};let v_=I4;const aB=/\r\n?|\n/g;var SA,$y,np,_A,Sr,L6,N6,T6,DB,eh,kB,OB,Q6,C_,I6;const Ei=class Ei extends yi{constructor(e){super({...e,name:"freeTextEditor"});O(this,Sr);O(this,SA,"");O(this,$y,`${this.id}-editor`);O(this,np,null);O(this,_A);Wt(this,"_colorPicker",null);this.color=e.color||Ei._defaultColor||yi._defaultLineColor,N(this,_A,e.fontSize||Ei._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=Ei.prototype,n=A=>A.isEmpty(),i=Sp.TRANSLATE_SMALL,s=Sp.TRANSLATE_BIG;return nn(this,"_keyboardManager",new Cb([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(e,n){yi.initialize(e,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case Bn.FREETEXT_SIZE:Ei._defaultFontSize=n;break;case Bn.FREETEXT_COLOR:Ei._defaultColor=n;break}}updateParams(e,n){switch(e){case Bn.FREETEXT_SIZE:P(this,Sr,L6).call(this,n);break;case Bn.FREETEXT_COLOR:P(this,Sr,N6).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Bn.FREETEXT_SIZE,Ei._defaultFontSize],[Bn.FREETEXT_COLOR,Ei._defaultColor||yi._defaultLineColor]]}get propertiesToUpdate(){return[[Bn.FREETEXT_SIZE,d(this,_A)],[Bn.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new b5(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Bn.FREETEXT_COLOR}onUpdatedColor(){var e;this.editorDiv.style.color=this.color,(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ei._internalPadding*e,-(Ei._internalPadding+d(this,_A))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),N(this,np,new AbortController);const e=this._uiManager.combinedSignal(d(this,np));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,$y)),this._isDraggable=!0,(e=d(this,np))==null||e.abort(),N(this,np,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var n;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,SA),n=N(this,SA,P(this,Sr,T6).call(this).trimEnd());if(e===n)return;const i=s=>{if(N(this,SA,s),!s){this.remove();return}P(this,Sr,OB).call(this),this._uiManager.rebuild(this),P(this,Sr,DB).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(e)},mustExec:!1}),P(this,Sr,DB).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ei._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,$y)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${d(this,_A)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,A]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[f,p]=this.pageDimensions,[w,v]=this.pageTranslation;let x,B;switch(this.rotation){case 0:x=e+(l[0]-w)/f,B=n+this.height-(l[1]-v)/p;break;case 90:x=e+(l[0]-w)/f,B=n-(l[1]-v)/p,[c,h]=[h,-c];break;case 180:x=e-this.width+(l[0]-w)/f,B=n-(l[1]-v)/p,[c,h]=[-c,-h];break;case 270:x=e+(l[0]-w-this.height*p)/f,B=n+(l[1]-v-this.width*f)/p,[c,h]=[-h,c];break}this.setAt(x*s,B*A,c,h)}else this._moveAfterPaste(e,n);P(this,Sr,OB).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var x,B,F;const n=e.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const s=P(x=Ei,eh,C_).call(x,n.getData("text")||"").replaceAll(aB,`
`);if(!s)return;const A=window.getSelection();if(!A.rangeCount)return;this.editorDiv.normalize(),A.deleteFromDocument();const l=A.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),A.collapseToStart();return}const{startContainer:c,startOffset:h}=l,f=[],p=[];if(c.nodeType===Node.TEXT_NODE){const S=c.parentElement;if(p.push(c.nodeValue.slice(h).replaceAll(aB,"")),S!==this.editorDiv){let L=f;for(const T of this.editorDiv.childNodes){if(T===S){L=p;continue}L.push(P(B=Ei,eh,kB).call(B,T))}}f.push(c.nodeValue.slice(0,h).replaceAll(aB,""))}else if(c===this.editorDiv){let S=f,L=0;for(const T of this.editorDiv.childNodes)L++===h&&(S=p),S.push(P(F=Ei,eh,kB).call(F,T))}N(this,SA,`${f.join(`
`)}${s}${p.join(`
`)}`),P(this,Sr,OB).call(this);const w=new Range;let v=Math.sumPrecise(f.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const L=S.nodeValue.length;if(v<=L){w.setStart(S,v),w.setEnd(S,v);break}v-=L}A.removeAllRanges(),A.addRange(w)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Ei._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,i){var l;let s=null;if(e instanceof S6){const{data:{defaultAppearanceData:{fontSize:c,fontColor:h},rect:f,rotation:p,id:w,popupRef:v,richText:x,contentsObj:B,creationDate:F,modificationDate:S},textContent:L,textPosition:T,parent:{page:{pageNumber:k}}}=e;if(!L||L.length===0)return null;s=e={annotationType:Xe.FREETEXT,color:Array.from(h),fontSize:c,value:L.join(`
`),position:T,pageIndex:k-1,rect:f.slice(0),rotation:p,annotationElementId:w,id:w,deleted:!1,popupRef:v,comment:(B==null?void 0:B.str)||null,richText:x,creationDate:F,modificationDate:S}}const A=await super.deserialize(e,n,i);return N(A,_A,e.fontSize),A.color=fe.makeHexColor(...e.color),N(A,SA,P(l=Ei,eh,C_).call(l,e.value)),A._initialData=s,e.comment&&A.setCommentData(e),A}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=yi._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(e),{color:n,fontSize:d(this,_A),value:P(this,Sr,Q6).call(this)});return this.addComment(i),e?(i.isCopy=!0,i):this.annotationElementId&&!P(this,Sr,I6).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${d(this,_A)}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const s of d(this,SA).split(`
`)){const A=document.createElement("div");A.append(s?document.createTextNode(s):document.createElement("br")),n.append(A)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:d(this,SA)}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};SA=new WeakMap,$y=new WeakMap,np=new WeakMap,_A=new WeakMap,Sr=new WeakSet,L6=function(e){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-d(this,_A))*this.parentScale),N(this,_A,s),P(this,Sr,DB).call(this)},i=d(this,_A);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},N6=function(e){const n=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},T6=function(){var i;const e=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(P(i=Ei,eh,kB).call(i,s)),n=s);return e.join(`
`)},DB=function(){const[e,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:A}=this,l=A.style.display,c=A.classList.contains("hidden");A.classList.remove("hidden"),A.style.display="hidden",s.div.append(this.div),i=A.getBoundingClientRect(),A.remove(),A.style.display=l,A.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/n):(this.width=i.height/e,this.height=i.width/n),this.fixAndSetPosition()},eh=new WeakSet,kB=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(aB,"")},OB=function(){if(this.editorDiv.replaceChildren(),!!d(this,SA))for(const e of d(this,SA).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},Q6=function(){return d(this,SA).replaceAll(""," ")},C_=function(e){return e.replaceAll(" ","")},I6=function(e){const{value:n,fontSize:i,color:s,pageIndex:A}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==i||e.color.some((l,c)=>l!==s[c])||e.pageIndex!==A},O(Ei,eh),Wt(Ei,"_freeTextDefaultContent",""),Wt(Ei,"_internalPadding",0),Wt(Ei,"_defaultColor",null),Wt(Ei,"_defaultFontSize",10),Wt(Ei,"_type","freetext"),Wt(Ei,"_editorType",Xe.FREETEXT);let B_=Ei;class de{toSVGPath(){ui("Abstract method `toSVGPath` must be implemented.")}get box(){ui("Abstract getter `box` must be implemented.")}serialize(t,e){ui("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,i,s,A){A||(A=new Float32Array(t.length));for(let l=0,c=t.length;l<c;l+=2)A[l]=e+t[l]*i,A[l+1]=n+t[l+1]*s;return A}static _rescaleAndSwap(t,e,n,i,s,A){A||(A=new Float32Array(t.length));for(let l=0,c=t.length;l<c;l+=2)A[l]=e+t[l+1]*i,A[l+1]=n+t[l]*s;return A}static _translate(t,e,n,i){i||(i=new Float32Array(t.length));for(let s=0,A=t.length;s<A;s+=2)i[s]=e+t[s],i[s+1]=n+t[s+1];return i}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,i,s){switch(s){case 90:return[1-e/n,t/i];case 180:return[1-t/n,1-e/i];case 270:return[e/n,1-t/i];default:return[t/n,e/i]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,i,s,A){return[(t+5*n)/6,(e+5*i)/6,(5*n+s)/6,(5*i+A)/6,(n+s)/2,(i+A)/2]}}Wt(de,"PRECISION",1e-4);var FA,sl,p1,m1,wc,An,ip,rp,Jy,Zy,w1,v1,Hd,tb,H5,P5,Pr,lv,D6,k6,O6,R6,M6,H6;const mu=class mu{constructor({x:t,y:e},n,i,s,A,l=0){O(this,Pr);O(this,FA);O(this,sl,[]);O(this,p1);O(this,m1);O(this,wc,[]);O(this,An,new Float32Array(18));O(this,ip);O(this,rp);O(this,Jy);O(this,Zy);O(this,w1);O(this,v1);O(this,Hd,[]);N(this,FA,n),N(this,v1,s*i),N(this,m1,A),d(this,An).set([NaN,NaN,NaN,NaN,t,e],6),N(this,p1,l),N(this,Zy,d(mu,tb)*i),N(this,Jy,d(mu,P5)*i),N(this,w1,i),d(this,Hd).push(t,e)}isEmpty(){return isNaN(d(this,An)[8])}add({x:t,y:e}){var et;N(this,ip,t),N(this,rp,e);const[n,i,s,A]=d(this,FA);let[l,c,h,f]=d(this,An).subarray(8,12);const p=t-h,w=e-f,v=Math.hypot(p,w);if(v<d(this,Jy))return!1;const x=v-d(this,Zy),B=x/v,F=B*p,S=B*w;let L=l,T=c;l=h,c=f,h+=F,f+=S,(et=d(this,Hd))==null||et.push(t,e);const k=-S/x,R=F/x,M=k*d(this,v1),j=R*d(this,v1);return d(this,An).set(d(this,An).subarray(2,8),0),d(this,An).set([h+M,f+j],4),d(this,An).set(d(this,An).subarray(14,18),12),d(this,An).set([h-M,f-j],16),isNaN(d(this,An)[6])?(d(this,wc).length===0&&(d(this,An).set([l+M,c+j],2),d(this,wc).push(NaN,NaN,NaN,NaN,(l+M-n)/s,(c+j-i)/A),d(this,An).set([l-M,c-j],14),d(this,sl).push(NaN,NaN,NaN,NaN,(l-M-n)/s,(c-j-i)/A)),d(this,An).set([L,T,l,c,h,f],6),!this.isEmpty()):(d(this,An).set([L,T,l,c,h,f],6),Math.abs(Math.atan2(T-c,L-l)-Math.atan2(S,F))<Math.PI/2?([l,c,h,f]=d(this,An).subarray(2,6),d(this,wc).push(NaN,NaN,NaN,NaN,((l+h)/2-n)/s,((c+f)/2-i)/A),[l,c,L,T]=d(this,An).subarray(14,18),d(this,sl).push(NaN,NaN,NaN,NaN,((L+l)/2-n)/s,((T+c)/2-i)/A),!0):([L,T,l,c,h,f]=d(this,An).subarray(0,6),d(this,wc).push(((L+5*l)/6-n)/s,((T+5*c)/6-i)/A,((5*l+h)/6-n)/s,((5*c+f)/6-i)/A,((l+h)/2-n)/s,((c+f)/2-i)/A),[h,f,l,c,L,T]=d(this,An).subarray(12,18),d(this,sl).push(((L+5*l)/6-n)/s,((T+5*c)/6-i)/A,((5*l+h)/6-n)/s,((5*c+f)/6-i)/A,((l+h)/2-n)/s,((c+f)/2-i)/A),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,wc),e=d(this,sl);if(isNaN(d(this,An)[6])&&!this.isEmpty())return P(this,Pr,D6).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);P(this,Pr,O6).call(this,n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);return P(this,Pr,k6).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,i,s,A){return new P6(t,e,n,i,s,A)}getOutlines(){var p;const t=d(this,wc),e=d(this,sl),n=d(this,An),[i,s,A,l]=d(this,FA),c=new Float32Array((((p=d(this,Hd))==null?void 0:p.length)??0)+2);for(let w=0,v=c.length-2;w<v;w+=2)c[w]=(d(this,Hd)[w]-i)/A,c[w+1]=(d(this,Hd)[w+1]-s)/l;if(c[c.length-2]=(d(this,ip)-i)/A,c[c.length-1]=(d(this,rp)-s)/l,isNaN(n[6])&&!this.isEmpty())return P(this,Pr,R6).call(this,c);const h=new Float32Array(d(this,wc).length+24+d(this,sl).length);let f=t.length;for(let w=0;w<f;w+=2){if(isNaN(t[w])){h[w]=h[w+1]=NaN;continue}h[w]=t[w],h[w+1]=t[w+1]}f=P(this,Pr,H6).call(this,h,f);for(let w=e.length-6;w>=6;w-=6)for(let v=0;v<6;v+=2){if(isNaN(e[w+v])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=e[w+v],h[f+1]=e[w+v+1],f+=2}return P(this,Pr,M6).call(this,h,f),this.newFreeDrawOutline(h,c,d(this,FA),d(this,w1),d(this,p1),d(this,m1))}};FA=new WeakMap,sl=new WeakMap,p1=new WeakMap,m1=new WeakMap,wc=new WeakMap,An=new WeakMap,ip=new WeakMap,rp=new WeakMap,Jy=new WeakMap,Zy=new WeakMap,w1=new WeakMap,v1=new WeakMap,Hd=new WeakMap,tb=new WeakMap,H5=new WeakMap,P5=new WeakMap,Pr=new WeakSet,lv=function(){const t=d(this,An).subarray(4,6),e=d(this,An).subarray(16,18),[n,i,s,A]=d(this,FA);return[(d(this,ip)+(t[0]-e[0])/2-n)/s,(d(this,rp)+(t[1]-e[1])/2-i)/A,(d(this,ip)+(e[0]-t[0])/2-n)/s,(d(this,rp)+(e[1]-t[1])/2-i)/A]},D6=function(){const[t,e,n,i]=d(this,FA),[s,A,l,c]=P(this,Pr,lv).call(this);return`M${(d(this,An)[2]-t)/n} ${(d(this,An)[3]-e)/i} L${(d(this,An)[4]-t)/n} ${(d(this,An)[5]-e)/i} L${s} ${A} L${l} ${c} L${(d(this,An)[16]-t)/n} ${(d(this,An)[17]-e)/i} L${(d(this,An)[14]-t)/n} ${(d(this,An)[15]-e)/i} Z`},k6=function(t){const e=d(this,sl);t.push(`L${e[4]} ${e[5]} Z`)},O6=function(t){const[e,n,i,s]=d(this,FA),A=d(this,An).subarray(4,6),l=d(this,An).subarray(16,18),[c,h,f,p]=P(this,Pr,lv).call(this);t.push(`L${(A[0]-e)/i} ${(A[1]-n)/s} L${c} ${h} L${f} ${p} L${(l[0]-e)/i} ${(l[1]-n)/s}`)},R6=function(t){const e=d(this,An),[n,i,s,A]=d(this,FA),[l,c,h,f]=P(this,Pr,lv).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-n)/s,(e[3]-i)/A,NaN,NaN,NaN,NaN,(e[4]-n)/s,(e[5]-i)/A,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(e[16]-n)/s,(e[17]-i)/A,NaN,NaN,NaN,NaN,(e[14]-n)/s,(e[15]-i)/A],0),this.newFreeDrawOutline(p,t,d(this,FA),d(this,w1),d(this,p1),d(this,m1))},M6=function(t,e){const n=d(this,sl);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},H6=function(t,e){const n=d(this,An).subarray(4,6),i=d(this,An).subarray(16,18),[s,A,l,c]=d(this,FA),[h,f,p,w]=P(this,Pr,lv).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-s)/l,(n[1]-A)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,w,NaN,NaN,NaN,NaN,(i[0]-s)/l,(i[1]-A)/c],e),e+=24},O(mu,tb,8),O(mu,H5,2),O(mu,P5,d(mu,tb)+d(mu,H5));let C5=mu;var y1,sp,Gu,eb,UA,nb,ar,j5,j6;class P6 extends de{constructor(e,n,i,s,A,l){super();O(this,j5);O(this,y1);O(this,sp,new Float32Array(4));O(this,Gu);O(this,eb);O(this,UA);O(this,nb);O(this,ar);N(this,ar,e),N(this,UA,n),N(this,y1,i),N(this,nb,s),N(this,Gu,A),N(this,eb,l),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],P(this,j5,j6).call(this,l);const[c,h,f,p]=d(this,sp);for(let w=0,v=e.length;w<v;w+=2)e[w]=(e[w]-c)/f,e[w+1]=(e[w+1]-h)/p;for(let w=0,v=n.length;w<v;w+=2)n[w]=(n[w]-c)/f,n[w+1]=(n[w+1]-h)/p}toSVGPath(){const e=[`M${d(this,ar)[4]} ${d(this,ar)[5]}`];for(let n=6,i=d(this,ar).length;n<i;n+=6){if(isNaN(d(this,ar)[n])){e.push(`L${d(this,ar)[n+4]} ${d(this,ar)[n+5]}`);continue}e.push(`C${d(this,ar)[n]} ${d(this,ar)[n+1]} ${d(this,ar)[n+2]} ${d(this,ar)[n+3]} ${d(this,ar)[n+4]} ${d(this,ar)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,i,s],A){const l=i-e,c=s-n;let h,f;switch(A){case 0:h=de._rescale(d(this,ar),e,s,l,-c),f=de._rescale(d(this,UA),e,s,l,-c);break;case 90:h=de._rescaleAndSwap(d(this,ar),e,n,l,c),f=de._rescaleAndSwap(d(this,UA),e,n,l,c);break;case 180:h=de._rescale(d(this,ar),i,n,-l,c),f=de._rescale(d(this,UA),i,n,-l,c);break;case 270:h=de._rescaleAndSwap(d(this,ar),i,s,-l,-c),f=de._rescaleAndSwap(d(this,UA),i,s,-l,-c);break}return{outline:Array.from(h),points:[Array.from(f)]}}get box(){return d(this,sp)}newOutliner(e,n,i,s,A,l=0){return new C5(e,n,i,s,A,l)}getNewOutline(e,n){const[i,s,A,l]=d(this,sp),[c,h,f,p]=d(this,y1),w=A*f,v=l*p,x=i*f+c,B=s*p+h,F=this.newOutliner({x:d(this,UA)[0]*w+x,y:d(this,UA)[1]*v+B},d(this,y1),d(this,nb),e,d(this,eb),n??d(this,Gu));for(let S=2;S<d(this,UA).length;S+=2)F.add({x:d(this,UA)[S]*w+x,y:d(this,UA)[S+1]*v+B});return F.getOutlines()}}y1=new WeakMap,sp=new WeakMap,Gu=new WeakMap,eb=new WeakMap,UA=new WeakMap,nb=new WeakMap,ar=new WeakMap,j5=new WeakSet,j6=function(e){const n=d(this,ar);let i=n[4],s=n[5];const A=[i,s,i,s];let l=i,c=s,h=i,f=s;const p=e?Math.max:Math.min,w=new Float32Array(4);for(let x=6,B=n.length;x<B;x+=6){const F=n[x+4],S=n[x+5];isNaN(n[x])?(fe.pointBoundingBox(F,S,A),c>S?(l=F,c=S):c===S&&(l=p(l,F)),f<S?(h=F,f=S):f===S&&(h=p(h,F))):(w[0]=w[1]=1/0,w[2]=w[3]=-1/0,fe.bezierBoundingBox(i,s,...n.slice(x,x+6),w),fe.rectBoundingBox(w[0],w[1],w[2],w[3],A),c>w[1]?(l=w[0],c=w[1]):c===w[1]&&(l=p(l,w[0])),f<w[3]?(h=w[2],f=w[3]):f===w[3]&&(h=p(h,w[2]))),i=F,s=S}const v=d(this,sp);v[0]=A[0]-d(this,Gu),v[1]=A[1]-d(this,Gu),v[2]=A[2]-A[0]+2*d(this,Gu),v[3]=A[3]-A[1]+2*d(this,Gu),this.firstPoint=[l,c],this.lastPoint=[h,f]};var ib,rb,sb,Pd,al,pa,K6,RB,z6,G6,E_;class x_{constructor(t,e=0,n=0,i=!0){O(this,pa);O(this,ib);O(this,rb);O(this,sb);O(this,Pd,[]);O(this,al,[]);const s=[1/0,1/0,-1/0,-1/0],A=10**-4;for(const{x:B,y:F,width:S,height:L}of t){const T=Math.floor((B-e)/A)*A,k=Math.ceil((B+S+e)/A)*A,R=Math.floor((F-e)/A)*A,M=Math.ceil((F+L+e)/A)*A,j=[T,R,M,!0],V=[k,R,M,!1];d(this,Pd).push(j,V),fe.rectBoundingBox(T,R,k,M,s)}const l=s[2]-s[0]+2*n,c=s[3]-s[1]+2*n,h=s[0]-n,f=s[1]-n;let p=i?-1/0:1/0,w=1/0;const v=d(this,Pd).at(i?-1:-2),x=[v[0],v[2]];for(const B of d(this,Pd)){const[F,S,L,T]=B;!T&&i?S<w?(w=S,p=F):S===w&&(p=Math.max(p,F)):T&&!i&&(S<w?(w=S,p=F):S===w&&(p=Math.min(p,F))),B[0]=(F-h)/l,B[1]=(S-f)/c,B[2]=(L-f)/c}N(this,ib,new Float32Array([h,f,l,c])),N(this,rb,[p,w]),N(this,sb,x)}getOutlines(){d(this,Pd).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of d(this,Pd))e[3]?(t.push(...P(this,pa,E_).call(this,e)),P(this,pa,z6).call(this,e)):(P(this,pa,G6).call(this,e),t.push(...P(this,pa,E_).call(this,e)));return P(this,pa,K6).call(this,t)}}ib=new WeakMap,rb=new WeakMap,sb=new WeakMap,Pd=new WeakMap,al=new WeakMap,pa=new WeakSet,K6=function(t){const e=[],n=new Set;for(const A of t){const[l,c,h]=A;e.push([l,c,A],[l,h,A])}e.sort((A,l)=>A[1]-l[1]||A[0]-l[0]);for(let A=0,l=e.length;A<l;A+=2){const c=e[A][2],h=e[A+1][2];c.push(h),h.push(c),n.add(c),n.add(h)}const i=[];let s;for(;n.size>0;){const A=n.values().next().value;let[l,c,h,f,p]=A;n.delete(A);let w=l,v=c;for(s=[l,h],i.push(s);;){let x;if(n.has(f))x=f;else if(n.has(p))x=p;else break;n.delete(x),[l,c,h,f,p]=x,w!==l&&(s.push(w,v,l,v===c?c:h),w=l),v=v===c?h:c}s.push(w,v)}return new ZG(i,d(this,ib),d(this,rb),d(this,sb))},RB=function(t){const e=d(this,al);let n=0,i=e.length-1;for(;n<=i;){const s=n+i>>1,A=e[s][0];if(A===t)return s;A<t?n=s+1:i=s-1}return i+1},z6=function([,t,e]){const n=P(this,pa,RB).call(this,t);d(this,al).splice(n,0,[t,e])},G6=function([,t,e]){const n=P(this,pa,RB).call(this,t);for(let i=n;i<d(this,al).length;i++){const[s,A]=d(this,al)[i];if(s!==t)break;if(s===t&&A===e){d(this,al).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,A]=d(this,al)[i];if(s!==t)break;if(s===t&&A===e){d(this,al).splice(i,1);return}}},E_=function(t){const[e,n,i]=t,s=[[e,n,i]],A=P(this,pa,RB).call(this,i);for(let l=0;l<A;l++){const[c,h]=d(this,al)[l];for(let f=0,p=s.length;f<p;f++){const[,w,v]=s[f];if(!(h<=w||v<=c)){if(w>=c){if(v>h)s[f][1]=h;else{if(p===1)return[];s.splice(f,1),f--,p--}continue}s[f][2]=c,v>h&&s.push([e,h,v])}}}return s};var ab,b1;class ZG extends de{constructor(e,n,i,s){super();O(this,ab);O(this,b1);N(this,b1,e),N(this,ab,n),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const e=[];for(const n of d(this,b1)){let[i,s]=n;e.push(`M${i} ${s}`);for(let A=2;A<n.length;A+=2){const l=n[A],c=n[A+1];l===i?(e.push(`V${c}`),s=c):c===s&&(e.push(`H${l}`),i=l)}e.push("Z")}return e.join(" ")}serialize([e,n,i,s],A){const l=[],c=i-e,h=s-n;for(const f of d(this,b1)){const p=new Array(f.length);for(let w=0;w<f.length;w+=2)p[w]=e+f[w]*c,p[w+1]=s-f[w+1]*h;l.push(p)}return l}get box(){return d(this,ab)}get classNamesForOutlining(){return["highlightOutline"]}}ab=new WeakMap,b1=new WeakMap;class S_ extends C5{newFreeDrawOutline(t,e,n,i,s,A){return new tV(t,e,n,i,s,A)}}class tV extends P6{newOutliner(t,e,n,i,s,A=0){return new S_(t,e,n,i,s,A)}}var B1,Ab,Vu,ap,ob,Ya,lb,cb,Ap,LA,NA,bs,C1,x1,Ys,E1,mo,ub,Je,__,MB,V6,q6,X6,F_,tg,yo,W0,Y6,HB,PB,W6,$6,J6,Z6,tD;const kn=class kn extends yi{constructor(e){super({...e,name:"highlightEditor"});O(this,Je);O(this,B1,null);O(this,Ab,0);O(this,Vu);O(this,ap,null);O(this,ob,null);O(this,Ya,null);O(this,lb,null);O(this,cb,0);O(this,Ap,null);O(this,LA,null);O(this,NA,null);O(this,bs,!1);O(this,C1,null);O(this,x1,null);O(this,Ys,null);O(this,E1,"");O(this,mo);O(this,ub,"");this.color=e.color||kn._defaultColor,N(this,mo,e.thickness||kn._defaultThickness),this.opacity=e.opacity||kn._defaultOpacity,N(this,Vu,e.boxes||null),N(this,ub,e.methodOfCreation||""),N(this,E1,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(N(this,bs,!0),P(this,Je,MB).call(this,e),P(this,Je,tg).call(this)):d(this,Vu)&&(N(this,B1,e.anchorNode),N(this,Ab,e.anchorOffset),N(this,lb,e.focusNode),N(this,cb,e.focusOffset),P(this,Je,__).call(this),P(this,Je,tg).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=kn.prototype;return nn(this,"_keyboardManager",new Cb([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,bs)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:d(this,mo),methodOfCreation:d(this,ub)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var i;yi.initialize(e,n),kn._defaultColor||(kn._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case Bn.HIGHLIGHT_COLOR:kn._defaultColor=n;break;case Bn.HIGHLIGHT_THICKNESS:kn._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return d(this,x1)}get commentButtonPosition(){return d(this,C1)}updateParams(e,n){switch(e){case Bn.HIGHLIGHT_COLOR:P(this,Je,V6).call(this,n);break;case Bn.HIGHLIGHT_THICKNESS:P(this,Je,q6).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Bn.HIGHLIGHT_COLOR,kn._defaultColor],[Bn.HIGHLIGHT_THICKNESS,kn._defaultThickness]]}get propertiesToUpdate(){return[[Bn.HIGHLIGHT_COLOR,this.color||kn._defaultColor],[Bn.HIGHLIGHT_THICKNESS,d(this,mo)||kn._defaultThickness],[Bn.HIGHLIGHT_FREE,d(this,bs)]]}onUpdatedColor(){var e,n;(e=this.parent)==null||e.drawLayer.updateProperties(d(this,NA),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=d(this,ob))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",N(this,ob,new y5({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(P(this,Je,PB).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,P(this,Je,PB).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){P(this,Je,F_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,Je,tg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let n=!1;this.parent&&!e?P(this,Je,F_).call(this):e&&(P(this,Je,tg).call(this,e),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var s,A,l;const{drawLayer:n}=this.parent;let i;d(this,bs)?(e=(e-this.rotation+360)%360,i=P(s=kn,yo,W0).call(s,d(this,LA).box,e)):i=P(A=kn,yo,W0).call(A,[this.x,this.y,this.width,this.height],e),n.updateProperties(d(this,NA),{bbox:i,root:{"data-main-rotation":e}}),n.updateProperties(d(this,Ys),{bbox:P(l=kn,yo,W0).call(l,d(this,Ya).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();d(this,E1)&&(e.setAttribute("aria-label",d(this,E1)),e.setAttribute("role","mark")),d(this,bs)?e.classList.add("free"):this.div.addEventListener("keydown",P(this,Je,Y6).bind(this),{signal:this._uiManager._signal});const n=N(this,Ap,document.createElement("div"));return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=d(this,ap),this.setDims(this.width,this.height),BI(this,d(this,Ap),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,Ys),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,Ys),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:P(this,Je,HB).call(this,!0);break;case 1:case 3:P(this,Je,HB).call(this,!1);break}}select(){var e;super.select(),d(this,Ys)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,Ys),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),d(this,Ys)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,Ys),{rootClass:{selected:!1}}),d(this,bs)||P(this,Je,HB).call(this,!1))}get _mustFixPosition(){return!d(this,bs)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(d(this,NA),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(d(this,Ys),{rootClass:{hidden:!e}}))}static startHighlighting(e,n,{target:i,x:s,y:A}){const{x:l,y:c,width:h,height:f}=i.getBoundingClientRect(),p=new AbortController,w=e.combinedSignal(p),v=x=>{p.abort(),P(this,yo,Z6).call(this,e,x)};window.addEventListener("blur",v,{signal:w}),window.addEventListener("pointerup",v,{signal:w}),window.addEventListener("pointerdown",er,{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Eo,{signal:w}),i.addEventListener("pointermove",P(this,yo,J6).bind(this,e),{signal:w}),this._freeHighlight=new S_({x:s,y:A},[l,c,h,f],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,n,i){var B,F,S,L;let s=null;if(e instanceof F6){const{data:{quadPoints:T,rect:k,rotation:R,id:M,color:j,opacity:V,popupRef:et,richText:ut,contentsObj:H,creationDate:G,modificationDate:tt},parent:{page:{pageNumber:it}}}=e;s=e={annotationType:Xe.HIGHLIGHT,color:Array.from(j),opacity:V,quadPoints:T,boxes:null,pageIndex:it-1,rect:k.slice(0),rotation:R,annotationElementId:M,id:M,deleted:!1,popupRef:et,richText:ut,comment:(H==null?void 0:H.str)||null,creationDate:G,modificationDate:tt}}else if(e instanceof S4){const{data:{inkLists:T,rect:k,rotation:R,id:M,color:j,borderStyle:{rawWidth:V},popupRef:et,richText:ut,contentsObj:H,creationDate:G,modificationDate:tt},parent:{page:{pageNumber:it}}}=e;s=e={annotationType:Xe.HIGHLIGHT,color:Array.from(j),thickness:V,inkLists:T,boxes:null,pageIndex:it-1,rect:k.slice(0),rotation:R,annotationElementId:M,id:M,deleted:!1,popupRef:et,richText:ut,comment:(H==null?void 0:H.str)||null,creationDate:G,modificationDate:tt}}const{color:A,quadPoints:l,inkLists:c,opacity:h}=e,f=await super.deserialize(e,n,i);f.color=fe.makeHexColor(...A),f.opacity=h||1,c&&N(f,mo,e.thickness),f._initialData=s,e.comment&&f.setCommentData(e);const[p,w]=f.pageDimensions,[v,x]=f.pageTranslation;if(l){const T=N(f,Vu,[]);for(let k=0;k<l.length;k+=8)T.push({x:(l[k]-v)/p,y:1-(l[k+1]-x)/w,width:(l[k+2]-l[k])/p,height:(l[k+1]-l[k+5])/w});P(B=f,Je,__).call(B),P(F=f,Je,tg).call(F),f.rotate(f.rotation)}else if(c){N(f,bs,!0);const T=c[0],k={x:T[0]-v,y:w-(T[1]-x)},R=new S_(k,[0,0,p,w],1,d(f,mo)/2,!0,.001);for(let V=0,et=T.length;V<et;V+=2)k.x=T[V]-v,k.y=w-(T[V+1]-x),R.add(k);const{id:M,clipPathId:j}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:R.toSVGPath()}},!0,!0);P(S=f,Je,MB).call(S,{highlightOutlines:R.getOutlines(),highlightId:M,clipPathId:j}),P(L=f,Je,tg).call(L),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=yi._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(e);return Object.assign(i,{color:n,opacity:this.opacity,thickness:d(this,mo),quadPoints:P(this,Je,W6).call(this),outlines:P(this,Je,$6).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!P(this,Je,tD).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};B1=new WeakMap,Ab=new WeakMap,Vu=new WeakMap,ap=new WeakMap,ob=new WeakMap,Ya=new WeakMap,lb=new WeakMap,cb=new WeakMap,Ap=new WeakMap,LA=new WeakMap,NA=new WeakMap,bs=new WeakMap,C1=new WeakMap,x1=new WeakMap,Ys=new WeakMap,E1=new WeakMap,mo=new WeakMap,ub=new WeakMap,Je=new WeakSet,__=function(){const e=new x_(d(this,Vu),.001);N(this,LA,e.getOutlines()),[this.x,this.y,this.width,this.height]=d(this,LA).box;const n=new x_(d(this,Vu),.0025,.001,this._uiManager.direction==="ltr");N(this,Ya,n.getOutlines());const{firstPoint:i}=d(this,LA);N(this,C1,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=d(this,Ya);N(this,x1,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},MB=function({highlightOutlines:e,highlightId:n,clipPathId:i}){var w,v;if(N(this,LA,e),N(this,Ya,e.getNewOutline(d(this,mo)/2+1.5,.0025)),n>=0)N(this,NA,n),N(this,ap,i),this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),N(this,Ys,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:d(this,Ya).box,path:{d:d(this,Ya).toSVGPath()}},!0));else if(this.parent){const x=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(d(this,NA),{bbox:P(w=kn,yo,W0).call(w,d(this,LA).box,(x-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(d(this,Ys),{bbox:P(v=kn,yo,W0).call(v,d(this,Ya).box,x),path:{d:d(this,Ya).toSVGPath()}})}const[A,l,c,h]=e.box;switch(this.rotation){case 0:this.x=A,this.y=l,this.width=c,this.height=h;break;case 90:{const[x,B]=this.parentDimensions;this.x=l,this.y=1-A,this.width=c*B/x,this.height=h*x/B;break}case 180:this.x=1-A,this.y=1-l,this.width=c,this.height=h;break;case 270:{const[x,B]=this.parentDimensions;this.x=1-l,this.y=A,this.width=c*B/x,this.height=h*x/B;break}}const{firstPoint:f}=e;N(this,C1,[(f[0]-A)/c,(f[1]-l)/h]);const{lastPoint:p}=d(this,Ya);N(this,x1,[(p[0]-A)/c,(p[1]-l)/h])},V6=function(e){const n=(A,l)=>{this.color=A,this.opacity=l,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:n.bind(this,e,kn._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},q6=function(e){const n=d(this,mo),i=s=>{N(this,mo,s),P(this,Je,X6).call(this,s)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},X6=function(e){d(this,bs)&&(P(this,Je,MB).call(this,{highlightOutlines:d(this,LA).getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},F_=function(){d(this,NA)===null||!this.parent||(this.parent.drawLayer.remove(d(this,NA)),N(this,NA,null),this.parent.drawLayer.remove(d(this,Ys)),N(this,Ys,null))},tg=function(e=this.parent){d(this,NA)===null&&({id:Ir(this,NA)._,clipPathId:Ir(this,ap)._}=e.drawLayer.draw({bbox:d(this,LA).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:d(this,bs)},path:{d:d(this,LA).toSVGPath()}},!1,!0),N(this,Ys,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:d(this,bs)},bbox:d(this,Ya).box,path:{d:d(this,Ya).toSVGPath()}},d(this,bs))),d(this,Ap)&&(d(this,Ap).style.clipPath=d(this,ap)))},yo=new WeakSet,W0=function([e,n,i,s],A){switch(A){case 90:return[1-n-s,e,s,i];case 180:return[1-e-i,1-n-s,i,s];case 270:return[n,1-e-i,s,i]}return[e,n,i,s]},Y6=function(e){kn._keyboardManager.exec(this,e)},HB=function(e){if(!d(this,B1))return;const n=window.getSelection();e?n.setPosition(d(this,B1),d(this,Ab)):n.setPosition(d(this,lb),d(this,cb))},PB=function(){return d(this,bs)?this.rotation:0},W6=function(){if(d(this,bs))return null;const[e,n]=this.pageDimensions,[i,s]=this.pageTranslation,A=d(this,Vu),l=new Float32Array(A.length*8);let c=0;for(const{x:h,y:f,width:p,height:w}of A){const v=h*e+i,x=(1-f)*n+s;l[c]=l[c+4]=v,l[c+1]=l[c+3]=x,l[c+2]=l[c+6]=v+p*e,l[c+5]=l[c+7]=x-w*n,c+=8}return l},$6=function(e){return d(this,LA).serialize(e,P(this,Je,PB).call(this))},J6=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Z6=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},tD=function(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((i,s)=>i!==n[s])},O(kn,yo),Wt(kn,"_defaultColor",null),Wt(kn,"_defaultOpacity",1),Wt(kn,"_defaultThickness",12),Wt(kn,"_type","highlight"),Wt(kn,"_editorType",Xe.HIGHLIGHT),Wt(kn,"_freeHighlightId",-1),Wt(kn,"_freeHighlight",null),Wt(kn,"_freeHighlightClipId","");let x5=kn;var op;class eD{constructor(){O(this,op,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){d(this,op)[t]=e}toSVGProperties(){const t=d(this,op);return N(this,op,Object.create(null)),{root:t}}reset(){N(this,op,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){ui("Not implemented")}}op=new WeakMap;var TA,S1,rs,lp,cp,jd,Kd,zd,up,_n,U_,L_,N_,cv,nD,jB,uv,$0;const pe=class pe extends yi{constructor(e){super(e);O(this,_n);O(this,TA,null);O(this,S1);Wt(this,"_colorPicker",null);Wt(this,"_drawId",null);N(this,S1,e.mustBeCommitted||!1),this._addOutlines(e)}onUpdatedColor(){var e;(e=this._colorPicker)==null||e.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(P(this,_n,U_).call(this,e),P(this,_n,cv).call(this))}static _mergeSVGProperties(e,n){const i=new Set(Object.keys(e));for(const[s,A]of Object.entries(n))i.has(s)?Object.assign(e[s],A):e[s]=A;return e}static getDefaultDrawingOptions(e){ui("Not implemented")}static get typesMap(){ui("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const i=this.typesMap.get(e);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(d(pe,rs).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const i=this.constructor.typesMap.get(e);i&&this._updateProperty(e,i,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)e.push([i,n[s]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)e.push([i,n[s]]);return e}_updateProperty(e,n,i){const s=this._drawingOptions,A=s[n],l=c=>{var f;s.updateProperty(n,c);const h=d(this,TA).updateProperty(n,c);h&&P(this,_n,uv).call(this,h),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,A),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties(d(this,TA).getPathResizingSVGProperties(P(this,_n,jB).call(this)),{bbox:P(this,_n,$0).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties(d(this,TA).getPathResizedSVGProperties(P(this,_n,jB).call(this)),{bbox:P(this,_n,$0).call(this)}))}_onTranslating(e,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:P(this,_n,$0).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties(d(this,TA).getPathTranslatedSVGProperties(P(this,_n,jB).call(this),this.parentDimensions),{bbox:P(this,_n,$0).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,d(this,S1)&&(N(this,S1,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){P(this,_n,N_).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,_n,cv).call(this),P(this,_n,uv).call(this,d(this,TA).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),P(this,_n,N_).call(this)):e&&(this._uiManager.addShouldRescale(this),P(this,_n,cv).call(this,e),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties({bbox:P(this,_n,$0).call(this)},d(this,TA).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&P(this,_n,uv).call(this,d(this,TA).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),i}static createDrawerInstance(e,n,i,s,A){ui("Not implemented")}static startDrawing(e,n,i,s){var F;const{target:A,offsetX:l,offsetY:c,pointerId:h,pointerType:f}=s;if(d(pe,Kd)&&d(pe,Kd)!==f)return;const{viewport:{rotation:p}}=e,{width:w,height:v}=A.getBoundingClientRect(),x=N(pe,lp,new AbortController),B=e.combinedSignal(x);if(d(pe,jd)||N(pe,jd,h),d(pe,Kd)??N(pe,Kd,f),window.addEventListener("pointerup",S=>{var L;d(pe,jd)===S.pointerId?this._endDraw(S):(L=d(pe,zd))==null||L.delete(S.pointerId)},{signal:B}),window.addEventListener("pointercancel",S=>{var L;d(pe,jd)===S.pointerId?this._currentParent.endDrawingSession():(L=d(pe,zd))==null||L.delete(S.pointerId)},{signal:B}),window.addEventListener("pointerdown",S=>{d(pe,Kd)===S.pointerType&&((d(pe,zd)||N(pe,zd,new Set)).add(S.pointerId),d(pe,rs).isCancellable()&&(d(pe,rs).removeLastElement(),d(pe,rs).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:B}),window.addEventListener("contextmenu",Eo,{signal:B}),A.addEventListener("pointermove",this._drawMove.bind(this),{signal:B}),A.addEventListener("touchmove",S=>{S.timeStamp===d(pe,up)&&er(S)},{signal:B}),e.toggleDrawing(),(F=n._editorUndoBar)==null||F.hide(),d(pe,rs)){e.drawLayer.updateProperties(this._currentDrawId,d(pe,rs).startNew(l,c,w,v,p));return}n.updateUIForDefaultProperties(this),N(pe,rs,this.createDrawerInstance(l,c,w,v,p)),N(pe,cp,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(d(pe,cp).toSVGProperties(),d(pe,rs).defaultSVGProperties),!0,!1)}static _drawMove(e){var A;if(N(pe,up,-1),!d(pe,rs))return;const{offsetX:n,offsetY:i,pointerId:s}=e;if(d(pe,jd)===s){if(((A=d(pe,zd))==null?void 0:A.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,d(pe,rs).add(n,i)),N(pe,up,e.timeStamp),er(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,N(pe,rs,null),N(pe,cp,null),N(pe,Kd,null),N(pe,up,NaN)),d(pe,lp)&&(d(pe,lp).abort(),N(pe,lp,null),N(pe,jd,NaN),N(pe,zd,null))}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,d(pe,rs).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const i=d(pe,rs),s=this._currentDrawId,A=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(A))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Bn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Bn.DRAW_STEP),!d(pe,rs).isEmpty()){const{pageDimensions:[i,s],scale:A}=n,l=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:d(pe,rs).getOutlines(i*A,s*A,A,this._INNER_MARGIN),drawingOptions:d(pe,cp),mustBeCommitted:!e});return this._cleanup(!0),l}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,i,s,A,l){ui("Not implemented")}static async deserialize(e,n,i){var p,w;const{rawDims:{pageWidth:s,pageHeight:A,pageX:l,pageY:c}}=n.viewport,h=this.deserializeDraw(l,c,s,A,this._INNER_MARGIN,e),f=await super.deserialize(e,n,i);return f.createDrawingOptions(e),P(p=f,_n,U_).call(p,{drawOutlines:h}),P(w=f,_n,cv).call(w),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[n,i]=this.pageTranslation,[s,A]=this.pageDimensions;return d(this,TA).serialize([n,i,s,A],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};TA=new WeakMap,S1=new WeakMap,rs=new WeakMap,lp=new WeakMap,cp=new WeakMap,jd=new WeakMap,Kd=new WeakMap,zd=new WeakMap,up=new WeakMap,_n=new WeakSet,U_=function({drawOutlines:e,drawId:n,drawingOptions:i}){N(this,TA,e),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=P(this,_n,L_).call(this,e,this.parent),P(this,_n,uv).call(this,e.box)},L_=function(e,n){const{id:i}=n.drawLayer.draw(pe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return i},N_=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},cv=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=P(this,_n,L_).call(this,d(this,TA),e)}},nD=function([e,n,i,s]){const{parentDimensions:[A,l],rotation:c}=this;switch(c){case 90:return[n,1-e,i*(l/A),s*(A/l)];case 180:return[1-e,1-n,i,s];case 270:return[1-n,e,i*(l/A),s*(A/l)];default:return[e,n,i,s]}},jB=function(){const{x:e,y:n,width:i,height:s,parentDimensions:[A,l],rotation:c}=this;switch(c){case 90:return[1-n,e,i*(A/l),s*(l/A)];case 180:return[1-e,1-n,i,s];case 270:return[n,1-e,i*(A/l),s*(l/A)];default:return[e,n,i,s]}},uv=function(e){[this.x,this.y,this.width,this.height]=P(this,_n,nD).call(this,e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},$0=function(){const{x:e,y:n,width:i,height:s,rotation:A,parentRotation:l,parentDimensions:[c,h]}=this;switch((A*4+l)/90){case 1:return[1-n-s,e,s,i];case 2:return[1-e-i,1-n-s,i,s];case 3:return[n,1-e-i,s,i];case 4:return[e,n-i*(c/h),s*(h/c),i*(c/h)];case 5:return[1-n,e,i*(c/h),s*(h/c)];case 6:return[1-e-s*(h/c),1-n,s*(h/c),i*(c/h)];case 7:return[n-i*(c/h),1-e-s*(h/c),i*(c/h),s*(h/c)];case 8:return[e-i,n-s,i,s];case 9:return[1-n,e-i,s,i];case 10:return[1-e,1-n,i,s];case 11:return[n-s,1-e,s,i];case 12:return[e-s*(h/c),n,s*(h/c),i*(c/h)];case 13:return[1-n-i*(c/h),e-s*(h/c),i*(c/h),s*(h/c)];case 14:return[1-e,1-n-i*(c/h),s*(h/c),i*(c/h)];case 15:return[n,1-e,i*(c/h),s*(h/c)];default:return[e,n,i,s]}},Wt(pe,"_currentDrawId",-1),Wt(pe,"_currentParent",null),O(pe,rs,null),O(pe,lp,null),O(pe,cp,null),O(pe,jd,NaN),O(pe,Kd,null),O(pe,zd,null),O(pe,up,NaN),Wt(pe,"_INNER_MARGIN",3);let E5=pe;var vc,ss,as,hp,_1,la,Bs,wo,dp,fp,gp,F1,KB;class eV{constructor(t,e,n,i,s,A){O(this,F1);O(this,vc,new Float64Array(6));O(this,ss);O(this,as);O(this,hp);O(this,_1);O(this,la);O(this,Bs,"");O(this,wo,0);O(this,dp,new Eb);O(this,fp);O(this,gp);N(this,fp,n),N(this,gp,i),N(this,hp,s),N(this,_1,A),[t,e]=P(this,F1,KB).call(this,t,e);const l=N(this,ss,[NaN,NaN,NaN,NaN,t,e]);N(this,la,[t,e]),N(this,as,[{line:l,points:d(this,la)}]),d(this,vc).set(l,0)}updateProperty(t,e){t==="stroke-width"&&N(this,_1,e)}isEmpty(){return!d(this,as)||d(this,as).length===0}isCancellable(){return d(this,la).length<=10}add(t,e){[t,e]=P(this,F1,KB).call(this,t,e);const[n,i,s,A]=d(this,vc).subarray(2,6),l=t-s,c=e-A;return Math.hypot(d(this,fp)*l,d(this,gp)*c)<=2?null:(d(this,la).push(t,e),isNaN(n)?(d(this,vc).set([s,A,t,e],2),d(this,ss).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(d(this,vc)[0])&&d(this,ss).splice(6,6),d(this,vc).set([n,i,s,A,t,e],0),d(this,ss).push(...de.createBezierPoints(n,i,s,A,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(d(this,la).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,i,s){N(this,fp,n),N(this,gp,i),N(this,hp,s),[t,e]=P(this,F1,KB).call(this,t,e);const A=N(this,ss,[NaN,NaN,NaN,NaN,t,e]);N(this,la,[t,e]);const l=d(this,as).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),d(this,as).push({line:A,points:d(this,la)}),d(this,vc).set(A,0),N(this,wo,0),this.toSVGPath(),null}getLastElement(){return d(this,as).at(-1)}setLastElement(t){return d(this,as)?(d(this,as).push(t),N(this,ss,t.line),N(this,la,t.points),N(this,wo,0),{path:{d:this.toSVGPath()}}):d(this,dp).setLastElement(t)}removeLastElement(){if(!d(this,as))return d(this,dp).removeLastElement();d(this,as).pop(),N(this,Bs,"");for(let t=0,e=d(this,as).length;t<e;t++){const{line:n,points:i}=d(this,as)[t];N(this,ss,n),N(this,la,i),N(this,wo,0),this.toSVGPath()}return{path:{d:d(this,Bs)}}}toSVGPath(){const t=de.svgRound(d(this,ss)[4]),e=de.svgRound(d(this,ss)[5]);if(d(this,la).length===2)return N(this,Bs,`${d(this,Bs)} M ${t} ${e} Z`),d(this,Bs);if(d(this,la).length<=6){const i=d(this,Bs).lastIndexOf("M");N(this,Bs,`${d(this,Bs).slice(0,i)} M ${t} ${e}`),N(this,wo,6)}if(d(this,la).length===4){const i=de.svgRound(d(this,ss)[10]),s=de.svgRound(d(this,ss)[11]);return N(this,Bs,`${d(this,Bs)} L ${i} ${s}`),N(this,wo,12),d(this,Bs)}const n=[];d(this,wo)===0&&(n.push(`M ${t} ${e}`),N(this,wo,6));for(let i=d(this,wo),s=d(this,ss).length;i<s;i+=6){const[A,l,c,h,f,p]=d(this,ss).slice(i,i+6).map(de.svgRound);n.push(`C${A} ${l} ${c} ${h} ${f} ${p}`)}return N(this,Bs,d(this,Bs)+n.join(" ")),N(this,wo,d(this,ss).length),d(this,Bs)}getOutlines(t,e,n,i){const s=d(this,as).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),d(this,dp).build(d(this,as),t,e,n,d(this,hp),d(this,_1),i),N(this,vc,null),N(this,ss,null),N(this,as,null),N(this,Bs,null),d(this,dp)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}vc=new WeakMap,ss=new WeakMap,as=new WeakMap,hp=new WeakMap,_1=new WeakMap,la=new WeakMap,Bs=new WeakMap,wo=new WeakMap,dp=new WeakMap,fp=new WeakMap,gp=new WeakMap,F1=new WeakSet,KB=function(t,e){return de._normalizePoint(t,e,d(this,fp),d(this,gp),d(this,hp))};var ca,hb,db,QA,yc,bc,U1,L1,pp,Es,fu,iD,rD,sD;class Eb extends de{constructor(){super(...arguments);O(this,Es);O(this,ca);O(this,hb,0);O(this,db);O(this,QA);O(this,yc);O(this,bc);O(this,U1);O(this,L1);O(this,pp)}build(e,n,i,s,A,l,c){N(this,yc,n),N(this,bc,i),N(this,U1,s),N(this,L1,A),N(this,pp,l),N(this,db,c??0),N(this,QA,e),P(this,Es,rD).call(this)}get thickness(){return d(this,pp)}setLastElement(e){return d(this,QA).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return d(this,QA).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of d(this,QA)){if(e.push(`M${de.svgRound(n[4])} ${de.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${de.svgRound(n[10])} ${de.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[A,l,c,h,f,p]=n.subarray(i,i+6).map(de.svgRound);e.push(`C${A} ${l} ${c} ${h} ${f} ${p}`)}}return e.join("")}serialize([e,n,i,s],A){const l=[],c=[],[h,f,p,w]=P(this,Es,iD).call(this);let v,x,B,F,S,L,T,k,R;switch(d(this,L1)){case 0:R=de._rescale,v=e,x=n+s,B=i,F=-s,S=e+h*i,L=n+(1-f-w)*s,T=e+(h+p)*i,k=n+(1-f)*s;break;case 90:R=de._rescaleAndSwap,v=e,x=n,B=i,F=s,S=e+f*i,L=n+h*s,T=e+(f+w)*i,k=n+(h+p)*s;break;case 180:R=de._rescale,v=e+i,x=n,B=-i,F=s,S=e+(1-h-p)*i,L=n+f*s,T=e+(1-h)*i,k=n+(f+w)*s;break;case 270:R=de._rescaleAndSwap,v=e+i,x=n+s,B=-i,F=-s,S=e+(1-f-w)*i,L=n+(1-h-p)*s,T=e+(1-f)*i,k=n+(1-h)*s;break}for(const{line:M,points:j}of d(this,QA))l.push(R(M,v,x,B,F,A?new Array(M.length):null)),c.push(R(j,v,x,B,F,A?new Array(j.length):null));return{lines:l,points:c,rect:[S,L,T,k]}}static deserialize(e,n,i,s,A,{paths:{lines:l,points:c},rotation:h,thickness:f}){const p=[];let w,v,x,B,F;switch(h){case 0:F=de._rescale,w=-e/i,v=n/s+1,x=1/i,B=-1/s;break;case 90:F=de._rescaleAndSwap,w=-n/s,v=-e/i,x=1/s,B=1/i;break;case 180:F=de._rescale,w=e/i+1,v=-n/s,x=-1/i,B=1/s;break;case 270:F=de._rescaleAndSwap,w=n/s+1,v=e/i+1,x=-1/s,B=-1/i;break}if(!l){l=[];for(const L of c){const T=L.length;if(T===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1]]));continue}if(T===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,L[0],L[1],NaN,NaN,NaN,NaN,L[2],L[3]]));continue}const k=new Float32Array(3*(T-2));l.push(k);let[R,M,j,V]=L.subarray(0,4);k.set([NaN,NaN,NaN,NaN,R,M],0);for(let et=4;et<T;et+=2){const ut=L[et],H=L[et+1];k.set(de.createBezierPoints(R,M,j,V,ut,H),(et-2)*3),[R,M,j,V]=[j,V,ut,H]}}}for(let L=0,T=l.length;L<T;L++)p.push({line:F(l[L].map(k=>k??NaN),w,v,x,B),points:F(c[L].map(k=>k??NaN),w,v,x,B)});const S=new this.prototype.constructor;return S.build(p,i,s,1,h,f,A),S}get box(){return d(this,ca)}updateProperty(e,n){return e==="stroke-width"?P(this,Es,sD).call(this,n):null}updateParentDimensions([e,n],i){const[s,A]=P(this,Es,fu).call(this);N(this,yc,e),N(this,bc,n),N(this,U1,i);const[l,c]=P(this,Es,fu).call(this),h=l-s,f=c-A,p=d(this,ca);return p[0]-=h,p[1]-=f,p[2]+=2*h,p[3]+=2*f,p}updateRotation(e){return N(this,hb,e),{path:{transform:this.rotationTransform}}}get viewBox(){return d(this,ca).map(de.svgRound).join(" ")}get defaultProperties(){const[e,n]=d(this,ca);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(e)} ${de.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=d(this,ca);let i=0,s=0,A=0,l=0,c=0,h=0;switch(d(this,hb)){case 90:s=n/e,A=-e/n,c=e;break;case 180:i=-1,l=-1,c=e,h=n;break;case 270:s=-n/e,A=e/n,h=n;break;default:return""}return`matrix(${i} ${s} ${A} ${l} ${de.svgRound(c)} ${de.svgRound(h)})`}getPathResizingSVGProperties([e,n,i,s]){const[A,l]=P(this,Es,fu).call(this),[c,h,f,p]=d(this,ca);if(Math.abs(f-A)<=de.PRECISION||Math.abs(p-l)<=de.PRECISION){const F=e+i/2-(c+f/2),S=n+s/2-(h+p/2);return{path:{"transform-origin":`${de.svgRound(e)} ${de.svgRound(n)}`,transform:`${this.rotationTransform} translate(${F} ${S})`}}}const w=(i-2*A)/(f-2*A),v=(s-2*l)/(p-2*l),x=f/i,B=p/s;return{path:{"transform-origin":`${de.svgRound(c)} ${de.svgRound(h)}`,transform:`${this.rotationTransform} scale(${x} ${B}) translate(${de.svgRound(A)} ${de.svgRound(l)}) scale(${w} ${v}) translate(${de.svgRound(-A)} ${de.svgRound(-l)})`}}}getPathResizedSVGProperties([e,n,i,s]){const[A,l]=P(this,Es,fu).call(this),c=d(this,ca),[h,f,p,w]=c;if(c[0]=e,c[1]=n,c[2]=i,c[3]=s,Math.abs(p-A)<=de.PRECISION||Math.abs(w-l)<=de.PRECISION){const S=e+i/2-(h+p/2),L=n+s/2-(f+w/2);for(const{line:T,points:k}of d(this,QA))de._translate(T,S,L,T),de._translate(k,S,L,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(e)} ${de.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*A)/(p-2*A),x=(s-2*l)/(w-2*l),B=-v*(h+A)+e+A,F=-x*(f+l)+n+l;if(v!==1||x!==1||B!==0||F!==0)for(const{line:S,points:L}of d(this,QA))de._rescale(S,B,F,v,x,S),de._rescale(L,B,F,v,x,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(e)} ${de.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],i){const[s,A]=i,l=d(this,ca),c=e-l[0],h=n-l[1];if(d(this,yc)===s&&d(this,bc)===A)for(const{line:f,points:p}of d(this,QA))de._translate(f,c,h,f),de._translate(p,c,h,p);else{const f=d(this,yc)/s,p=d(this,bc)/A;N(this,yc,s),N(this,bc,A);for(const{line:w,points:v}of d(this,QA))de._rescale(w,c,h,f,p,w),de._rescale(v,c,h,f,p,v);l[2]*=f,l[3]*=p}return l[0]=e,l[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(e)} ${de.svgRound(n)}`}}}get defaultSVGProperties(){const e=d(this,ca);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(e[0])} ${de.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}ca=new WeakMap,hb=new WeakMap,db=new WeakMap,QA=new WeakMap,yc=new WeakMap,bc=new WeakMap,U1=new WeakMap,L1=new WeakMap,pp=new WeakMap,Es=new WeakSet,fu=function(e=d(this,pp)){const n=d(this,db)+e/2*d(this,U1);return d(this,L1)%180===0?[n/d(this,yc),n/d(this,bc)]:[n/d(this,bc),n/d(this,yc)]},iD=function(){const[e,n,i,s]=d(this,ca),[A,l]=P(this,Es,fu).call(this,0);return[e+A,n+l,i-2*A,s-2*l]},rD=function(){const e=N(this,ca,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of d(this,QA)){if(s.length<=12){for(let c=4,h=s.length;c<h;c+=6)fe.pointBoundingBox(s[c],s[c+1],e);continue}let A=s[4],l=s[5];for(let c=6,h=s.length;c<h;c+=6){const[f,p,w,v,x,B]=s.subarray(c,c+6);fe.bezierBoundingBox(A,l,f,p,w,v,x,B,e),A=x,l=B}}const[n,i]=P(this,Es,fu).call(this);e[0]=fa(e[0]-n,0,1),e[1]=fa(e[1]-i,0,1),e[2]=fa(e[2]+n,0,1),e[3]=fa(e[3]+i,0,1),e[2]-=e[0],e[3]-=e[1]},sD=function(e){const[n,i]=P(this,Es,fu).call(this);N(this,pp,e);const[s,A]=P(this,Es,fu).call(this),[l,c]=[s-n,A-i],h=d(this,ca);return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h};class hC extends eD{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:yi._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new hC(this._viewParameters);return t.updateAll(this),t}}var K5,aD;const rm=class rm extends E5{constructor(e){super({...e,name:"inkEditor"});O(this,K5);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){yi.initialize(e,n),this._defaultDrawingOptions=new hC(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return nn(this,"typesMap",new Map([[Bn.INK_THICKNESS,"stroke-width"],[Bn.INK_COLOR,"stroke"],[Bn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,i,s,A){return new eV(e,n,i,s,A,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,i,s,A,l){return Eb.deserialize(e,n,i,s,A,l)}static async deserialize(e,n,i){let s=null;if(e instanceof S4){const{data:{inkLists:l,rect:c,rotation:h,id:f,color:p,opacity:w,borderStyle:{rawWidth:v},popupRef:x,richText:B,contentsObj:F,creationDate:S,modificationDate:L},parent:{page:{pageNumber:T}}}=e;s=e={annotationType:Xe.INK,color:Array.from(p),thickness:v,opacity:w,paths:{points:l},boxes:null,pageIndex:T-1,rect:c.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:x,richText:B,comment:(F==null?void 0:F.str)||null,creationDate:S,modificationDate:L}}const A=await super.deserialize(e,n,i);return A._initialData=s,e.comment&&A.setCommentData(e),A}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new b5(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Bn.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:i}){this._drawingOptions=rm.getDefaultDrawingOptions({stroke:fe.makeHexColor(...e),"stroke-width":n,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(e),{_drawingOptions:{stroke:s,"stroke-opacity":A,"stroke-width":l}}=this,c=Object.assign(super.serialize(e),{color:yi._colorManager.convert(s),opacity:A,thickness:l,paths:{lines:n,points:i}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!P(this,K5,aD).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return e.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};K5=new WeakSet,aD=function(e){const{color:n,thickness:i,opacity:s,pageIndex:A}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((l,c)=>l!==n[c])||e.thickness!==i||e.opacity!==s||e.pageIndex!==A},Wt(rm,"_type","ink"),Wt(rm,"_editorType",Xe.INK),Wt(rm,"_defaultDrawingOptions",null);let T_=rm;class Q_ extends Eb{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const AB=8,Ow=3;var mp,Mn,I_,Al,AD,oD,D_,zB,lD,cD,uD,k_,O_,hD;class Ju{static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:i},s,A,l,c){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const p=200,w=f.font=`${n} ${i} ${p}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:x,actualBoundingBoxAscent:B,actualBoundingBoxDescent:F,fontBoundingBoxAscent:S,fontBoundingBoxDescent:L,width:T}=f.measureText(t),k=1.5,R=Math.ceil(Math.max(Math.abs(v)+Math.abs(x)||0,T)*k),M=Math.ceil(Math.max(Math.abs(B)+Math.abs(F)||p,Math.abs(S)+Math.abs(L)||p)*k);h=new OffscreenCanvas(R,M),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=w,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,R,M),f.fillStyle="black",f.fillText(t,R*(k-1)/2,M*(3-k)/2);const j=P(this,Mn,k_).call(this,f.getImageData(0,0,R,M).data),V=P(this,Mn,uD).call(this,j),et=P(this,Mn,O_).call(this,V),ut=P(this,Mn,D_).call(this,j,R,M,et);return this.processDrawnLines({lines:{curves:ut,width:R,height:M},pageWidth:s,pageHeight:A,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(t,e,n,i,s){const[A,l,c]=P(this,Mn,hD).call(this,t),[h,f]=P(this,Mn,cD).call(this,A,l,c,Math.hypot(l,c)*d(this,mp).sigmaSFactor,d(this,mp).sigmaR,d(this,mp).kernelSize),p=P(this,Mn,O_).call(this,f),w=P(this,Mn,D_).call(this,h,l,c,p);return this.processDrawnLines({lines:{curves:w,width:l,height:c},pageWidth:e,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:A,areContours:l}){i%180!==0&&([e,n]=[n,e]);const{curves:c,width:h,height:f}=t,p=t.thickness??0,w=[],v=Math.min(e/h,n/f),x=v/e,B=v/n,F=[];for(const{points:L}of c){const T=A?P(this,Mn,lD).call(this,L):L;if(!T)continue;F.push(T);const k=T.length,R=new Float32Array(k),M=new Float32Array(3*(k===2?2:k-2));if(w.push({line:M,points:R}),k===2){R[0]=T[0]*x,R[1]=T[1]*B,M.set([NaN,NaN,NaN,NaN,R[0],R[1]],0);continue}let[j,V,et,ut]=T;j*=x,V*=B,et*=x,ut*=B,R.set([j,V,et,ut],0),M.set([NaN,NaN,NaN,NaN,j,V],0);for(let H=4;H<k;H+=2){const G=R[H]=T[H]*x,tt=R[H+1]=T[H+1]*B;M.set(de.createBezierPoints(j,V,et,ut,G,tt),(H-2)*3),[j,V,et,ut]=[et,ut,G,tt]}}if(w.length===0)return null;const S=l?new Q_:new Eb;return S.build(w,e,n,1,i,l?0:p,s),{outline:S,newCurves:F,areContours:l,thickness:p,width:h,height:f}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:i,height:s}){let A=1/0,l=-1/0,c=0;for(const T of t){c+=T.length;for(let k=2,R=T.length;k<R;k++){const M=T[k]-T[k-2];A=Math.min(A,M),l=Math.max(l,M)}}let h;A>=-128&&l<=127?h=Int8Array:A>=-32768&&l<=32767?h=Int16Array:h=Int32Array;const f=t.length,p=AB+Ow*f,w=new Uint32Array(p);let v=0;w[v++]=p*Uint32Array.BYTES_PER_ELEMENT+(c-2*f)*h.BYTES_PER_ELEMENT,w[v++]=0,w[v++]=i,w[v++]=s,w[v++]=e?0:1,w[v++]=Math.max(0,Math.floor(n??0)),w[v++]=f,w[v++]=h.BYTES_PER_ELEMENT;for(const T of t)w[v++]=T.length-2,w[v++]=T[0],w[v++]=T[1];const x=new CompressionStream("deflate-raw"),B=x.writable.getWriter();await B.ready,B.write(w);const F=h.prototype.constructor;for(const T of t){const k=new F(T.length-2);for(let R=2,M=T.length;R<M;R++)k[R-2]=T[R]-T[R-2];B.write(k)}B.close();const S=await new Response(x.readable).arrayBuffer(),L=new Uint8Array(S);return fI(L)}static async decompressSignature(t){try{const e=mz(t),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(e).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let A=null,l=0;for await(const T of n)A||(A=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),A.set(T,l),l+=T.length;const c=new Uint32Array(A.buffer,0,A.length>>2),h=c[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=c[2],p=c[3],w=c[4]===0,v=c[5],x=c[6],B=c[7],F=[],S=(AB+Ow*x)*Uint32Array.BYTES_PER_ELEMENT;let L;switch(B){case Int8Array.BYTES_PER_ELEMENT:L=new Int8Array(A.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:L=new Int16Array(A.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:L=new Int32Array(A.buffer,S);break}l=0;for(let T=0;T<x;T++){const k=c[Ow*T+AB],R=new Float32Array(k+2);F.push(R);for(let M=0;M<Ow-1;M++)R[M]=c[Ow*T+AB+M+1];for(let M=0;M<k;M++)R[M+2]=R[M]+L[l++]}return{areContours:w,thickness:v,outlines:F,width:f,height:p}}catch(e){return Ge(`decompressSignature: ${e}`),null}}}mp=new WeakMap,Mn=new WeakSet,I_=function(t,e,n,i){return n-=t,i-=e,n===0?i>0?0:4:n===1?i+6:2-i},Al=new WeakMap,AD=function(t,e,n,i,s,A,l){const c=P(this,Mn,I_).call(this,n,i,s,A);for(let h=0;h<8;h++){const f=(-h+c-l+16)%8,p=d(this,Al)[2*f],w=d(this,Al)[2*f+1];if(t[(n+p)*e+(i+w)]!==0)return f}return-1},oD=function(t,e,n,i,s,A,l){const c=P(this,Mn,I_).call(this,n,i,s,A);for(let h=0;h<8;h++){const f=(h+c+l+16)%8,p=d(this,Al)[2*f],w=d(this,Al)[2*f+1];if(t[(n+p)*e+(i+w)]!==0)return f}return-1},D_=function(t,e,n,i){const s=t.length,A=new Int32Array(s);for(let f=0;f<s;f++)A[f]=t[f]<=i?1:0;for(let f=1;f<n-1;f++)A[f*e]=A[f*e+e-1]=0;for(let f=0;f<e;f++)A[f]=A[e*n-1-f]=0;let l=1,c;const h=[];for(let f=1;f<n-1;f++){c=1;for(let p=1;p<e-1;p++){const w=f*e+p,v=A[w];if(v===0)continue;let x=f,B=p;if(v===1&&A[w-1]===0)l+=1,B-=1;else if(v>=1&&A[w+1]===0)l+=1,B+=1,v>1&&(c=v);else{v!==1&&(c=Math.abs(v));continue}const F=[p,f],S=B===p+1,L={isHole:S,points:F,id:l,parent:0};h.push(L);let T;for(const H of h)if(H.id===c){T=H;break}T?T.isHole?L.parent=S?T.parent:c:L.parent=S?c:T.parent:L.parent=S?c:0;const k=P(this,Mn,AD).call(this,A,e,f,p,x,B,0);if(k===-1){A[w]=-l,A[w]!==1&&(c=Math.abs(A[w]));continue}let R=d(this,Al)[2*k],M=d(this,Al)[2*k+1];const j=f+R,V=p+M;x=j,B=V;let et=f,ut=p;for(;;){const H=P(this,Mn,oD).call(this,A,e,et,ut,x,B,1);R=d(this,Al)[2*H],M=d(this,Al)[2*H+1];const G=et+R,tt=ut+M;F.push(tt,G);const it=et*e+ut;if(A[it+1]===0?A[it]=-l:A[it]===1&&(A[it]=l),G===f&&tt===p&&et===j&&ut===V){A[w]!==1&&(c=Math.abs(A[w]));break}else x=et,B=ut,et=G,ut=tt}}}return h},zB=function(t,e,n,i){if(n-e<=4){for(let j=e;j<n-2;j+=2)i.push(t[j],t[j+1]);return}const s=t[e],A=t[e+1],l=t[n-4]-s,c=t[n-3]-A,h=Math.hypot(l,c),f=l/h,p=c/h,w=f*A-p*s,v=c/l,x=1/h,B=Math.atan(v),F=Math.cos(B),S=Math.sin(B),L=x*(Math.abs(F)+Math.abs(S)),T=x*(1-L+L**2),k=Math.max(Math.atan(Math.abs(S+F)*T),Math.atan(Math.abs(S-F)*T));let R=0,M=e;for(let j=e+2;j<n-2;j+=2){const V=Math.abs(w-f*t[j+1]+p*t[j]);V>R&&(M=j,R=V)}R>(h*k)**2?(P(this,Mn,zB).call(this,t,e,M+2,i),P(this,Mn,zB).call(this,t,M,n,i)):i.push(s,A)},lD=function(t){const e=[],n=t.length;return P(this,Mn,zB).call(this,t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e},cD=function(t,e,n,i,s,A){const l=new Float32Array(A**2),c=-2*i**2,h=A>>1;for(let B=0;B<A;B++){const F=(B-h)**2;for(let S=0;S<A;S++)l[B*A+S]=Math.exp((F+(S-h)**2)/c)}const f=new Float32Array(256),p=-2*s**2;for(let B=0;B<256;B++)f[B]=Math.exp(B**2/p);const w=t.length,v=new Uint8Array(w),x=new Uint32Array(256);for(let B=0;B<n;B++)for(let F=0;F<e;F++){const S=B*e+F,L=t[S];let T=0,k=0;for(let M=0;M<A;M++){const j=B+M-h;if(!(j<0||j>=n))for(let V=0;V<A;V++){const et=F+V-h;if(et<0||et>=e)continue;const ut=t[j*e+et],H=l[M*A+V]*f[Math.abs(ut-L)];T+=ut*H,k+=H}}const R=v[S]=Math.round(T/k);x[R]++}return[v,x]},uD=function(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e},k_=function(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let i=-1/0,s=1/0;for(let l=0,c=n.length;l<c;l++){const h=n[l]=t[l<<2];i=Math.max(i,h),s=Math.min(s,h)}const A=255/(i-s);for(let l=0,c=n.length;l<c;l++)n[l]=(n[l]-s)*A;return n},O_=function(t){let e,n=-1/0,i=-1/0;const s=t.findIndex(c=>c!==0);let A=s,l=s;for(e=s;e<256;e++){const c=t[e];c>n&&(e-A>i&&(i=e-A,l=e-1),n=c,A=e)}for(e=l-1;e>=0&&!(t[e]>t[e+1]);e--);return e},hD=function(t){const e=t,{width:n,height:i}=t,{maxDim:s}=d(this,mp);let A=n,l=i;if(n>s||i>s){let w=n,v=i,x=Math.log2(Math.max(n,i)/s);const B=Math.floor(x);x=x===B?B-1:B;for(let S=0;S<x;S++){A=Math.ceil(w/2),l=Math.ceil(v/2);const L=new OffscreenCanvas(A,l);L.getContext("2d").drawImage(t,0,0,w,v,0,0,A,l),w=A,v=l,t!==e&&t.close(),t=L.transferToImageBitmap()}const F=Math.min(s/A,s/l);A=Math.round(A*F),l=Math.round(l*F)}const h=new OffscreenCanvas(A,l).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,A,l),h.filter="grayscale(1)",h.drawImage(t,0,0,t.width,t.height,0,0,A,l);const f=h.getImageData(0,0,A,l).data;return[P(this,Mn,k_).call(this,f),A,l]},O(Ju,Mn),O(Ju,mp,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),O(Ju,Al,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class _4 extends eD{constructor(){super(),super.updateProperties({fill:yi._defaultLineColor,"stroke-width":0})}clone(){const t=new _4;return t.updateAll(this),t}}class F4 extends hC{constructor(t){super(t),super.updateProperties({stroke:yi._defaultLineColor,"stroke-width":1})}clone(){const t=new F4(this._viewParameters);return t.updateAll(this),t}}var Gd,Bc,Vd,wp;const mA=class mA extends E5{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});O(this,Gd,!1);O(this,Bc,null);O(this,Vd,null);O(this,wp,null);this._willKeepAspectRatio=!0,N(this,Vd,e.signatureData||null),N(this,Bc,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){yi.initialize(e,n),this._defaultDrawingOptions=new _4,this._defaultDrawnSignatureOptions=new F4(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return nn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!d(this,Bc)}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(d(this,Vd)){const{lines:s,mustSmooth:A,areContours:l,description:c,uuid:h,heightInPage:f}=d(this,Vd),{rawDims:{pageWidth:p,pageHeight:w},rotation:v}=this.parent.viewport,x=Ju.processDrawnLines({lines:s,pageWidth:p,pageHeight:w,rotation:v,innerMargin:mA._INNER_MARGIN,mustSmooth:A,areContours:l});this.addSignature(x,f,c,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:d(this,Bc)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){N(this,wp,e),this.addEditToolbar()}getUuid(){return d(this,wp)}get description(){return d(this,Bc)}set description(e){N(this,Bc,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:i,width:s,height:A}=d(this,Vd),l=Math.max(s,A),c=Ju.processDrawnLines({lines:{curves:e.map(h=>({points:h})),thickness:i,width:s,height:A},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,i,s){const{x:A,y:l}=this,{outline:c}=N(this,Vd,e);N(this,Gd,c instanceof Q_),this.description=i;let h;d(this,Gd)?h=mA.getDefaultDrawingOptions():(h=mA._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:h});const[,f]=this.pageDimensions;let p=n/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=A,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return Ju.process(e,n,i,s,mA._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:i,pageHeight:s},rotation:A}=this.parent.viewport;return Ju.extractContoursFromText(e,n,i,s,A,mA._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return Ju.processDrawnLines({lines:e,pageWidth:n,pageHeight:i,rotation:s,innerMargin:mA._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=mA.getDefaultDrawingOptions():(this._drawingOptions=mA._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":s}}=this,A=Object.assign(super.serialize(e),{isSignature:!0,areContours:d(this,Gd),color:[0,0,0],thickness:d(this,Gd)?0:s});return this.addComment(A),e?(A.paths={lines:n,points:i},A.uuid=d(this,wp),A.isCopy=!0):A.lines=n,d(this,Bc)&&(A.accessibilityData={type:"Figure",alt:d(this,Bc)}),A}static deserializeDraw(e,n,i,s,A,l){return l.areContours?Q_.deserialize(e,n,i,s,A,l):Eb.deserialize(e,n,i,s,A,l)}static async deserialize(e,n,i){var A;const s=await super.deserialize(e,n,i);return N(s,Gd,e.areContours),s.description=((A=e.accessibilityData)==null?void 0:A.alt)||"",N(s,wp,e.uuid),s}};Gd=new WeakMap,Bc=new WeakMap,Vd=new WeakMap,wp=new WeakMap,Wt(mA,"_type","signature"),Wt(mA,"_editorType",Xe.SIGNATURE),Wt(mA,"_defaultDrawingOptions",null);let R_=mA;var Oi,As,qd,qu,Xd,N1,Xu,vp,Cc,IA,T1,Fn,hv,dv,GB,VB,qB,H_,XB,dD;class M_ extends yi{constructor(e){super({...e,name:"stampEditor"});O(this,Fn);O(this,Oi,null);O(this,As,null);O(this,qd,null);O(this,qu,null);O(this,Xd,null);O(this,N1,"");O(this,Xu,null);O(this,vp,!1);O(this,Cc,null);O(this,IA,!1);O(this,T1,!1);N(this,qu,e.bitmapUrl),N(this,Xd,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){yi.initialize(e,n)}static isHandlingMimeForPasting(e){return BS.includes(e)}static paste(e,n){n.pasteEditor({mode:Xe.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:A,height:l}=e||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:s,width:A,height:l,channels:s.length/(A*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const h=c.output;return await this.setGuessedAltText(h),n&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}remove(){var e;d(this,As)&&(N(this,Oi,null),this._uiManager.imageManager.deleteId(d(this,As)),(e=d(this,Xu))==null||e.remove(),N(this,Xu,null),d(this,Cc)&&(clearTimeout(d(this,Cc)),N(this,Cc,null))),super.remove()}rebuild(){if(!this.parent){d(this,As)&&P(this,Fn,GB).call(this);return}super.rebuild(),this.div!==null&&(d(this,As)&&d(this,Xu)===null&&P(this,Fn,GB).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(d(this,qd)||d(this,Oi)||d(this,qu)||d(this,Xd)||d(this,As)||d(this,vp))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),d(this,vp)||(d(this,Oi)?P(this,Fn,VB).call(this):P(this,Fn,GB).call(this)),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(N(this,As,i),s&&N(this,Oi,s),N(this,vp,!1),P(this,Fn,VB).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;d(this,Cc)!==null&&clearTimeout(d(this,Cc)),N(this,Cc,setTimeout(()=>{N(this,Cc,null),P(this,Fn,H_).call(this)},200))}copyCanvas(e,n,i=!1){e||(e=224);const{width:s,height:A}=d(this,Oi),l=new Sc;let c=d(this,Oi),h=s,f=A,p=null;if(n){if(s>n||A>n){const j=Math.min(n/s,n/A);h=Math.floor(s*j),f=Math.floor(A*j)}p=document.createElement("canvas");const v=p.width=Math.ceil(h*l.sx),x=p.height=Math.ceil(f*l.sy);d(this,IA)||(c=P(this,Fn,qB).call(this,v,x));const B=p.getContext("2d");B.filter=this._uiManager.hcmFilter;let F="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":Cz.isDarkMode&&(F="#8f8f9d",S="#42414d");const L=15,T=L*l.sx,k=L*l.sy,R=new OffscreenCanvas(T*2,k*2),M=R.getContext("2d");M.fillStyle=F,M.fillRect(0,0,T*2,k*2),M.fillStyle=S,M.fillRect(0,0,T,k),M.fillRect(T,k,T,k),B.fillStyle=B.createPattern(R,"repeat"),B.fillRect(0,0,v,x),B.drawImage(c,0,0,c.width,c.height,0,0,v,x)}let w=null;if(i){let v,x;if(l.symmetric&&c.width<e&&c.height<e)v=c.width,x=c.height;else if(c=d(this,Oi),s>e||A>e){const S=Math.min(e/s,e/A);v=Math.floor(s*S),x=Math.floor(A*S),d(this,IA)||(c=P(this,Fn,qB).call(this,v,x))}const F=new OffscreenCanvas(v,x).getContext("2d",{willReadFrequently:!0});F.drawImage(c,0,0,c.width,c.height,0,0,v,x),w={width:v,height:x,data:F.getImageData(0,0,v,x).data}}return{canvas:p,width:h,height:f,imageData:w}}static async deserialize(e,n,i){var F;let s=null,A=!1;if(e instanceof U6){const{data:{rect:S,rotation:L,id:T,structParent:k,popupRef:R,richText:M,contentsObj:j,creationDate:V,modificationDate:et},container:ut,parent:{page:{pageNumber:H}},canvas:G}=e;let tt,it;G?(delete e.canvas,{id:tt,bitmap:it}=i.imageManager.getFromCanvas(ut.id,G),G.remove()):(A=!0,e._hasNoCanvas=!0);const mt=((F=await n._structTree.getAriaAttributes(`${w4}${T}`))==null?void 0:F.get("aria-label"))||"";s=e={annotationType:Xe.STAMP,bitmapId:tt,bitmap:it,pageIndex:H-1,rect:S.slice(0),rotation:L,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:mt},isSvg:!1,structParent:k,popupRef:R,richText:M,comment:(j==null?void 0:j.str)||null,creationDate:V,modificationDate:et}}const l=await super.deserialize(e,n,i),{rect:c,bitmap:h,bitmapUrl:f,bitmapId:p,isSvg:w,accessibilityData:v}=e;A?(i.addMissingCanvas(e.id,l),N(l,vp,!0)):p&&i.imageManager.isValidId(p)?(N(l,As,p),h&&N(l,Oi,h)):N(l,qu,f),N(l,IA,w);const[x,B]=l.pageDimensions;return l.width=(c[2]-c[0])/x,l.height=(c[3]-c[1])/B,v&&(l.altTextData=v),l._initialData=s,e.comment&&l.setCommentData(e),N(l,T1,!!s),l}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(e),{bitmapId:d(this,As),isSvg:d(this,IA)});if(this.addComment(i),e)return i.bitmapUrl=P(this,Fn,XB).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:A}=this.serializeAltText(!1);if(!s&&A&&(i.accessibilityData={type:"Figure",alt:A}),this.annotationElementId){const c=P(this,Fn,dD).call(this,i);return c.isSame?null:(c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||(n.stamps=new Map);const l=d(this,IA)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(d(this,As)))n.stamps.set(d(this,As),{area:l,serialized:i}),i.bitmap=P(this,Fn,XB).call(this,!1);else if(d(this,IA)){const c=n.stamps.get(d(this,As));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=P(this,Fn,XB).call(this,!1))}return i}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Oi=new WeakMap,As=new WeakMap,qd=new WeakMap,qu=new WeakMap,Xd=new WeakMap,N1=new WeakMap,Xu=new WeakMap,vp=new WeakMap,Cc=new WeakMap,IA=new WeakMap,T1=new WeakMap,Fn=new WeakSet,hv=function(e,n=!1){if(!e){this.remove();return}N(this,Oi,e.bitmap),n||(N(this,As,e.id),N(this,IA,e.isSvg)),e.file&&N(this,N1,e.file.name),P(this,Fn,VB).call(this)},dv=function(){if(N(this,qd,null),this._uiManager.enableWaiting(!1),!!d(this,Xu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Oi)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Oi)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},GB=function(){if(d(this,As)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,As)).then(i=>P(this,Fn,hv).call(this,i,!0)).finally(()=>P(this,Fn,dv).call(this));return}if(d(this,qu)){const i=d(this,qu);N(this,qu,null),this._uiManager.enableWaiting(!0),N(this,qd,this._uiManager.imageManager.getFromUrl(i).then(s=>P(this,Fn,hv).call(this,s)).finally(()=>P(this,Fn,dv).call(this)));return}if(d(this,Xd)){const i=d(this,Xd);N(this,Xd,null),this._uiManager.enableWaiting(!0),N(this,qd,this._uiManager.imageManager.getFromFile(i).then(s=>P(this,Fn,hv).call(this,s)).finally(()=>P(this,Fn,dv).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=BS.join(",");const n=this._uiManager._signal;N(this,qd,new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),P(this,Fn,hv).call(this,s)}i()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>P(this,Fn,dv).call(this))),e.click()},VB=function(){var h;const{div:e}=this;let{width:n,height:i}=d(this,Oi);const[s,A]=this.pageDimensions,l=.75;if(this.width)n=this.width*s,i=this.height*A;else if(n>l*s||i>l*A){const f=Math.min(l*s/n,l*A/i);n*=f,i*=f}this._uiManager.enableWaiting(!1);const c=N(this,Xu,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=n/s,this.height=i/A,this.setDims(),(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),P(this,Fn,H_).call(this),d(this,T1)||(this.parent.addUndoableEditor(this),N(this,T1,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,N1)&&this.div.setAttribute("aria-description",d(this,N1)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},qB=function(e,n){const{width:i,height:s}=d(this,Oi);let A=i,l=s,c=d(this,Oi);for(;A>2*e||l>2*n;){const h=A,f=l;A>2*e&&(A=A>=16384?Math.floor(A/2)-1:Math.ceil(A/2)),l>2*n&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(A,l);p.getContext("2d").drawImage(c,0,0,h,f,0,0,A,l),c=p.transferToImageBitmap()}return c},H_=function(){const[e,n]=this.parentDimensions,{width:i,height:s}=this,A=new Sc,l=Math.ceil(i*e*A.sx),c=Math.ceil(s*n*A.sy),h=d(this,Xu);if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const f=d(this,IA)?d(this,Oi):P(this,Fn,qB).call(this,l,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,c)},XB=function(e){if(e){if(d(this,IA)){const s=this._uiManager.imageManager.getSvgUrl(d(this,As));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=d(this,Oi),n.getContext("2d").drawImage(d(this,Oi),0,0),n.toDataURL()}if(d(this,IA)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*hf.PDF_TO_CSS_UNITS),A=Math.round(this.height*i*hf.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,A);return l.getContext("2d").drawImage(d(this,Oi),0,0,d(this,Oi).width,d(this,Oi).height,0,0,s,A),l.transferToImageBitmap()}return structuredClone(d(this,Oi))},dD=function(e){var l;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=e.pageIndex===n,A=(((l=e.accessibilityData)==null?void 0:l.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&A,isSameAltText:A}},Wt(M_,"_type","stamp"),Wt(M_,"_editorType",Xe.STAMP);var yp,Q1,Yd,Wd,Yu,Wa,$d,I1,D1,ol,Wu,os,$u,Jd,k1,ye,Zd,ci,j_,fD,tc,K_,z_,YB;const Yo=class Yo{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:A,drawLayer:l,textLayer:c,viewport:h,l10n:f}){O(this,ci);O(this,yp);O(this,Q1,!1);O(this,Yd,null);O(this,Wd,null);O(this,Yu,null);O(this,Wa,new Map);O(this,$d,!1);O(this,I1,!1);O(this,D1,!1);O(this,ol,null);O(this,Wu,null);O(this,os,null);O(this,$u,null);O(this,Jd,null);O(this,k1,-1);O(this,ye);const p=[...d(Yo,Zd).values()];if(!Yo._initialized){Yo._initialized=!0;for(const w of p)w.initialize(f,t)}t.registerEditorTypes(p),N(this,ye,t),this.pageIndex=e,this.div=n,N(this,yp,s),N(this,Yd,A),this.viewport=h,N(this,os,c),this.drawLayer=l,this._structTree=i,d(this,ye).addLayer(this)}get isEmpty(){return d(this,Wa).size===0}get isInvisible(){return this.isEmpty&&d(this,ye).getMode()===Xe.NONE}updateToolbar(t){d(this,ye).updateToolbar(t)}updateMode(t=d(this,ye).getMode()){switch(P(this,ci,YB).call(this),t){case Xe.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Xe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Xe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Xe.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of d(Yo,Zd).values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,os))==null?void 0:e.div)}setEditingState(t){d(this,ye).setEditingState(t)}addCommands(t){d(this,ye).addCommands(t)}cleanUndoStack(t){d(this,ye).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,Yd))==null||e.div.classList.toggle("disabled",!t)}async enable(){var n;N(this,D1,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=d(this,Jd))==null||n.abort(),N(this,Jd,null);const t=new Set;for(const i of d(this,ci,j_))i.enableEditing(),i.show(!0),i.annotationElementId&&(d(this,ye).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const e=d(this,Yd);if(e)for(const i of e.getEditableAnnotations()){if(i.hide(),d(this,ye).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}N(this,D1,!1),d(this,ye)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var n;if(N(this,I1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),d(this,os)&&!d(this,Jd)){N(this,Jd,new AbortController);const i=d(this,ye).combinedSignal(d(this,Jd));d(this,os).div.addEventListener("pointerdown",s=>{const{clientX:l,clientY:c,timeStamp:h}=s,f=d(this,k1);if(h-f>500){N(this,k1,h);return}N(this,k1,-1);const{classList:p}=this.div;p.toggle("getElements",!0);const w=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(w[0]))return;let v;const x=new RegExp(`^${Lv}[0-9]+$`);for(const F of w)if(x.test(F.id)){v=F.id;break}if(!v)return;const B=d(this,Wa).get(v);(B==null?void 0:B.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),B.dblclick(s))},{signal:i,capture:!0})}const t=d(this,Yd);if(t){const i=new Map,s=new Map;for(const l of d(this,ci,j_)){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else s.set(l.annotationElementId,l);(n=this.getEditableAnnotation(l.annotationElementId))==null||n.show(),l.remove()}const A=t.getEditableAnnotations();for(const l of A){const{id:c}=l.data;if(d(this,ye).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let h=s.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=i.get(c),h&&(d(this,ye).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}P(this,ci,YB).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const i of d(Yo,Zd).values())e.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),N(this,I1,!1)}getEditableAnnotation(t){var e;return((e=d(this,Yd))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,ye).getActive()!==t&&d(this,ye).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,os))!=null&&t.div&&!d(this,$u)){N(this,$u,new AbortController);const e=d(this,ye).combinedSignal(d(this,$u));d(this,os).div.addEventListener("pointerdown",P(this,ci,fD).bind(this),{signal:e}),d(this,os).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,os))!=null&&t.div&&d(this,$u)&&(d(this,$u).abort(),N(this,$u,null),d(this,os).div.classList.remove("highlighting"))}enableClick(){if(d(this,Wd))return;N(this,Wd,new AbortController);const t=d(this,ye).combinedSignal(d(this,Wd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=d(this,Wd))==null||t.abort(),N(this,Wd,null)}attach(t){d(this,Wa).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,ye).isDeletedAnnotationElement(e)&&d(this,ye).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,Wa).delete(t.id),(e=d(this,yp))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,I1)&&t.annotationElementId&&d(this,ye).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,ye).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,ye).addDeletedAnnotationElement(t.annotationElementId),yi.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,ye).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!d(this,D1)),d(this,ye).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,Yu)&&(t._focusEventsAllowed=!1,N(this,Yu,setTimeout(()=>{N(this,Yu,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,ye)._signal}),e.focus())},0))),t._structTreeParentId=(n=d(this,yp))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of d(this,Wa).values())if(e.uid===t)return e;return null}getNextId(){return d(this,ye).getId()}combinedSignal(t){return d(this,ye).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,ci,tc))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await d(this,ye).updateMode(t.mode);const{offsetX:n,offsetY:i}=P(this,ci,z_).call(this),s=this.getNextId(),A=P(this,ci,K_).call(this,{parent:this,id:s,x:n,y:i,uiManager:d(this,ye),isCentered:!0,...e});A&&this.add(A)}async deserialize(t){var e;return await((e=d(Yo,Zd).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,ye)))||null}createAndAddNewEditor(t,e,n={}){const i=this.getNextId(),s=P(this,ci,K_).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:d(this,ye),isCentered:e,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(t={}){this.createAndAddNewEditor(P(this,ci,z_).call(this),!0,t)}setSelected(t){d(this,ye).setSelected(t)}toggleSelected(t){d(this,ye).toggleSelected(t)}unselect(t){d(this,ye).unselect(t)}pointerup(t){var i;const{isMac:e}=Fs.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!d(this,$d)||(N(this,$d,!1),(i=d(this,ci,tc))!=null&&i.isDrawer&&d(this,ci,tc).supportMultipleDrawings))return;if(!d(this,Q1)){N(this,Q1,!0);return}const n=d(this,ye).getMode();if(n===Xe.STAMP||n===Xe.SIGNATURE){d(this,ye).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var i;if(d(this,ye).getMode()===Xe.HIGHLIGHT&&this.enableTextSelection(),d(this,$d)){N(this,$d,!1);return}const{isMac:e}=Fs.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(N(this,$d,!0),(i=d(this,ci,tc))!=null&&i.isDrawer){this.startDrawingSession(t);return}const n=d(this,ye).getActive();N(this,Q1,!n||n.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),d(this,ol)){d(this,ci,tc).startDrawing(this,d(this,ye),!1,t);return}d(this,ye).setCurrentDrawingSession(this),N(this,ol,new AbortController);const e=d(this,ye).combinedSignal(d(this,ol));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(N(this,Wu,null),this.commitOrRemove())},{signal:e}),d(this,ci,tc).startDrawing(this,d(this,ye),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&N(this,Wu,e);return}d(this,Wu)&&setTimeout(()=>{var e;(e=d(this,Wu))==null||e.focus(),N(this,Wu,null)},0)}endDrawingSession(t=!1){return d(this,ol)?(d(this,ye).setCurrentDrawingSession(null),d(this,ol).abort(),N(this,ol,null),N(this,Wu,null),d(this,ci,tc).endDrawing(t)):null}findNewParent(t,e,n){const i=d(this,ye).findParent(e,n);return i===null||i===this?!1:(i.changeParent(t),!0)}commitOrRemove(){return d(this,ol)?(this.endDrawingSession(),!0):!1}onScaleChanging(){d(this,ol)&&d(this,ci,tc).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=d(this,ye).getActive())==null?void 0:t.parent)===this&&(d(this,ye).commitOrRemove(),d(this,ye).setActiveEditor(null)),d(this,Yu)&&(clearTimeout(d(this,Yu)),N(this,Yu,null));for(const n of d(this,Wa).values())(e=d(this,yp))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,d(this,Wa).clear(),d(this,ye).removeLayer(this)}render({viewport:t}){this.viewport=t,Ep(this.div,t);for(const e of d(this,ye).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,ye).commitOrRemove(),P(this,ci,YB).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Ep(this.div,{rotation:n}),e!==n)for(const i of d(this,Wa).values())i.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,ye).viewParameters.realScale}};yp=new WeakMap,Q1=new WeakMap,Yd=new WeakMap,Wd=new WeakMap,Yu=new WeakMap,Wa=new WeakMap,$d=new WeakMap,I1=new WeakMap,D1=new WeakMap,ol=new WeakMap,Wu=new WeakMap,os=new WeakMap,$u=new WeakMap,Jd=new WeakMap,k1=new WeakMap,ye=new WeakMap,Zd=new WeakMap,ci=new WeakSet,j_=function(){return d(this,Wa).size!==0?d(this,Wa).values():d(this,ye).getEditors(this.pageIndex)},fD=function(t){d(this,ye).unselectAll();const{target:e}=t;if(e===d(this,os).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,os).div.contains(e)){const{isMac:n}=Fs.platform;if(t.button!==0||t.ctrlKey&&n)return;d(this,ye).showAllEditors("highlight",!0,!0),d(this,os).div.classList.add("free"),this.toggleDrawing(),x5.startHighlighting(this,d(this,ye).direction==="ltr",{target:d(this,os).div,x:t.x,y:t.y}),d(this,os).div.addEventListener("pointerup",()=>{d(this,os).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,ye)._signal}),t.preventDefault()}},tc=function(){return d(Yo,Zd).get(d(this,ye).getMode())},K_=function(t){const e=d(this,ci,tc);return e?new e.prototype.constructor(t):null},z_=function(){const{x:t,y:e,width:n,height:i}=this.boundingClientRect,s=Math.max(0,t),A=Math.max(0,e),l=Math.min(window.innerWidth,t+n),c=Math.min(window.innerHeight,e+i),h=(s+l)/2-t,f=(A+c)/2-e,[p,w]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:p,offsetY:w}},YB=function(){for(const t of d(this,Wa).values())t.isEmpty()&&t.remove()},Wt(Yo,"_initialized",!1),O(Yo,Zd,new Map([B_,T_,M_,x5,R_].map(t=>[t._editorType,t])));let P_=Yo;var ll,ua,bp,fb,z5,gD,_c,V_,pD,q_;const Or=class Or{constructor({pageIndex:t}){O(this,_c);O(this,ll,null);O(this,ua,new Map);O(this,bp,new Map);this.pageIndex=t}setParent(t){if(!d(this,ll)){N(this,ll,t);return}if(d(this,ll)!==t){if(d(this,ua).size>0)for(const e of d(this,ua).values())e.remove(),t.append(e);N(this,ll,t)}}static get _svgFactory(){return nn(this,"_svgFactory",new B5)}draw(t,e=!1,n=!1){const i=Ir(Or,fb)._++,s=P(this,_c,V_).call(this),A=Or._svgFactory.createElement("defs");s.append(A);const l=Or._svgFactory.createElement("path");A.append(l);const c=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),e&&d(this,bp).set(i,l);const h=n?P(this,_c,pD).call(this,A,c):null,f=Or._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${c}`),this.updateProperties(s,t),d(this,ua).set(i,s),{id:i,clipPathId:`url(#${h})`}}drawOutline(t,e){const n=Ir(Or,fb)._++,i=P(this,_c,V_).call(this),s=Or._svgFactory.createElement("defs");i.append(s);const A=Or._svgFactory.createElement("path");s.append(A);const l=`path_p${this.pageIndex}_${n}`;A.setAttribute("id",l),A.setAttribute("vector-effect","non-scaling-stroke");let c;if(e){const p=Or._svgFactory.createElement("mask");s.append(p),c=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const w=Or._svgFactory.createElement("rect");p.append(w),w.setAttribute("width","1"),w.setAttribute("height","1"),w.setAttribute("fill","white");const v=Or._svgFactory.createElement("use");p.append(v),v.setAttribute("href",`#${l}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const h=Or._svgFactory.createElement("use");i.append(h),h.setAttribute("href",`#${l}`),c&&h.setAttribute("mask",`url(#${c})`);const f=h.cloneNode();return i.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,t),d(this,ua).set(n,i),n}finalizeDraw(t,e){d(this,bp).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var c;if(!e)return;const{root:n,bbox:i,rootClass:s,path:A}=e,l=typeof t=="number"?d(this,ua).get(t):t;if(l){if(n&&P(this,_c,q_).call(this,l,n),i&&P(c=Or,z5,gD).call(c,l,i),s){const{classList:h}=l;for(const[f,p]of Object.entries(s))h.toggle(f,p)}if(A){const f=l.firstChild.firstChild;P(this,_c,q_).call(this,f,A)}}}updateParent(t,e){if(e===this)return;const n=d(this,ua).get(t);n&&(d(e,ll).append(n),d(this,ua).delete(t),d(e,ua).set(t,n))}remove(t){d(this,bp).delete(t),d(this,ll)!==null&&(d(this,ua).get(t).remove(),d(this,ua).delete(t))}destroy(){N(this,ll,null);for(const t of d(this,ua).values())t.remove();d(this,ua).clear(),d(this,bp).clear()}};ll=new WeakMap,ua=new WeakMap,bp=new WeakMap,fb=new WeakMap,z5=new WeakSet,gD=function(t,[e,n,i,s]){const{style:A}=t;A.top=`${100*n}%`,A.left=`${100*e}%`,A.width=`${100*i}%`,A.height=`${100*s}%`},_c=new WeakSet,V_=function(){const t=Or._svgFactory.create(1,1,!0);return d(this,ll).append(t),t.setAttribute("aria-hidden",!0),t},pD=function(t,e){const n=Or._svgFactory.createElement("clipPath");t.append(n);const i=`clip_${e}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Or._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),i},q_=function(t,e){for(const[n,i]of Object.entries(e))i===null?t.removeAttribute(n):t.setAttribute(n,i)},O(Or,z5),O(Or,fb,0);let G_=Or;globalThis._pdfjsTestingUtils={HighlightOutliner:x_};globalThis.pdfjsLib={AbortException:uf,AnnotationEditorLayer:P_,AnnotationEditorParamsType:Bn,AnnotationEditorType:Xe,AnnotationEditorUIManager:Sp,AnnotationLayer:v_,AnnotationMode:sd,AnnotationType:Br,applyOpacity:Ez,build:TG,ColorPicker:y5,createValidAbsoluteUrl:cI,CSSConstants:xz,DOMSVGFactory:B5,DrawLayer:G_,FeatureTest:Fs,fetchData:yb,findContrastColor:Sz,getDocument:x4,getFilenameFromUrl:wz,getPdfFilenameFromUrl:vz,getRGB:Bb,getUuid:dI,getXfaPageViewport:bz,GlobalWorkerOptions:ul,ImageKind:mB,InvalidPDFException:yS,isDataScheme:cC,isPdfFile:y4,isValidExplicitDest:kz,MathClamp:fa,noContextMenu:Eo,normalizeUnicode:gz,OPS:Nv,OutputScale:Sc,PasswordResponses:az,PDFDataRangeTransport:g6,PDFDateString:f5,PDFWorker:Iv,PermissionFlag:sz,PixelsPerInch:hf,RenderingCancelledException:v4,renderRichText:pI,ResponseException:d5,setLayerDimensions:Ep,shadow:nn,SignatureExtractor:Ju,stopEvent:er,SupportedImageMimeTypes:BS,TextLayer:Qv,TouchManager:p5,updateUrlHash:uI,Util:fe,VerbosityLevel:AC,version:NG,XfaLayer:gI};ul.workerSrc="https://aistudiocdn.com/pdfjs-dist@5.4.296/build/pdf.worker.min.mjs";const nV=({request:r,onClose:t})=>{var x;const e=It.useRef([]),[n,i]=It.useState(null),[s,A]=It.useState(""),{addPdfComment:l,getUserById:c}=Lp(),{currentUser:h}=Fc(),f=It.useRef(null),p=It.useCallback(async(B,F)=>{try{const S=await F.getPage(B),L=S.getViewport({scale:1.5}),T=e.current[B-1];if(!T)return;const k=T.getContext("2d");if(!k)return;T.height=L.height,T.width=L.width;const R={canvasContext:k,viewport:L};await S.render(R).promise}catch(S){console.error(`Failed to render PDF page ${B}:`,S)}},[]);It.useEffect(()=>{(async()=>{if(r.fileURL)try{const S=new URL(r.fileURL).pathname.split("/"),L=S.findIndex(et=>et==="request_attachments");if(L===-1||L+1>=S.length)throw new Error("Could not parse file path from URL");const T=S.slice(L+1).join("/"),{data:k,error:R}=await Gi.storage.from("request_attachments").download(T);if(R)throw R;if(!k)throw new Error("PDF download returned null.");const M=await k.arrayBuffer(),V=await x4({data:M}).promise;i(V),e.current=Array(V.numPages).fill(null)}catch(F){console.error("Failed to load PDF:",F)}})()},[r.fileURL]),It.useEffect(()=>{if(n)for(let B=1;B<=n.numPages;B++)p(B,n)},[n,p]),It.useEffect(()=>{var B;(B=f.current)==null||B.scrollIntoView({behavior:"smooth"})},[r.pdfComments]);const w=async B=>{if(B.preventDefault(),!s.trim()||!h)return;const F=await l(r.id,h.id,h.email,s);F.success?A(""):alert(`Failed to add comment: ${F.error}`)},v=(h==null?void 0:h.role)===bo.ADMIN&&r.status===be.PENDING||r.status===be.PENDING&&((x=r.approvalQueue[r.currentApproverIndex])==null?void 0:x.userId)===(h==null?void 0:h.id);return U.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex flex-col z-50 p-4 font-sans",children:[U.jsxs("div",{className:"flex-shrink-0 bg-gray-800 text-white p-2 rounded-t-lg flex justify-between items-center",children:[U.jsxs("h2",{className:"text-lg font-semibold truncate px-2",children:["Document Viewer: ",r.fileName]}),U.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-700",children:U.jsx(Up,{size:20})})]}),U.jsxs("div",{className:"flex-grow flex min-h-0",children:[U.jsx("div",{className:"flex-grow overflow-y-auto bg-gray-600 p-4",children:U.jsxs("div",{className:"space-y-4 max-w-4xl mx-auto",children:[n&&Array.from(new Array(n.numPages),(B,F)=>U.jsx("div",{className:"shadow-lg",children:U.jsx("canvas",{ref:S=>{e.current[F]=S}})},`page-${F+1}`)),!n&&U.jsx("p",{className:"text-white text-center",children:"Loading PDF..."})]})}),U.jsxs("div",{className:"w-96 bg-white flex flex-col flex-shrink-0 rounded-b-lg lg:rounded-b-none lg:rounded-r-lg",children:[U.jsx("h3",{className:"text-lg font-bold text-gray-800 p-4 border-b",children:"Comments"}),U.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-4",children:[(r.pdfComments||[]).map((B,F)=>{const S=c(B.userId),L=S?S.email:B.userEmail;return U.jsxs("div",{className:"flex items-start",children:[U.jsx("div",{className:"w-8 h-8 rounded-full bg-zankli-orange-100 text-zankli-orange-700 flex items-center justify-center font-bold text-sm flex-shrink-0 mr-3",children:L?L.charAt(0).toUpperCase():"?"}),U.jsxs("div",{children:[U.jsxs("div",{className:"flex items-baseline space-x-2",children:[U.jsx("p",{className:"font-semibold text-sm text-gray-800",children:L||"Unknown User"}),U.jsx("p",{className:"text-xs text-gray-400",children:new Date(B.createdAt).toLocaleTimeString()})]}),U.jsx("div",{className:"bg-gray-100 p-2 rounded-lg mt-1",children:U.jsx("p",{className:"text-sm text-gray-700",children:B.comment})})]})]},F)}),U.jsx("div",{ref:f}),(!r.pdfComments||r.pdfComments.length===0)&&U.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No comments yet."})]}),v&&U.jsx("div",{className:"p-4 border-t bg-gray-50",children:U.jsxs("form",{onSubmit:w,className:"flex items-center space-x-2",children:[U.jsx("textarea",{value:s,onChange:B=>A(B.target.value),placeholder:"Add a comment...",className:"w-full p-2 border rounded-md text-sm focus:ring-zankli-orange-500 focus:border-zankli-orange-500",rows:2}),U.jsx("button",{type:"submit",disabled:!s.trim(),className:"p-2 rounded-full bg-zankli-orange-600 text-white hover:bg-zankli-orange-700 disabled:bg-gray-400",children:U.jsx(s4,{size:18})})]})})]})]})]})};ul.workerSrc="https://aistudiocdn.com/pdfjs-dist@5.4.296/build/pdf.worker.min.mjs";const iV=It.memo(({pageNum:r,pdfDoc:t,onRendered:e})=>{const n=It.useRef(null);return It.useEffect(()=>{t&&(async()=>{try{const s=await t.getPage(r),A=s.getViewport({scale:1.5}),l=n.current;if(!l)return;const c=l.getContext("2d");if(!c)return;l.height=A.height,l.width=A.width,await s.render({canvasContext:c,viewport:A}).promise}catch(s){console.error(`Failed to render PDF page ${r}:`,s)}finally{e()}})()},[r,t,e]),U.jsx("canvas",{ref:n,style:{border:"1px solid #ccc",maxWidth:"100%",breakInside:"avoid",marginBottom:"16px"}})}),rV=It.forwardRef(({request:r,onReady:t},e)=>{var p,w,v,x;const[n,i]=It.useState(null),[s,A]=It.useState(0),{getUserById:l}=Lp(),c=It.useRef(!1),h=It.useCallback(()=>{A(B=>B+1)},[]);It.useEffect(()=>{(async()=>{if(r.fileURL)try{const S=new URL(r.fileURL).pathname.split("/"),L=S.findIndex(et=>et==="request_attachments");if(L===-1||L+1>=S.length)throw new Error("Could not parse file path from URL");const T=S.slice(L+1).join("/"),{data:k,error:R}=await Gi.storage.from("request_attachments").download(T);if(R)throw R;if(!k)throw new Error("PDF download returned null.");const M=await k.arrayBuffer(),V=await x4({data:M}).promise;i(V)}catch(F){console.error("Failed to load PDF for preview:",F)}})()},[r.fileURL]),It.useEffect(()=>{if(c.current)return;if(!n||s>0&&s===n.numPages){const F=requestAnimationFrame(()=>{c.current||(t(),c.current=!0)});return()=>cancelAnimationFrame(F)}},[n,s,t]);const f=({status:B})=>{const F={[be.PENDING]:{bg:"#FEF3C7",text:"#92400E"},[be.APPROVED]:{bg:"#D1FAE5",text:"#065F46"},[be.REJECTED]:{bg:"#FEE2E2",text:"#991B1B"},[be.SENT_BACK]:{bg:"#DBEAFE",text:"#1E40AF"},[be.COMPLETED]:{bg:"#E0E7FF",text:"#3730A3"}},S={padding:"4px 12px",borderRadius:"9999px",fontSize:"12px",fontWeight:600,backgroundColor:F[B].bg,color:F[B].text};return U.jsx("span",{style:S,children:B})};return U.jsx("div",{ref:e,style:{width:"210mm",backgroundColor:"white",color:"#1f2937",fontFamily:"sans-serif"},children:U.jsxs("div",{style:{padding:"24px"},children:[U.jsxs("header",{style:{borderBottom:"2px solid #f3f4f6",paddingBottom:"16px",marginBottom:"24px"},children:[U.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#c8410c"},children:"Zankli Medical Centre"}),U.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[U.jsxs("h2",{style:{fontSize:"20px",fontWeight:"600"},children:[r.type," - ",r.id]}),U.jsx(f,{status:r.status})]})]}),U.jsxs("section",{style:{marginBottom:"24px"},children:[U.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"12px"},children:"Request Details"}),U.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[U.jsx(oB,{label:"Subject",value:((p=r.details)==null?void 0:p.subject)||""}),U.jsx(oB,{label:"Requester",value:`${r.requesterName} (${(w=l(r.requesterId))==null?void 0:w.email})`}),U.jsx(oB,{label:"Submitted On",value:new Date(r.createdAt).toLocaleString()})]}),U.jsx("div",{style:{marginTop:"16px"},children:Object.entries(r.details||{}).filter(([B])=>!["subject","items","grandTotal"].includes(B)).map(([B,F])=>{const L=["unitCost","totalCost","costPerLiter","finalAmount"].includes(B)&&F?Number(F).toLocaleString("en-NG",{style:"currency",currency:"NGN"}):String(F);return U.jsx(oB,{label:B.replace(/([A-Z])/g," $1"),value:L},B)})})]}),r.type==="Store Requisition"&&U.jsxs("section",{style:{marginBottom:"24px"},children:[U.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"12px"},children:"Requested Items"}),U.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[U.jsx("thead",{style:{backgroundColor:"#f9fafb"},children:U.jsxs("tr",{children:[U.jsx("th",{style:{padding:"8px",textAlign:"left",border:"1px solid #e5e7eb"},children:"Item"}),U.jsx("th",{style:{padding:"8px",textAlign:"center",border:"1px solid #e5e7eb"},children:"Qty"}),U.jsx("th",{style:{padding:"8px",textAlign:"right",border:"1px solid #e5e7eb"},children:"Unit Cost"}),U.jsx("th",{style:{padding:"8px",textAlign:"right",border:"1px solid #e5e7eb"},children:"Total"})]})}),U.jsx("tbody",{children:(((v=r.details)==null?void 0:v.items)||[]).map(B=>U.jsxs("tr",{children:[U.jsx("td",{style:{padding:"8px",border:"1px solid #e5e7eb"},children:B.itemName}),U.jsx("td",{style:{padding:"8px",textAlign:"center",border:"1px solid #e5e7eb"},children:B.quantity}),U.jsx("td",{style:{padding:"8px",textAlign:"right",border:"1px solid #e5e7eb"},children:(B.unitCost||0).toLocaleString()}),U.jsx("td",{style:{padding:"8px",textAlign:"right",border:"1px solid #e5e7eb"},children:(B.totalCost||0).toLocaleString()})]},B.itemId))}),U.jsx("tfoot",{children:U.jsxs("tr",{style:{fontWeight:"bold"},children:[U.jsx("td",{colSpan:3,style:{padding:"8px",textAlign:"right",border:"1px solid #e5e7eb"},children:"Grand Total"}),U.jsx("td",{style:{padding:"8px",textAlign:"right",border:"1px solid #e5e7eb"},children:(((x=r.details)==null?void 0:x.grandTotal)||0).toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]})})]})]}),U.jsxs("section",{style:{marginBottom:"24px",breakInside:"avoid"},children:[U.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"12px"},children:"Approval Workflow"}),U.jsxs("div",{style:{borderLeft:"2px solid #e5e7eb",paddingLeft:"16px",marginLeft:"8px"},children:[U.jsxs("div",{style:{position:"relative",marginBottom:"24px"},children:[U.jsx("div",{style:{position:"absolute",left:"-26px",top:"0",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:"#10B981",border:"2px solid white"}}),U.jsx("p",{style:{fontWeight:"600"},children:"Request Submitted"}),U.jsxs("p",{style:{fontSize:"12px",color:"#6b7280"},children:["by ",r.requesterName," on ",new Date(r.createdAt).toLocaleString()]}),r.requesterSignature&&U.jsx("div",{style:{marginTop:"8px",padding:"4px",border:"1px solid #e5e7eb",borderRadius:"4px",backgroundColor:"#f9fafb",display:"inline-block"},children:U.jsx("img",{src:r.requesterSignature,alt:"Requester's Signature",style:{height:"48px"}})})]}),(r.approvalQueue||[]).map((B,F)=>{const S=l(B.userId),L={[be.PENDING]:"#FBBF24",[be.APPROVED]:"#34D399",[be.REJECTED]:"#F87171",[be.SENT_BACK]:"#60A5FA"};return U.jsxs("div",{style:{position:"relative",marginBottom:"24px"},children:[U.jsx("div",{style:{position:"absolute",left:"-26px",top:"0",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:L[B.status]||"#d1d5db",border:"2px solid white"}}),U.jsxs("p",{style:{fontWeight:"600"},children:[F+1,". ",S==null?void 0:S.email]}),U.jsxs("p",{style:{fontSize:"12px",fontWeight:"bold",color:"#6b7280"},children:["Status: ",B.status]}),B.approvedAt&&U.jsx("p",{style:{fontSize:"12px",color:"#6b7280"},children:new Date(B.approvedAt).toLocaleString()}),B.comments&&U.jsxs("p",{style:{fontStyle:"italic",backgroundColor:"#f3f4f6",padding:"8px",borderRadius:"4px",marginTop:"4px"},children:['"',B.comments,'"']}),B.hodComments&&U.jsxs("p",{style:{fontStyle:"italic",color:"#c8410c",backgroundColor:"#fff4ec",padding:"8px",borderRadius:"4px",marginTop:"4px"},children:['HOD: "',B.hodComments,'"']}),B.internalAuditComments&&U.jsxs("p",{style:{fontStyle:"italic",color:"#5b21b6",backgroundColor:"#f5f3ff",padding:"8px",borderRadius:"4px",marginTop:"4px"},children:['Audit: "',B.internalAuditComments,'"']}),B.finalAmount!==void 0&&B.finalAmount!==null&&U.jsxs("p",{style:{fontWeight:"bold",color:"#5b21b6",backgroundColor:"#f5f3ff",padding:"8px",borderRadius:"4px",marginTop:"4px"},children:["Final Amount: ",B.finalAmount.toLocaleString("en-NG",{style:"currency",currency:"NGN"})]}),B.signature&&U.jsx("div",{style:{marginTop:"8px",padding:"4px",border:"1px solid #e5e7eb",borderRadius:"4px",backgroundColor:"#f9fafb",display:"inline-block"},children:U.jsx("img",{src:B.signature,alt:"Signature",style:{height:"48px"}})})]},F)})]})]}),r.pdfComments&&r.pdfComments.length>0&&U.jsxs("section",{style:{marginBottom:"24px",breakInside:"avoid"},children:[U.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"12px"},children:"Document Comments"}),r.pdfComments.map((B,F)=>{const S=l(B.userId),L=S?S.email:B.userEmail;return U.jsxs("div",{style:{marginBottom:"12px",padding:"8px",backgroundColor:"#f9fafb",borderRadius:"4px"},children:[U.jsx("p",{style:{fontWeight:"bold",fontSize:"14px"},children:L||"Unknown User"}),U.jsx("p",{style:{fontSize:"12px",color:"#6b7280"},children:new Date(B.createdAt).toLocaleString()}),U.jsx("p",{style:{marginTop:"4px",fontSize:"14px"},children:B.comment})]},F)})]}),r.fileURL&&U.jsxs("section",{style:{breakBefore:"page"},children:[U.jsxs("h3",{style:{fontSize:"18px",fontWeight:"bold",borderBottom:"1px solid #e5e7eb",paddingBottom:"8px",marginBottom:"12px"},children:["Attached Document: ",r.fileName]}),U.jsxs("div",{children:[n&&Array.from(new Array(n.numPages),(B,F)=>U.jsx(iV,{pageNum:F+1,pdfDoc:n,onRendered:h},`pdf-page-${F}`)),!n&&r.fileURL&&U.jsx("p",{children:"Loading attached document preview..."})]})]})]})})}),oB=It.memo(({label:r,value:t})=>U.jsxs("div",{style:{marginBottom:"8px",breakInside:"avoid"},children:[U.jsx("p",{style:{fontSize:"12px",color:"#6b7280",textTransform:"capitalize"},children:r}),U.jsx("p",{style:{fontWeight:"500"},children:t})]})),sV=({request:r,onClose:t,onEdit:e,onCreateProcurement:n})=>{var X,nt,at,ht,gt;const{updateRequestStatus:i,getUserById:s,users:A}=Lp(),{currentUser:l}=Fc(),{getVendorById:c}=A4(),[h,f]=It.useState(""),[p,w]=It.useState(""),[v,x]=It.useState(""),[B,F]=It.useState(""),[S,L]=It.useState(!1),T=It.useRef(null),[k,R]=It.useState(!1),[M,j]=It.useState(null),[V,et]=It.useState(!1),ut=It.useRef(null),H="auditorzankli@gmail.com",G=It.useMemo(()=>r.vendorId?c(r.vendorId):null,[r.vendorId,c]),tt=(l==null?void 0:l.role)===bo.ADMIN,it=A.find(ft=>ft.email===H),mt=it?it.id:null,q=It.useMemo(()=>{if(!l||r.status!==be.PENDING||r.type===_e.ITEM||!r.approvalQueue||r.approvalQueue.length<=r.currentApproverIndex)return!1;const ft=r.approvalQueue[r.currentApproverIndex];return(ft==null?void 0:ft.userId)===l.id},[l,r]),rt=It.useMemo(()=>{var ft;return r.type===_e.LEAVE&&q&&(l==null?void 0:l.id)===((ft=r.details)==null?void 0:ft.selectedHODId)},[r,l,q]),lt=It.useMemo(()=>q&&(l==null?void 0:l.id)===mt,[q,l,mt]),yt=async ft=>{var $t;if(!l)return;j(null),R(!0);const Ct=($t=T.current)==null?void 0:$t.getSignature();if(!Ct){j("Please provide your signature to complete this action."),R(!1);return}if(ft===be.SENT_BACK&&!h.trim()){j("Comments are required when sending a request back for correction."),R(!1);return}const qt=parseFloat(B),jt=lt?{internalAuditComments:v,finalAmount:!B||isNaN(qt)?void 0:qt}:void 0,Zt=await i(r.id,l.id,ft,h,Ct,rt?p:void 0,jt);Zt.success?t():(j(Zt.error),R(!1))},Et=It.useCallback(async()=>{const ft=ut.current;if(!ft){console.error("PDF layout element ref is not available."),et(!1);return}try{const qt=Array.from(ft.getElementsByTagName("img")).map(te=>new Promise((me,Ce)=>{te.complete&&te.naturalHeight!==0?me():(te.onload=()=>me(),te.onerror=()=>Ce(new Error(`Could not load image: ${te.src.substring(0,100)}...`)))}));await Promise.all(qt);const jt=await lI(ft,{scale:2,useCORS:!0,logging:!1}),Zt=jt.toDataURL("image/png"),$t=new De("p","mm","a4"),Gt=$t.internal.pageSize.getWidth(),Ut=jt.width,ot=jt.height,le=Ut/Gt,ee=ot/le,Vt=$t.internal.pageSize.getHeight();let Jt=ee,ie=0;for($t.addImage(Zt,"PNG",0,ie,Gt,ee),Jt-=Vt;Jt>0;)ie=ie-Vt,$t.addPage(),$t.addImage(Zt,"PNG",0,ie,Gt,ee),Jt-=Vt;$t.save(`request-${r.id}.pdf`)}catch(Ct){console.error("Error generating PDF:",Ct),alert(`An error occurred while generating the PDF: ${Ct.message}`)}finally{et(!1)}},[r.id]),st=()=>{V||et(!0)},I=({status:ft})=>{switch(ft){case be.APPROVED:return U.jsx(UM,{className:"w-5 h-5 text-green-500"});case be.REJECTED:return U.jsx(QM,{className:"w-5 h-5 text-red-500"});case be.SENT_BACK:return U.jsx(s4,{className:"w-5 h-5 text-blue-500"});default:return U.jsx(DM,{className:"w-5 h-5 text-yellow-500"})}};return S&&r.fileURL?U.jsx(nV,{request:r,onClose:()=>L(!1)}):U.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:[V&&U.jsx("div",{style:{position:"absolute",left:"-9999px",top:0,zIndex:-1,width:"210mm"},children:U.jsx(rV,{ref:ut,request:r,onReady:Et})}),U.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[U.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[U.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[r.type," - ",r.id]}),U.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:U.jsx(Up,{className:"w-6 h-6"})})]}),U.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("h3",{className:"font-semibold text-gray-700",children:"Subject"}),U.jsx("p",{className:"text-gray-600",children:((X=r.details)==null?void 0:X.subject)||"No Subject"})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"font-semibold text-gray-700",children:"Requester"}),U.jsxs("p",{className:"text-gray-600",children:[r.requesterName," (",(nt=s(r.requesterId))==null?void 0:nt.email,")"]})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"font-semibold text-gray-700",children:"Submitted On"}),U.jsx("p",{className:"text-gray-600",children:new Date(r.createdAt).toLocaleString()})]}),r.requesterSignature&&U.jsxs("div",{children:[U.jsx("h3",{className:"font-semibold text-gray-700",children:"Requester's Signature"}),U.jsx("div",{className:"mt-1 p-2 border rounded-md bg-gray-50 inline-block",children:U.jsx("img",{src:r.requesterSignature,alt:"Requester's Signature",className:"h-16"})})]}),G&&U.jsxs("div",{children:[U.jsx("h3",{className:"font-semibold text-gray-700",children:"Vendor"}),U.jsx("p",{className:"text-gray-600",children:G.name})]}),U.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[U.jsx("h3",{className:"font-semibold text-gray-700",children:"Details"}),Object.entries(r.details||{}).filter(([ft])=>!["subject","selectedHODId","items","grandTotal"].includes(ft)).map(([ft,Ct])=>{const jt=["unitCost","totalCost","costPerLiter","finalAmount"].includes(ft)&&typeof Ct=="number"?Number(Ct).toLocaleString("en-NG",{style:"currency",currency:"NGN"}):String(Ct);return U.jsxs("div",{className:"flex text-sm",children:[U.jsxs("span",{className:"font-medium text-gray-500 capitalize w-36",children:[ft.replace(/([A-Z])/g," $1"),":"]}),U.jsx("span",{className:"text-gray-800",children:jt})]},ft)})]}),r.type===_e.STORE&&((at=r.details)==null?void 0:at.items)&&U.jsxs("div",{className:"pt-4 mt-4 border-t",children:[U.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Requested Items"}),U.jsx("div",{className:"border rounded-lg overflow-hidden",children:U.jsxs("table",{className:"w-full text-sm",children:[U.jsx("thead",{className:"bg-gray-50",children:U.jsxs("tr",{children:[U.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:"Item"}),U.jsx("th",{className:"px-3 py-2 text-center font-medium text-gray-600",children:"Qty"}),U.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"Unit Cost"}),U.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-600",children:"Total Cost"})]})}),U.jsx("tbody",{children:(((ht=r.details)==null?void 0:ht.items)||[]).map(ft=>U.jsxs("tr",{className:"border-b last:border-0",children:[U.jsx("td",{className:"px-3 py-2",children:ft.itemName}),U.jsx("td",{className:"px-3 py-2 text-center",children:ft.quantity}),U.jsx("td",{className:"px-3 py-2 text-right",children:(ft.unitCost||0).toLocaleString()}),U.jsx("td",{className:"px-3 py-2 text-right font-medium",children:(ft.totalCost||0).toLocaleString()})]},ft.itemId))}),U.jsx("tfoot",{children:U.jsxs("tr",{className:"font-bold bg-gray-50",children:[U.jsx("td",{colSpan:3,className:"px-3 py-2 text-right",children:"Grand Total"}),U.jsx("td",{className:"px-3 py-2 text-right text-base",children:(((gt=r.details)==null?void 0:gt.grandTotal)||0).toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]})})]})})]}),r.fileURL&&U.jsxs("div",{className:"space-y-2",children:[U.jsx("h3",{className:"font-semibold text-gray-700",children:"Attachment"}),U.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[U.jsxs("div",{className:"flex items-center",children:[U.jsx(a8,{className:"h-5 w-5 mr-2 text-gray-400"}),U.jsx("a",{href:r.fileURL,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-zankli-orange-600 hover:underline",children:r.fileName})]}),U.jsxs("button",{onClick:()=>L(!0),className:"flex items-center text-sm text-zankli-orange-600 hover:text-zankli-orange-800",children:[U.jsx(i8,{className:"h-4 w-4 mr-1"})," View Document & Comments"]})]})]})]}),U.jsxs("div",{children:[U.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Approval Queue"}),r.approvalQueue&&r.approvalQueue.length>0?U.jsx("ul",{className:"space-y-4",children:r.approvalQueue.map((ft,Ct)=>{var Zt;const qt=s(ft.userId),jt=r.type===_e.LEAVE&&((Zt=r.details)==null?void 0:Zt.selectedHODId)===ft.userId;return U.jsxs("li",{className:"flex items-start",children:[U.jsx("div",{className:"pt-1",children:U.jsx(I,{status:ft.status})}),U.jsxs("div",{className:"ml-3",children:[U.jsxs("p",{className:"text-sm font-medium text-gray-800 flex items-center",children:[qt==null?void 0:qt.email," ",jt&&U.jsx("span",{className:"ml-2 text-xs font-bold text-zankli-orange-700 bg-zankli-orange-100 px-2 py-0.5 rounded-full",children:"HOD"})]}),U.jsx("p",{className:"text-xs text-gray-500",children:ft.status}),ft.comments&&U.jsxs("p",{className:"text-xs text-gray-600 mt-1 italic",children:['"',ft.comments,'"']}),ft.hodComments&&U.jsxs("p",{className:"text-xs font-semibold text-zankli-orange-800 mt-1",children:["HOD Comments: ",U.jsxs("span",{className:"font-normal italic",children:['"',ft.hodComments,'"']})]}),ft.internalAuditComments&&U.jsxs("p",{className:"text-xs font-semibold text-purple-800 mt-1",children:["Audit Comments: ",U.jsxs("span",{className:"font-normal italic",children:['"',ft.internalAuditComments,'"']})]}),ft.finalAmount!==void 0&&ft.finalAmount!==null&&U.jsxs("p",{className:"text-xs font-semibold text-purple-800 mt-1",children:["Final Amount: ",U.jsx("span",{className:"font-normal",children:ft.finalAmount.toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]}),ft.approvedAt&&U.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(ft.approvedAt).toLocaleString()}),ft.signature&&U.jsx("div",{className:"mt-2 p-1 border rounded-md bg-gray-50 inline-block",children:U.jsx("img",{src:ft.signature,alt:"Approver's Signature",className:"h-12"})})]})]},Ct)})}):U.jsx("p",{className:"text-sm text-gray-500",children:"No approval queue for this request type."})]})]})}),U.jsx("div",{className:"p-4 border-t bg-gray-50 rounded-b-lg flex justify-start",children:U.jsxs("button",{onClick:st,disabled:V,className:"flex items-center px-4 py-2 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 disabled:bg-gray-400 disabled:cursor-wait",children:[V?U.jsx(tf,{className:"h-4 w-4 mr-2 animate-spin"}):U.jsx(RM,{className:"h-4 w-4 mr-2"}),V?"Generating PDF...":"Download as PDF"]})}),q&&r.status===be.PENDING&&U.jsxs("div",{className:"p-6 border-t bg-gray-50 rounded-b-lg",children:[U.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Take Action"}),M&&U.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 p-3 rounded-lg mb-4 flex items-start",children:[U.jsx(pb,{className:"h-5 w-5 mr-3 flex-shrink-0 mt-0.5"}),U.jsxs("div",{children:[U.jsx("p",{className:"font-bold",children:"Action Failed"}),U.jsx("p",{className:"text-sm",children:M})]})]}),lt&&U.jsxs("div",{className:"bg-purple-50 border border-purple-200 p-3 rounded-md mb-4",children:[U.jsx("h4",{className:"font-bold text-purple-800 mb-2",children:"Internal Audit Section"}),U.jsxs("div",{className:"space-y-3",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internal Audit Comments"}),U.jsx("textarea",{value:v,onChange:ft=>x(ft.target.value),placeholder:"Add internal audit comments...",className:"w-full p-2 border rounded-md text-sm border-purple-300 focus:ring-purple-500 focus:border-purple-500",rows:2})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Final Amount (NGN)"}),U.jsx("input",{type:"number",value:B,onChange:ft=>F(ft.target.value),placeholder:"Enter final approved amount",className:"w-full p-2 border rounded-md text-sm border-purple-300 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[U.jsxs("div",{children:[rt&&U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HOD Comments"}),U.jsx("textarea",{value:p,onChange:ft=>w(ft.target.value),placeholder:"Add HOD specific comments...",className:"w-full p-2 border rounded-md text-sm border-zankli-orange-300 focus:ring-zankli-orange-500 focus:border-zankli-orange-500",rows:2})]}),U.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"General Comments"}),U.jsx("textarea",{value:h,onChange:ft=>f(ft.target.value),placeholder:"Add optional comments...",className:"w-full p-2 border rounded-md text-sm",rows:rt?2:5})]}),U.jsx("div",{children:q&&U.jsx(RT,{ref:T,label:"Your Signature"})})]}),U.jsxs("div",{className:"mt-3 flex justify-end space-x-3",children:[U.jsx("button",{onClick:()=>yt(be.SENT_BACK),disabled:k,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-blue-300 flex items-center justify-center min-w-[110px]",children:k?U.jsx(tf,{className:"animate-spin h-5 w-5"}):"Send Back"}),U.jsx("button",{onClick:()=>yt(be.REJECTED),disabled:k,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 disabled:bg-red-300 flex items-center justify-center min-w-[110px]",children:k?U.jsx(tf,{className:"animate-spin h-5 w-5"}):"Reject"}),U.jsx("button",{onClick:()=>yt(be.APPROVED),disabled:k,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 disabled:bg-green-300 flex items-center justify-center min-w-[110px]",children:k?U.jsx(tf,{className:"animate-spin h-5 w-5"}):"Approve"})]})]}),tt&&r.status===be.SENT_BACK&&e&&U.jsx("div",{className:"p-6 border-t bg-gray-50 rounded-b-lg flex justify-end",children:U.jsxs("button",{onClick:()=>e(r),className:"px-6 py-2 text-sm font-medium text-white bg-zankli-orange-600 rounded-md hover:bg-zankli-orange-700 flex items-center",children:[U.jsx(p8,{className:"h-4 w-4 mr-2"}),"Edit Request"]})}),tt&&r.type===_e.ITEM&&r.status===be.PENDING&&n&&U.jsx("div",{className:"p-6 border-t bg-gray-50 rounded-b-lg flex justify-end",children:U.jsxs("button",{onClick:()=>n(r),className:"px-6 py-2 text-sm font-medium text-white bg-zankli-orange-600 rounded-md hover:bg-zankli-orange-700 flex items-center",children:[U.jsx(TT,{className:"h-4 w-4 mr-2"}),"Create Procurement Request"]})})]})]})},Rw=({label:r,name:t,type:e="text",required:n=!1,onChange:i,value:s})=>U.jsxs("div",{children:[U.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:r}),U.jsx("input",{type:e,name:t,id:t,value:s,required:n,onChange:i,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-zankli-orange-500 focus:border-zankli-orange-500 sm:text-sm"})]}),aV=({isOpen:r,onClose:t,onSubmit:e,newItem:n,setNewItem:i,isSubmitting:s,error:A})=>{if(!r)return null;const l=h=>{const{name:f,value:p,type:w}=h.target;if(w==="number"){const v=parseFloat(p);p===""?i({...n,[f]:0}):!isNaN(v)&&v>=0&&i({...n,[f]:v})}else i({...n,[f]:p})},c=h=>h===0?"":String(h);return U.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:U.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[U.jsxs("div",{className:"flex justify-between items-center mb-4",children:[U.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Add New Store Item"}),U.jsx("button",{onClick:t,children:U.jsx(Up,{className:"text-gray-500"})})]}),U.jsxs("form",{onSubmit:e,className:"space-y-4",children:[U.jsx(Rw,{label:"Item Name",name:"name",value:n.name,onChange:l,required:!0}),U.jsx(Rw,{label:"Purpose",name:"purpose",value:n.purpose,onChange:l,required:!0}),U.jsx(Rw,{label:"Quantity in Stock",name:"quantityInStock",type:"number",value:c(n.quantityInStock),onChange:l,required:!0}),U.jsx(Rw,{label:"Unit Cost (NGN)",name:"unitCost",type:"number",value:c(n.unitCost),onChange:l,required:!0}),U.jsx(Rw,{label:"Last Purchase Date",name:"lastPurchaseDate",type:"date",value:n.lastPurchaseDate,onChange:l,required:!0}),A&&U.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 p-3 text-sm",children:U.jsxs("p",{children:[U.jsx("span",{className:"font-bold",children:"Error:"})," ",A]})}),U.jsx("div",{className:"flex justify-end pt-4",children:U.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-zankli-orange-600 text-white font-semibold rounded-lg hover:bg-zankli-orange-700 disabled:bg-zankli-orange-300",children:s?"Saving...":"Save Item"})})]})]})})},AV=()=>{const{storeItems:r,addStoreItem:t,error:e}=OT(),[n,i]=It.useState(!1),[s,A]=It.useState(!1),[l,c]=It.useState(null),[h,f]=It.useState({name:"",purpose:"",quantityInStock:0,unitCost:0,lastPurchaseDate:new Date().toISOString().split("T")[0]}),p=async v=>{v.preventDefault(),A(!0),c(null);const x={...h,quantityInStock:h.quantityInStock||0,unitCost:h.unitCost||0},B=await t(x);B.success?(f({name:"",purpose:"",quantityInStock:0,unitCost:0,lastPurchaseDate:new Date().toISOString().split("T")[0]}),i(!1)):c(B.error),A(!1)},w=()=>{c(null),f({name:"",purpose:"",quantityInStock:0,unitCost:0,lastPurchaseDate:new Date().toISOString().split("T")[0]}),i(!0)};return U.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[U.jsxs("div",{className:"flex justify-between items-center mb-6",children:[U.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Store Inventory"}),U.jsxs("button",{onClick:w,className:"flex items-center px-4 py-2 bg-zankli-orange-600 text-white font-semibold rounded-lg hover:bg-zankli-orange-700",children:[U.jsx(q5,{size:18,className:"mr-1"}),"Add Item"]})]}),e&&U.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded-lg mb-4 flex items-center",children:[U.jsx(pb,{className:"h-5 w-5 mr-3"}),U.jsxs("div",{children:[U.jsxs("p",{children:[U.jsx("span",{className:"font-bold",children:"Error:"})," Could not load store items."]}),U.jsx("p",{className:"text-sm",children:e})]})]}),U.jsxs("div",{className:"overflow-x-auto border rounded-lg",children:[U.jsxs("table",{className:"w-full text-sm text-left text-gray-500",children:[U.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-zankli-cream-100",children:U.jsxs("tr",{children:[U.jsx("th",{scope:"col",className:"px-6 py-3",children:"Item Name"}),U.jsx("th",{scope:"col",className:"px-6 py-3",children:"Purpose"}),U.jsx("th",{scope:"col",className:"px-6 py-3",children:"In Stock"}),U.jsx("th",{scope:"col",className:"px-6 py-3",children:"Unit Cost"}),U.jsx("th",{scope:"col",className:"px-6 py-3",children:"Last Purchase"})]})}),U.jsx("tbody",{children:r.map(v=>U.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50 last:border-0",children:[U.jsx("td",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap",children:v.name}),U.jsx("td",{className:"px-6 py-4",children:v.purpose}),U.jsx("td",{className:"px-6 py-4",children:v.quantityInStock}),U.jsx("td",{className:"px-6 py-4",children:(v.unitCost||0).toLocaleString("en-NG",{style:"currency",currency:"NGN"})}),U.jsx("td",{className:"px-6 py-4",children:new Date(v.lastPurchaseDate).toLocaleDateString()})]},v.id))})]}),r.length===0&&!e&&U.jsx("div",{className:"text-center text-gray-500 py-8",children:U.jsx("p",{children:"No items found in the store."})})]}),U.jsx(aV,{isOpen:n,onClose:()=>i(!1),onSubmit:p,newItem:h,setNewItem:f,isSubmitting:s,error:l})]})},oV={[_e.DIESEL]:U.jsx(UT,{className:"h-5 w-5 mr-3 text-zankli-orange-500"}),[_e.PROCUREMENT]:U.jsx(TT,{className:"h-5 w-5 mr-3 text-zankli-orange-500"}),[_e.LEAVE]:U.jsx(xM,{className:"h-5 w-5 mr-3 text-zankli-orange-500"}),[_e.ITEM]:U.jsx(LT,{className:"h-5 w-5 mr-3 text-zankli-orange-500"}),[_e.STORE]:U.jsx(a4,{className:"h-5 w-5 mr-3 text-zankli-orange-500"})},lV=()=>{const{currentUser:r,logout:t}=Fc(),{requests:e,updateItemRequestStatus:n,getUserById:i}=Lp(),[s,A]=It.useState("dashboard"),[l,c]=It.useState(null),[h,f]=It.useState(null),[p,w]=It.useState(null),[v,x]=It.useState(!0),[B,F]=It.useState(!1),[S,L]=It.useState(null),[T,k]=It.useState([]),[R,M]=It.useState(!1);It.useEffect(()=>{if(S){const q=e.find(rt=>rt.id===S.id);q?JSON.stringify(S)!==JSON.stringify(q)&&L(q):L(null)}},[e,S]),It.useEffect(()=>{if(!r)return;const q=JSON.parse(localStorage.getItem(`zmc-read-notifs-${r.id}`)||"[]"),rt=[];e.forEach(lt=>{var Et,st;const yt=`notif-${lt.id}-${lt.status}`;if(r.role===bo.APPROVER&&lt.status===be.PENDING&&lt.approvalQueue&&lt.approvalQueue.length>lt.currentApproverIndex&&((Et=lt.approvalQueue[lt.currentApproverIndex])==null?void 0:Et.userId)===r.id){const X=`${yt}-${r.id}`;rt.push({id:X,requestId:lt.id,message:`New request awaiting your approval: ${lt.id}`,isRead:q.includes(X),createdAt:lt.createdAt})}r.role===bo.ADMIN&&([be.SENT_BACK,be.REJECTED,be.COMPLETED].includes(lt.status)&&rt.push({id:yt,requestId:lt.id,message:`Request ${lt.id} has been ${lt.status}.`,isRead:q.includes(yt),createdAt:lt.createdAt}),(st=lt.pdfComments)!=null&&st.length&&lt.pdfComments.forEach(I=>{var ht,gt,ft,Ct;if(I.userId===r.id)return;const X=`notif-comment-${lt.id}-${I.createdAt}`,nt=((ht=I.userEmail)==null?void 0:ht.split("@")[0])||((ft=(gt=i(I.userId))==null?void 0:gt.email)==null?void 0:ft.split("@")[0])||"a user",at=`New comment on ${lt.id} from ${nt}: "${((Ct=I.comment)==null?void 0:Ct.substring(0,40))||""}..."`;rt.push({id:X,requestId:lt.id,message:at,isRead:q.includes(X),createdAt:I.createdAt})}))}),k(rt.sort((lt,yt)=>new Date(yt.createdAt).getTime()-new Date(lt.createdAt).getTime()))},[e,r,i]);const j=q=>{if(!r)return;const rt=JSON.parse(localStorage.getItem(`zmc-read-notifs-${r.id}`)||"[]");if(!rt.includes(q.id)){const yt=[...rt,q.id];localStorage.setItem(`zmc-read-notifs-${r.id}`,JSON.stringify(yt)),k(Et=>Et.map(st=>st.id===q.id?{...st,isRead:!0}:st))}const lt=e.find(yt=>yt.id===q.requestId);lt&&L(lt),M(!1)},V=(q,rt=null)=>{A(q),c(rt),f(null),w(null),window.innerWidth<1024&&F(!1)},et=q=>{f(q),A("edit-request"),window.innerWidth<1024&&F(!1)},ut=async q=>{var lt,yt,Et;const rt=await n(q.id,be.COMPLETED);if(rt.success){const st={subject:`Procurement for: ${((lt=q.details)==null?void 0:lt.item)||"Item Request"}`,quantity:((yt=q.details)==null?void 0:yt.quantity)||1,justification:((Et=q.details)==null?void 0:Et.justification)||"",department:""};w(st),A("create-request"),c(_e.PROCUREMENT),window.innerWidth<1024&&F(!1)}else alert(`Failed to update item request status: ${rt.error}`)},H=(r==null?void 0:r.role)===bo.ADMIN,G=(r==null?void 0:r.role)===bo.APPROVER,tt=()=>{var q;switch(s){case"dashboard":return"Requests Dashboard";case"create-request":return`Create: ${l}`;case"edit-request":return`Editing Request: ${((q=h==null?void 0:h.details)==null?void 0:q.subject)||(h==null?void 0:h.id)}`;case"item-inbox":return"Item Request Inbox";case"vendor-management":return"Vendor Management";case"store-management":return"Store Management";default:return"Dashboard"}},it=()=>U.jsxs(U.Fragment,{children:[U.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden ${B?"block":"hidden"}`,onClick:()=>F(!1)}),U.jsxs("div",{className:`w-64 bg-white h-screen fixed top-0 left-0 flex flex-col shadow-lg z-30 transform transition-transform duration-300 ease-in-out ${B?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[U.jsxs("div",{className:"p-4 border-b border-zankli-cream-200",children:[U.jsx("h1",{className:"text-xl font-bold text-zankli-orange-800",children:"Zankli Medical"}),U.jsx("p",{className:"text-xs text-zankli-cream-900",children:"Internal Portal"})]}),U.jsxs("nav",{className:"flex-grow p-4 space-y-2",children:[U.jsxs("button",{onClick:()=>V("dashboard"),className:`w-full flex items-center p-2 rounded-lg transition-colors ${s==="dashboard"?"bg-zankli-orange-100 text-zankli-orange-800":"text-gray-700 hover:bg-zankli-cream-100"}`,children:[U.jsx(WM,{className:"h-5 w-5 mr-3"}),"Dashboard"]}),H&&U.jsxs(U.Fragment,{children:[U.jsxs("button",{onClick:()=>V("item-inbox"),className:`w-full flex items-center p-2 rounded-lg transition-colors ${s==="item-inbox"?"bg-zankli-orange-100 text-zankli-orange-800":"text-gray-700 hover:bg-zankli-cream-100"}`,children:[U.jsx(VM,{className:"h-5 w-5 mr-3"}),"Item Request Inbox"]}),U.jsxs("button",{onClick:()=>V("store-management"),className:`w-full flex items-center p-2 rounded-lg transition-colors ${s==="store-management"?"bg-zankli-orange-100 text-zankli-orange-800":"text-gray-700 hover:bg-zankli-cream-100"}`,children:[U.jsx(a4,{className:"h-5 w-5 mr-3"}),"Store Management"]}),U.jsxs("button",{onClick:()=>V("vendor-management"),className:`w-full flex items-center p-2 rounded-lg transition-colors ${s==="vendor-management"?"bg-zankli-orange-100 text-zankli-orange-800":"text-gray-700 hover:bg-zankli-cream-100"}`,children:[U.jsx(yM,{className:"h-5 w-5 mr-3"}),"Vendor Management"]})]}),U.jsxs("div",{children:[U.jsxs("button",{onClick:()=>x(!v),className:"w-full flex items-center justify-between p-2 rounded-lg text-gray-700 hover:bg-zankli-cream-100",children:[U.jsxs("div",{className:"flex items-center",children:[U.jsx(PM,{className:"h-5 w-5 mr-3"}),"Create Request"]}),v?U.jsx(_M,{className:"h-4 w-4"}):U.jsx(FT,{className:"h-4 w-4"})]}),v&&U.jsx("ul",{className:"pl-6 mt-1",children:Object.values(_e).map(q=>{const rt=H&&[_e.DIESEL,_e.PROCUREMENT,_e.LEAVE,_e.STORE].includes(q),lt=G&&q===_e.ITEM;return!rt&&!lt?null:U.jsx("li",{className:"mt-1",children:U.jsxs("button",{onClick:()=>V("create-request",q),className:`w-full text-left flex items-center p-2 rounded-lg text-sm transition-colors ${s==="create-request"&&l===q?"bg-zankli-orange-100 text-zankli-orange-800":"text-gray-600 hover:bg-zankli-cream-100"}`,children:[oV[q],q]})},q)})})]})]}),U.jsx("div",{className:"p-4 border-t border-zankli-cream-200",children:U.jsxs("button",{onClick:t,className:"w-full flex items-center p-2 rounded-lg text-gray-700 hover:bg-zankli-cream-100",children:[U.jsx(ZM,{className:"h-5 w-5 mr-3"}),"Logout"]})})]})]}),mt=()=>{const q=T.filter(rt=>!rt.isRead).length;return U.jsxs("header",{className:"bg-white/80 backdrop-blur-sm sticky top-0 z-10 p-4 border-b border-zankli-cream-200 flex justify-between items-center",children:[U.jsxs("div",{className:"flex items-center",children:[U.jsx("button",{className:"lg:hidden mr-4 text-gray-600",onClick:()=>F(!0),children:U.jsx(e8,{className:"h-6 w-6"})}),U.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-gray-800 truncate",children:tt()})]}),U.jsxs("div",{className:"flex items-center space-x-4",children:[U.jsxs("div",{className:"relative",children:[U.jsxs("button",{onClick:()=>M(rt=>!rt),className:"relative",children:[U.jsx(_T,{className:"h-6 w-6 text-gray-500 cursor-pointer hover:text-zankli-orange-600"}),q>0&&U.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:q})]}),R&&U.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-20 border",children:[U.jsx("div",{className:"p-3 font-bold text-gray-700 border-b",children:"Notifications"}),U.jsx("ul",{className:"max-h-96 overflow-y-auto",children:T.length>0?T.map(rt=>U.jsxs("li",{onClick:()=>j(rt),className:`p-3 text-sm border-b hover:bg-gray-100 cursor-pointer ${rt.isRead?"":"bg-zankli-orange-50"}`,children:[U.jsx("p",{className:`${rt.isRead?"text-gray-600":"font-semibold text-gray-800"}`,children:rt.message}),U.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(rt.createdAt).toLocaleString()})]},rt.id)):U.jsx("li",{className:"p-4 text-sm text-gray-500 text-center",children:"No new notifications."})})]})]}),U.jsxs("div",{className:"flex items-center space-x-2",children:[U.jsx(NM,{className:"h-8 w-8 text-gray-400"}),U.jsxs("div",{className:"hidden sm:block",children:[U.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:r==null?void 0:r.email}),U.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r==null?void 0:r.role})]})]})]})]})};return U.jsxs("div",{className:"bg-zankli-cream-100 min-h-screen",children:[U.jsx(it,{}),U.jsxs("main",{className:"flex-1 lg:ml-64",children:[U.jsx(mt,{}),U.jsxs("div",{className:"p-4 sm:p-6",children:[s==="dashboard"&&U.jsx(U8,{onEditRequest:et,onViewRequest:L}),s==="create-request"&&l&&U.jsx(M3,{requestType:l,onFormSubmit:()=>V("dashboard"),initialDetails:l===_e.PROCUREMENT?p:null}),s==="edit-request"&&h&&U.jsx(M3,{requestType:h.type,onFormSubmit:()=>V("dashboard"),requestToEdit:h}),s==="item-inbox"&&U.jsx(I8,{onCreateProcurement:ut,onViewRequest:L}),s==="vendor-management"&&U.jsx(k8,{}),s==="store-management"&&U.jsx(AV,{})]})]}),S&&U.jsx(sV,{request:S,onClose:()=>L(null),onEdit:q=>{L(null),et(q)},onCreateProcurement:q=>{L(null),ut(q)}})]})};function cV(){const{currentUser:r}=Fc();return U.jsx("div",{className:"bg-zankli-cream-100 min-h-screen font-sans",children:r?U.jsx(lV,{}):U.jsx(_8,{})})}const mD=document.getElementById("root");if(!mD)throw new Error("Could not find root element to mount to");const uV=Rk.createRoot(mD);uV.render(U.jsx(Lk.StrictMode,{children:U.jsx(S8,{children:U.jsx(F8,{children:U.jsx(L8,{children:U.jsx(N8,{children:U.jsx(cV,{})})})})})}));export{Vn as _,dV as c,X_ as g};
